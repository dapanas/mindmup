var MAPJS=MAPJS||{},observable=function(a){"use strict";var b=[];return a.addEventListener=function(a,c,d){a.split(" ").forEach(function(a){a&&b.push({type:a,listener:c,priority:d||0})})},a.listeners=function(a){return b.filter(function(b){return b.type===a}).map(function(a){return a.listener})},a.removeEventListener=function(a,c){b=b.filter(function(a){return a.listener!==c})},a.dispatchEvent=function(a){var c=Array.prototype.slice.call(arguments,1);b.filter(function(b){return b.type===a}).sort(function(a,b){return b.priority-a.priority}).some(function(a){try{return a.listener.apply(void 0,c)===!1}catch(b){console.log("dispatchEvent failed",b,a)}})},a};MAPJS.URLHelper={urlPattern:/(https?:\/\/|www\.)[\w-]+(\.[\w-]+)+([\w.,!@?^=%&amp;:\/~+#-]*[\w!@?^=%&amp;\/~+#-])?/i,containsLink:function(a){"use strict";return MAPJS.URLHelper.urlPattern.test(a)},getLink:function(a){"use strict";var b=a.match(MAPJS.URLHelper.urlPattern);return b&&b[0]&&(b=b[0],/https?:\/\//i.test(b)||(b="http://"+b)),b},stripLink:function(a){"use strict";return a.replace(MAPJS.URLHelper.urlPattern,"")}},MAPJS.content=function(a,b){"use strict";var c,d=function(){c=void 0},e=function B(b){return b=b||a,b.ideas?_.reduce(b.ideas,function(a,b){return Math.max(a,B(b))},parseInt(b.id,10)||0):parseInt(b.id,10)||0},f=function(a){return a=a||b,c||(c=e()),c+=1,a?c+"."+a:c},g=function(a,b){return a.id?d():a.id=f(b),a.ideas&&_.each(a.ideas,function(c,d){a.ideas[parseFloat(d)]=g(c,b)}),a.title||(a.title=""),a.containsDirectChild=a.findChildRankById=function(b){return parseFloat(_.reduce(a.ideas,function(a,c,d){return c.id==b?d:a},void 0))},a.findSubIdeaById=function(b){var c=_.find(a.ideas,function(a){return a.id==b});return c||_.reduce(a.ideas,function(a,c){return a||c.findSubIdeaById(b)},void 0)},a.find=function(b){var c=b(a)?[_.pick(a,"id","title")]:[];return 0===_.size(a.ideas)?c:_.reduce(a.ideas,function(a,c){return _.union(a,c.find(b))},c)},a.getAttr=function(b){return a.attr&&a.attr[b]?_.clone(a.attr[b]):!1},a.sortedSubIdeas=function(){if(!a.ideas)return[];var b=[],c=_.groupBy(_.map(_.keys(a.ideas),parseFloat),function(a){return a>0}),d=_.sortBy(c[!0],Math.abs).concat(_.sortBy(c[!1],Math.abs));return _.each(d,function(c){b.push(a.ideas[c])}),b},a.traverse=function(b,c){c||b(a),_.each(a.sortedSubIdeas(),function(a){a.traverse(b,c)}),c&&b(a)},a},h=function(a,b){if(b=b||1,0===_.size(a))return 0;var c=_.keys(a);return c.push(0),_.max(_.map(c,parseFloat),function(a){return a*b})},i=function(b){var c,d,e=1;return b.id==a.id&&(d=_.countBy(b.ideas,function(a,b){return 0>b}),(d["true"]||0)<d["false"]&&(e=-1)),c=h(b.ideas,e)+e},j=function(a,b){var c;return a.ideas=a.ideas||{},c=i(a),a.ideas[c]=b,c},k=function(b){return a.id==b?a:a.findSubIdeaById(b)},l=function(a,b){return _(_.map(_.keys(a.ideas),parseFloat)).reject(function(a){return 0>a*b})},m=function(a){return 0>a?-1:1},n={},o={},p=!1,q={},r=function(b,c,d){d?a.dispatchEvent("changed",b,c,d):a.dispatchEvent("changed",b,c)},s=function(b,c,d,e){var f;return"batch"!==b&&!q[e]&&n&&n[e]&&0!==n[e].length?(f=n[e].pop(),n[e].push("batch"===f.eventMethod?{eventMethod:"batch",eventArgs:f.eventArgs.concat([[b].concat(c)]),undoFunction:function(){d(),f.undoFunction()}}:{eventMethod:"batch",eventArgs:[[f.eventMethod].concat(f.eventArgs)].concat([[b].concat(c)]),undoFunction:function(){d(),f.undoFunction()}}),void(p?a.dispatchEvent("changed","redo",void 0,e):(r(b,c,e),o[e]=[]))):void t(b,c,d,e)},t=function(b,c,d,e){var f={eventMethod:b,eventArgs:c,undoFunction:d};return q[e]?void q[e].push(f):(n[e]||(n[e]=[]),n[e].push(f),void(p?a.dispatchEvent("changed","redo",void 0,e):(r(b,c,e),o[e]=[])))},u=function(a,b,c){a.ideas[b]=a.ideas[c],delete a.ideas[c]},v=function(a){if(a.style){a.attr={};var b=a.style.collapsed;delete a.style.collapsed,a.attr.style=a.style,b&&(a.attr.collapsed=b),delete a.style}a.ideas&&_.each(a.ideas,v)},w=function(a){var b=String(a).indexOf(".");return b>0&&a.substr(b+1)},x={},y={},z="/xxxxxxxx-yxxx-yxxx-yxxx-xxxxxxxxxxxx/".replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"===a?b:3&b|8;return c.toString(16)})+(b||""),A=function(a,b,c){var d;if(!a)return!1;if(d=_.extend({},a.attr),a.attr=_.extend({},a.attr),!c||"false"===c||_.isObject(c)&&_.isEmpty(c)){if(!a.attr[b])return!1;delete a.attr[b]}else{if(_.isEqual(a.attr[b],c))return!1;a.attr[b]=JSON.parse(JSON.stringify(c))}return 0===_.size(a.attr)&&delete a.attr,function(){a.attr=d}};return a.setConfiguration=function(a){y=a||{}},a.getSessionKey=function(){return b},a.nextSiblingId=function(b){var c,d,e,f=a.findParent(b);return f?(c=f.findChildRankById(b),d=l(f,c),e=_.reject(d,function(a){return Math.abs(a)<=Math.abs(c)}),0===e.length?!1:f.ideas[_.min(e,Math.abs)].id):!1},a.sameSideSiblingIds=function(b){var c=a.findParent(b),d=c.findChildRankById(b);return _.without(_.map(_.pick(c.ideas,l(c,d)),function(a){return a.id}),b)},a.getAttrById=function(a,b){var c=k(a);return c&&c.getAttr(b)},a.previousSiblingId=function(b){var c,d,e,f=a.findParent(b);return f?(c=f.findChildRankById(b),d=l(f,c),e=_.reject(d,function(a){return Math.abs(a)>=Math.abs(c)}),0===e.length?!1:f.ideas[_.max(e,Math.abs)].id):!1},a.clone=function(b){var c=b&&b!=a.id&&a.findSubIdeaById(b)||a;return JSON.parse(JSON.stringify(c))},a.cloneMultiple=function(b){return _.map(b,a.clone)},a.calculatePath=function(b,c,d){return a.id==b?[]:(c=c||[a],d=d||a,d.containsDirectChild(b)?c:_.reduce(d.ideas,function(d,e){return d||a.calculatePath(b,[e].concat(c),e)},!1))},a.getSubTreeIds=function(b){var c=[],d=function(a){return _.isEmpty(a.ideas)?[]:void _.each(a.sortedSubIdeas(),function(a){d(a),c.push(a.id)})};return d(a.findSubIdeaById(b)||a),c},a.findParent=function(b,c){return c=c||a,c.containsDirectChild(b)?c:_.reduce(c.ideas,function(c,d){return c||a.findParent(b,d)},!1)},a.startBatch=function(c){var d=c||b;a.endBatch(c),q[d]=[]},a.endBatch=function(a){var c,d,e,f=a||b,g=q[f];q[f]=void 0,_.isEmpty(g)||(1===_.size(g)?t(g[0].eventMethod,g[0].eventArgs,g[0].undoFunction,f):(c=_.map(g,function(a){return[a.eventMethod].concat(a.eventArgs)}),d=_.sortBy(_.map(g,function(a){return a.undoFunction}),function(a,b){return-1*b}),e=function(){_.each(d,function(a){a()})},t("batch",c,e,f)))},a.execCommand=function(c,d,e){return x[c]?x[c].apply(a,[e||b].concat(_.toArray(d))):!1},a.batch=function(b){a.startBatch();try{b()}finally{a.endBatch()}},x.batch=function(b){a.startBatch(b);try{_.each(_.toArray(arguments).slice(1),function(c){a.execCommand(c[0],c.slice(1),b)})}finally{a.endBatch(b)}},a.pasteMultiple=function(b,c){a.startBatch();var d=_.map(c,function(c){return a.paste(b,c)});return a.endBatch(),d},a.paste=function(){return a.execCommand("paste",arguments)},x.paste=function(b,e,f,h){var i,k,l=e==a.id?a:a.findSubIdeaById(e),m=function(a){var b,c,d=_.omit(a,"ideas","id","attr"),e=1;return d.attr=_.omit(a.attr,y.nonClonedAttributes),_.isEmpty(d.attr)&&delete d.attr,a.ideas&&(b=_.groupBy(_.map(_.keys(a.ideas),parseFloat),function(a){return a>0}),c=_.sortBy(b[!0],Math.abs).concat(_.sortBy(b[!1],Math.abs)),d.ideas={},_.each(c,function(b){d.ideas[e++]=m(a.ideas[b])})),d};return h&&(c=parseInt(h,10)-1),i=f&&(f.title||f.attr)&&g(m(f),w(h)),l&&i?(k=j(l,i),h&&d(),A(i,"position"),t("paste",[e,f,i.id],function(){delete l.ideas[k]},b),i.id):!1},a.flip=function(){return a.execCommand("flip",arguments)},x.flip=function(b,c){var d,e,f=a.findChildRankById(c);return f?(e=h(a.ideas,-1*m(f)),d=e-10*m(f),u(a,d,f),t("flip",[c],function(){u(a,f,d)},b),!0):!1},a.initialiseTitle=function(){return a.execCommand("initialiseTitle",arguments)},x.initialiseTitle=function(a,b,c){var d,e=k(b);return e?(d=e.title,d==c?!1:(e.title=c,s("initialiseTitle",[b,c],function(){e.title=d},a),!0)):!1},a.updateTitle=function(){return a.execCommand("updateTitle",arguments)},x.updateTitle=function(a,b,c){var d,e=k(b);return e?(d=e.title,d==c?!1:(e.title=c,t("updateTitle",[b,c],function(){e.title=d},a),!0)):!1},a.addSubIdea=function(){return a.execCommand("addSubIdea",arguments)},x.addSubIdea=function(a,b,c,d){var e,f,h=k(b);return h?d&&k(d)?!1:(e=g({title:c,id:d}),f=j(h,e),t("addSubIdea",[b,c,e.id],function(){delete h.ideas[f]},a),e.id):!1},a.removeMultiple=function(b){a.startBatch();var c=_.map(b,a.removeSubIdea);return a.endBatch(),c},a.removeSubIdea=function(){return a.execCommand("removeSubIdea",arguments)},x.removeSubIdea=function(b,c){var d,e,f,g=a.findParent(c);return g?(d=g.findChildRankById(c),e=g.ideas[d],delete g.ideas[d],f=a.links,a.links=_.reject(a.links,function(a){return a.ideaIdFrom==c||a.ideaIdTo==c}),t("removeSubIdea",[c],function(){g.ideas[d]=e,a.links=f},b),!0):!1},a.insertIntermediateMultiple=function(b){a.startBatch();var c=a.insertIntermediate(b[0]);return _.each(b.slice(1),function(b){a.changeParent(b,c)}),a.endBatch(),c},a.insertIntermediate=function(){return a.execCommand("insertIntermediate",arguments)},x.insertIntermediate=function(b,c,d,e){if(a.id==c)return!1;var f,h,i,j=a.findParent(c);return j?e&&k(e)?!1:(f=j.findChildRankById(c))?(h=j.ideas[f],i=g({title:d,id:e}),j.ideas[f]=i,i.ideas={1:h},t("insertIntermediate",[c,d,i.id],function(){j.ideas[f]=h},b),i.id):!1:!1},a.changeParent=function(){return a.execCommand("changeParent",arguments)},x.changeParent=function(b,c,d){var e,f,g,h,i,l=k(d);return c==d?!1:l&&(h=a.findSubIdeaById(c))?h.findSubIdeaById(d)?!1:l.containsDirectChild(c)?!1:(e=a.findParent(c))?(f=e.findChildRankById(c),g=j(l,h),i=h.getAttr("position"),A(h,"position"),delete e.ideas[f],t("changeParent",[c,d],function(){A(h,"position",i),e.ideas[f]=h,delete l.ideas[g]},b),!0):!1:!1},a.mergeAttrProperty=function(b,c,d,e){var f=a.getAttrById(b,c)||{};return e?f[d]=e:delete f[d],_.isEmpty(f)&&(f=!1),a.updateAttr(b,c,f)},a.updateAttr=function(){return a.execCommand("updateAttr",arguments)},x.updateAttr=function(a,b,c,d){var e,f=k(b);return e=A(f,c,d),e&&t("updateAttr",[b,c,d],e,a),!!e},a.moveRelative=function(b,c){var d=a.findParent(b),e=d&&d.findChildRankById(b),f=e&&_.sortBy(l(d,e),Math.abs),g=f&&f.indexOf(e),h=g+(c>0?c+1:c),i=h>=0&&d&&f&&d.ideas[f[h]];return 0>h||!d?!1:a.positionBefore(b,i&&i.id,d)},a.positionBefore=function(){return a.execCommand("positionBefore",arguments)},x.positionBefore=function(b,c,d,e){e=e||a;var f,g,i,j,k,m,n;if(n=e.findChildRankById(c),!n)return _.reduce(e.ideas,function(a,e){return a||x.positionBefore(b,c,d,e)},!1);if(c==d)return!1;if(f=0,d){if(g=e.findChildRankById(d),!g)return!1;if(i=l(e,n),j=_.reject(_.sortBy(i,Math.abs),function(a){return Math.abs(a)>=Math.abs(g)}),k=j.length>0?_.max(j,Math.abs):0,k==n)return!1;f=k+(g-k)/2}else{if(m=h(e.ideas,0>n?-1:1),m==n)return!1;f=m+10*(0>n?-1:1)}return f==n?!1:(u(e,f,n),t("positionBefore",[c,d],function(){u(e,n,f)},b),!0)},observable(a),function(){var b=function(a,b){var c,d,e;return a===b?!1:(d=k(a))&&(e=k(b))?(c=_.find(d.ideas,function(a){return a.id===b})||_.find(e.ideas,function(b){return b.id===a}),c?!1:!0):!1};a.addLink=function(){return a.execCommand("addLink",arguments)},x.addLink=function(c,d,e){var f,g;return b(d,e)?(f=_.find(a.links,function(a){return a.ideaIdFrom===d&&a.ideaIdTo===e||a.ideaIdFrom===e&&a.ideaIdTo===d}))?!1:(a.links=a.links||[],g={ideaIdFrom:d,ideaIdTo:e,attr:{style:{color:"#FF0000",lineStyle:"dashed"}}},a.links.push(g),t("addLink",[d,e],function(){a.links.pop()},c),!0):!1},a.removeLink=function(){return a.execCommand("removeLink",arguments)},x.removeLink=function(b,c,d){for(var e,f=0;a.links&&f<a.links.length;){if(e=a.links[f],String(e.ideaIdFrom)===String(c)&&String(e.ideaIdTo)===String(d))return a.links.splice(f,1),t("removeLink",[c,d],function(){a.links.push(_.clone(e))},b),!0;f+=1}return!1},a.getLinkAttr=function(b,c,d){var e=_.find(a.links,function(a){return a.ideaIdFrom==b&&a.ideaIdTo==c});return e&&e.attr&&e.attr[d]?e.attr[d]:!1},a.updateLinkAttr=function(){return a.execCommand("updateLinkAttr",arguments)},x.updateLinkAttr=function(b,c,d,e,f){var g,h=_.find(a.links,function(a){return a.ideaIdFrom==c&&a.ideaIdTo==d});return g=A(h,e,f),g&&t("updateLinkAttr",[c,d,e,f],g,b),!!g}}(),a.undo=function(){return a.execCommand("undo",arguments)},x.undo=function(b){a.endBatch();var c;return c=n[b]&&n[b].pop(),c&&c.undoFunction?(c.undoFunction(),o[b]||(o[b]=[]),o[b].push(c),a.dispatchEvent("changed","undo",[],b),!0):!1},a.redo=function(){return a.execCommand("redo",arguments)},x.redo=function(b){a.endBatch();var c;return c=o[b]&&o[b].pop(),c?(p=!0,a.execCommand(c.eventMethod,c.eventArgs,b),p=!1,!0):!1},a.storeResource=function(){return a.execCommand("storeResource",arguments)},x.storeResource=function(c,d,e){var f,g,h=function(){if(_.isEmpty(a.resources))return 0;var c=function(a){return parseInt(a,10)},d=_.keys(a.resources),e=b?_.filter(d,RegExp.prototype.test.bind(new RegExp("\\/"+b+"$"))):d,f=_.map(e,c);return _.isEmpty(f)?0:_.max(f)},i=function(){var a=h()+1;return a+z};return!e&&a.resources&&(f=_.find(_.keys(a.resources),function(b){return a.resources[b]===d}))?f:(g=e||i(),a.resources=a.resources||{},a.resources[g]=d,a.dispatchEvent("resourceStored",d,g,c),g)},a.getResource=function(b){return a.resources&&a.resources[b]},a.hasSiblings=function(b){if(b===a.id)return!1;var c=a.findParent(b);return c&&_.size(c.ideas)>1},2!=a.formatVersion&&(v(a),a.formatVersion=2),g(a),a},MAPJS.defaultStyles={},MAPJS.layoutLinks=function(a,b){"use strict";var c={};return _.each(a.links,function(a){b[a.ideaIdFrom]&&b[a.ideaIdTo]&&(c[a.ideaIdFrom+"_"+a.ideaIdTo]={ideaIdFrom:a.ideaIdFrom,ideaIdTo:a.ideaIdTo,attr:_.clone(a.attr)})}),c},MAPJS.calculateFrame=function(a,b){"use strict";b=b||0;var c={top:_.min(a,function(a){return a.y}).y-b,left:_.min(a,function(a){return a.x}).x-b};return c.width=b+_.max(_.map(a,function(a){return a.x+a.width}))-c.left,c.height=b+_.max(_.map(a,function(a){return a.y+a.height}))-c.top,c},MAPJS.contrastForeground=function(a){"use strict";var b=Color(a).luminosity();return.5>b?"#EEEEEE":.9>b?"#4F4F4F":"#000000"},MAPJS.Outline=function(a,b){"use strict";var c=function(a,b){return _.map(a,function(a){return{l:a.l,h:a.h+b}})};this.initialHeight=function(){return this.bottom[0].h-this.top[0].h},this.borders=function(){return _.pick(this,"top","bottom")},this.spacingAbove=function(a){for(var b=0,c=0,d=0,e=0,f=0;b<this.bottom.length&&c<a.top.length;)d=Math.max(d,this.bottom[b].h-a.top[c].h),e+this.bottom[b].l<f+a.top[c].l?(e+=this.bottom[b].l,b+=1):e+this.bottom[b].l===f+a.top[c].l?(e+=this.bottom[b].l,b+=1,f+=a.top[c].l,c+=1):(f+=a.top[c].l,c+=1);return d},this.indent=function(a,b){if(!a)return this;var c=this.top.slice(),d=this.bottom.slice(),e=(d[0].h+c[0].h)/2;return c.unshift({h:e-b/2,l:a}),d.unshift({h:e+b/2,l:a}),new MAPJS.Outline(c,d)},this.stackBelow=function(a,b){var d=a.spacingAbove(this),e=MAPJS.Outline.extendBorder(a.top,c(this.top,d+b)),f=MAPJS.Outline.extendBorder(c(this.bottom,d+b),a.bottom);return new MAPJS.Outline(e,f)},this.expand=function(a,b){var d=a-this.top[0].h,e=b-this.bottom[0].h,f=c(this.top,d),g=c(this.bottom,e);return new MAPJS.Outline(f,g)},this.insertAtStart=function(a,b){var d=0,e=c(this.top,d),f=c(this.bottom,d),g=function(a){a[0].l*=.5,a[1].l+=a[0].l};return e[0].l+=b,f[0].l+=b,e.unshift({h:-.5*a.height,l:a.width}),f.unshift({h:.5*a.height,l:a.width}),e[0].h>e[1].h&&g(e),f[0].h<f[1].h&&g(f),new MAPJS.Outline(e,f)},this.top=a.slice(),this.bottom=b.slice()},MAPJS.Outline.borderLength=function(a){"use strict";return _.reduce(a,function(a,b){return a+b.l},0)},MAPJS.Outline.borderSegmentIndexAt=function(a,b){"use strict";for(var c=0,d=-1;b>=c;){if(d+=1,d>=a.length)return-1;c+=a[d].l}return d},MAPJS.Outline.extendBorder=function(a,b){"use strict";var c,d=a.slice(),e=MAPJS.Outline.borderLength(a),f=MAPJS.Outline.borderSegmentIndexAt(b,e);return f>=0&&(c=MAPJS.Outline.borderLength(b.slice(0,f+1)),d.push({h:b[f].h,l:c-e}),d=d.concat(b.slice(f+1))),d},MAPJS.Tree=function(a){"use strict";_.extend(this,a),this.toLayout=function(a,b,c){a=a||0,b=b||0;var d,e={nodes:{},connectors:{}};return d=_.pick(this,"id","title","attr","width","height","level"),1===d.level?(d.x=-.5*this.width,d.y=-.5*this.height):(d.x=a+this.deltaX||0,d.y=b+this.deltaY||0),e.nodes[this.id]=d,void 0!==c&&(e.connectors[d.id]={from:c,to:d.id}),this.subtrees&&this.subtrees.forEach(function(a){var b=a.toLayout(d.x,d.y,d.id);_.extend(e.nodes,b.nodes),_.extend(e.connectors,b.connectors)}),e}},MAPJS.Outline.fromDimensions=function(a){"use strict";return new MAPJS.Outline([{h:-.5*a.height,l:a.width}],[{h:.5*a.height,l:a.width}])},MAPJS.calculateTree=function(a,b,c,d,e){"use strict";var f={id:a.id,title:a.title,attr:a.attr,deltaY:0,deltaX:0,level:e||1},g=function(a,b){var c,d,e,f,g,h,i=_.map(a,function(a){return _.pick(a,"deltaX","deltaY")});for(c=0;c<a.length;c+=1)d=a[c],d.attr&&d.attr.position?(d.deltaY=d.attr.position[1],(void 0===g||d.attr.position[2]>a[g].attr.position[2])&&(g=c)):d.deltaY+=b,c>0&&(e=i[c].deltaY-i[c-1].deltaY,f=a[c].deltaY-a[c-1].deltaY,e>f&&(d.deltaY+=e-f));if(h=g&&a[g].attr.position[1]-a[g].deltaY)for(c=0;c<a.length;c+=1)a[c].deltaY+=h},h=function(){return!(_.isEmpty(a.ideas)||a.attr&&a.attr.collapsed)},i=function(){var b=_.map(_.keys(a.ideas),parseFloat),c=d?_.filter(b,function(b){return d(b,a.id)}):b;return _.sortBy(c,Math.abs)},j=function(){var b=[];return _.each(i(),function(c){b.push(a.ideas[c])}),b},k=b(a,f.level),l=function(a){var b,d,e,h,i;_.each(a,function(a){a.deltaX=k.width+c,e=a.attr&&a.attr.position&&a.attr.position[0],e&&e>a.deltaX?(h=e-a.deltaX,a.deltaX=e):h=0,b?(i=a.outline.indent(h,c),d=i.initialHeight(),b=i.stackBelow(b,c),a.deltaY=b.initialHeight()-d/2-a.height/2):b=a.outline.indent(h,c)}),a&&a.length&&(g(a,.5*(k.height-b.initialHeight())),b=b.expand(a[0].deltaY-.5*k.height,a[a.length-1].deltaY+a[a.length-1].height-.5*k.height)),f.outline=b.insertAtStart(k,c)};return _.extend(f,k),f.outline=new MAPJS.Outline.fromDimensions(k),h()&&(f.subtrees=_.map(j(),function(a){return MAPJS.calculateTree(a,b,c,d,f.level+1)}),_.isEmpty(f.subtrees)||l(f.subtrees)),new MAPJS.Tree(f)},MAPJS.calculateLayout=function(a,b,c){"use strict";var d,e,f,g,h=function(a){_.each(a,function(a){a.attr=a.attr||{},a.attr.style=_.extend({},MAPJS.defaultStyles[1===a.level?"root":"nonRoot"],a.attr.style)})},i=function(b,c){return c!==a.id||b>0},j=function(b,c){return c!==a.id||0>b};return c=c||20,d=MAPJS.calculateTree(a,b,c,i),e=MAPJS.calculateTree(a,b,c,j),f=d.toLayout(),g=e.toLayout(),_.each(g.nodes,function(a){a.x=-1*a.x-a.width}),_.extend(g.nodes,f.nodes),_.extend(g.connectors,f.connectors),h(g.nodes),g.links=MAPJS.layoutLinks(a,g.nodes),g.rootNodeId=a.id,g},MAPJS.MemoryClipboard=function(){"use strict";var a,b=this,c=function(a){return a?JSON.parse(JSON.stringify(a)):void 0};b.get=function(){return c(a)},b.put=function(b){a=c(b)}},function(){"use strict";$.fn.simpleDraggableContainer=function(){var a,b,c=this,d=function(c){if(a&&c.gesture){var d={top:Math.round(parseInt(b.top,10)+c.gesture.deltaY),left:Math.round(parseInt(b.left,10)+c.gesture.deltaX)};return a.css(d).trigger($.Event("mm:drag",{currentPosition:d,gesture:c.gesture})),c.gesture&&c.gesture.preventDefault(),!1}},e=function(c){var d=a;"shadow"!==d.attr("mapjs-drag-role")?d.animate(b,{complete:function(){d.trigger($.Event("mm:cancel-dragging",{gesture:c.gesture}))},progress:function(){d.trigger("mm:drag")}}):d.trigger($.Event("mm:cancel-dragging",{gesture:c.gesture}))};return Hammer(this,{drag_min_distance:2}),this.on("mm:start-dragging",function(c){a||(a=$(c.relatedTarget),b={top:a.css("top"),left:a.css("left")},$(this).on("drag",d))}).on("mm:start-dragging-shadow",function(e){var f=$(e.relatedTarget),g=function(){var a=f.clone().addClass("drag-shadow").appendTo(c).offset(f.offset()).data(f.data()).attr("mapjs-drag-role","shadow"),b=f.parent().data("scale")||1;return 0!==b&&a.css({transform:"scale("+b+")","transform-origin":"top left"}),a};a||(a=g(),b={top:a.css("top"),left:a.css("left")},a.on("mm:stop-dragging mm:cancel-dragging",function(a){this.remove(),a.stopPropagation(),a.stopImmediatePropagation();var b=$.Event(a.type,{gesture:a.gesture,finalPosition:a.finalPosition});f.trigger(b)}).on("mm:drag",function(a){f.trigger(a)}),$(this).on("drag",d))}).on("dragend",function(b){if($(this).off("drag",d),a){var c=$.Event("mm:stop-dragging",{gesture:b.gesture,finalPosition:a.offset()});a.trigger(c),c.result===!1&&e(b),a=void 0}}).on("mouseleave",function(b){a&&($(this).off("drag",d),e(b),a=void 0)}).attr("data-drag-role","container")};var a=function(a){$(this).trigger($.Event("mm:start-dragging",{relatedTarget:this,gesture:a.gesture})),a.stopPropagation(),a.preventDefault(),a.gesture&&(a.gesture.stopPropagation(),a.gesture.preventDefault())},b=function(a){$(this).trigger($.Event("mm:start-dragging-shadow",{relatedTarget:this,gesture:a.gesture})),a.stopPropagation(),a.preventDefault(),a.gesture&&(a.gesture.stopPropagation(),a.gesture.preventDefault())};$.fn.simpleDraggable=function(b){return b&&b.disable?$(this).off("dragstart",a):$(this).on("dragstart",a)},$.fn.shadowDraggable=function(a){return a&&a.disable?$(this).off("dragstart",b):$(this).on("dragstart",b)}}(),MAPJS.MapModel=function(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l=this,m=a,n=d||20,o=c||new MAPJS.MemoryClipboard,p={nodes:{},connectors:{}},q=!0,r=!0,s=[],t=function(a){var b=_.clone(s);s=0===a.length?[h]:a,l.dispatchEvent("activatedNodesChanged",_.difference(s,b),_.difference(b,s))},u=300,v=function(a){if(g){var b=g(f);_.each(a.nodes,function(a,c){(b[c]||0===b[c])&&(a.label=b[c])})}},w=function(a,b){l.dispatchEvent("layoutChangeStarting",_.size(a.nodes)-_.size(p.nodes)),v(a),_.each(p.connectors,function(b,c){var d=a.connectors[c];d&&d.from===b.from&&d.to===b.to||l.dispatchEvent("connectorRemoved",b)}),_.each(p.links,function(b,c){var d=a.links&&a.links[c];d||l.dispatchEvent("linkRemoved",b)}),_.each(p.nodes,function(c,d){var e,g=a.nodes[d];g||(d==h&&l.selectNode(f.id),e=_.reject(s,function(a){return a==d}),e.length!==s.length&&t(e),l.dispatchEvent("nodeRemoved",c,d,b))}),_.each(a.nodes,function(a,c){var d=p.nodes[c];d?((a.x!==d.x||a.y!==d.y)&&l.dispatchEvent("nodeMoved",a,b),a.title!==d.title&&l.dispatchEvent("nodeTitleChanged",a,b),_.isEqual(a.attr||{},d.attr||{})||l.dispatchEvent("nodeAttrChanged",a,b),a.label!==d.label&&l.dispatchEvent("nodeLabelChanged",a,b)):l.dispatchEvent("nodeCreated",a,b)}),_.each(a.connectors,function(a,c){var d=p.connectors[c];d&&a.from===d.from&&a.to===d.to||l.dispatchEvent("connectorCreated",a,b)}),_.each(a.links,function(a,c){var d=p.links&&p.links[c];d?_.isEqual(a.attr||{},d&&d.attr||{})||l.dispatchEvent("linkAttrChanged",a,b):l.dispatchEvent("linkCreated",a,b)}),p=a,l.isInCollapse||l.dispatchEvent("layoutChangeComplete")},x=function(a){j=h,k=s.slice(0),l.selectNode(a)},y=function(a){x(a),l.editNode(!1,!0,!0)},z=function(){return h||f.id},A=!1,B=function(a,b,c){A||(j=!1,k=!1,l.rebuildRequired(c))},C=function(){return f.findSubIdeaById(h)||f},D=function(a,b){var c=f.findSubIdeaById(b)||f;c.getAttr("collapsed")&&f.updateAttr(b,"collapsed",!1)};observable(this),e=l.dispatchEvent.bind(l,"analytic","mapModel"),l.pause=function(){A=!0},l.resume=function(){A=!1,l.rebuildRequired()},l.getIdea=function(){return f},l.isEditingEnabled=function(){return r},l.getCurrentLayout=function(){return p},l.analytic=e,l.getCurrentlySelectedIdeaId=z,l.rebuildRequired=function(a){f&&w(l.reactivate(m(f)),a)},this.setIdea=function(a){f&&(f.removeEventListener("changed",B),A=!1,t([]),l.dispatchEvent("nodeSelectionChanged",h,!1),h=void 0),f=a,f.addEventListener("changed",B),B(),l.selectNode(f.id,!0),l.dispatchEvent("mapViewResetRequested")},this.setEditingEnabled=function(a){r=a},this.getEditingEnabled=function(){return r},this.setInputEnabled=function(a,b){q!==a&&(q=a,l.dispatchEvent("inputEnabledChanged",a,!!b))},this.getInputEnabled=function(){return q},this.selectNode=function(a,b,c){(b||q&&(a!==h||!l.isActivated(a)))&&(h&&l.dispatchEvent("nodeSelectionChanged",h,!1),h=a,c?l.activateNode("internal",a):t([a]),l.dispatchEvent("nodeSelectionChanged",a,!0))},this.clickNode=function(a,b){var c=b&&b.button&&-1!==b.button;b&&b.altKey?l.toggleLink("mouse",a):b&&b.shiftKey?l.toggleActivationOnNode("mouse",a):i&&!c?(this.toggleLink("mouse",a),this.toggleAddLinkMode()):(this.selectNode(a),c&&-1!==c&&q&&l.dispatchEvent("contextMenuRequested",a,b.layerX,b.layerY))},this.findIdeaById=function(a){return f.id==a?f:f.findSubIdeaById(a)},this.getSelectedStyle=function(a){return this.getStyleForId(h,a)},this.getStyleForId=function(a,b){var c=p.nodes&&p.nodes[a];return c&&c.attr&&c.attr.style&&c.attr.style[b]},this.toggleCollapse=function(a){var b,c=C();b=l.isActivated(c.id)&&_.size(c.ideas)>0?c.getAttr("collapsed"):l.everyActivatedIs(function(a){var b=l.findIdeaById(a);return b&&_.size(b.ideas)>0?b.getAttr("collapsed"):!0}),this.collapse(a,!b)},this.collapse=function(a,b){e("collapse:"+b,a),l.isInCollapse=!0;var c,d,g=z(),h=function(){return g&&p&&p.nodes&&p.nodes[g]},i=function(a,b,c){(b||c)&&_.each(a,function(a){a.x+=b,a.y+=c,l.dispatchEvent("nodeMoved",a,"scroll")})};c=h(),q&&l.applyToActivated(function(a){var c=l.findIdeaById(a);c&&(!b||c.ideas&&_.size(c.ideas)>0)&&f.updateAttr(a,"collapsed",b)}),d=h(),c&&d&&i(p.nodes,c.x-d.x,c.y-d.y),l.isInCollapse=!1,l.dispatchEvent("layoutChangeComplete")},this.updateStyle=function(a,b,c){return r?void(q&&(e("updateStyle:"+b,a),l.applyToActivated(function(a){l.getStyleForId(a,b)!=c&&f.mergeAttrProperty(a,"style",b,c)}))):!1},this.updateLinkStyle=function(a,b,c,d,g){if(!r)return!1;if(q){e("updateLinkStyle:"+d,a);var h=_.extend({},f.getLinkAttr(b,c,"style"));h[d]=g,f.updateLinkAttr(b,c,"style",h)}},this.addSubIdea=function(a,b,c){if(!r)return!1;var d,g=b||h;e("addSubIdea",a),q&&(f.batch(function(){D(a,g),d=c?f.addSubIdea(g,c):f.addSubIdea(g)}),d&&(c?x(d):y(d)))},this.insertIntermediate=function(a){if(!r)return!1;if(!q||h===f.id)return!1;var b,c=[];e("insertIntermediate",a),l.applyToActivated(function(a){c.push(a)}),b=f.insertIntermediateMultiple(c),b&&y(b)},this.flip=function(a){if(!r)return!1;if(e("flip",a),!q||h===f.id)return!1;var b=p.nodes[h];return b&&2===b.level?f.flip(h):!1},this.addSiblingIdeaBefore=function(a){var b,c,d,g;return r?(e("addSiblingIdeaBefore",a),q?(c=f.findParent(h)||f,f.batch(function(){D(a,c.id),b=f.addSubIdea(c.id),b&&h!==f.id&&(d=c.findChildRankById(h),g=c.findChildRankById(b),0>d*g&&f.flip(b),f.positionBefore(b,h))}),void(b&&y(b))):!1):!1},this.addSiblingIdea=function(a,b,c){var d,g,i,j,k,l;return l=b||h,r?(e("addSiblingIdea",a),void(q&&(i=f.findParent(l)||f,f.batch(function(){D(a,i.id),d=c?f.addSubIdea(i.id,c):f.addSubIdea(i.id),d&&l!==f.id&&(g=f.nextSiblingId(l),j=i.findChildRankById(l),k=i.findChildRankById(d),0>j*k&&f.flip(d),g&&f.positionBefore(d,g))}),d&&(c?x(d):y(d))))):!1},this.removeSubIdea=function(a){if(!r)return!1;e("removeSubIdea",a);var b;return q&&l.applyToActivated(function(a){var c;h==a&&(c=f.findParent(h),c&&l.selectNode(c.id)),b=f.removeSubIdea(a)}),b},this.updateTitle=function(a,b,c){c?f.initialiseTitle(a,b):f.updateTitle(a,b)},this.editNode=function(a,c,d){if(!r)return!1;if(a&&e("editNode",a),!q)return!1;var f=C().title;_.include(b,f)&&(c=!0),l.dispatchEvent("nodeEditRequested",h,c,!!d)},this.editIcon=function(a){return r?(a&&e("editIcon",a),q?void l.dispatchEvent("nodeIconEditRequested",h):!1):!1},this.scaleUp=function(a){l.scale(a,1.25)},this.scaleDown=function(a){l.scale(a,.8)},this.scale=function(a,b,c){q&&(l.dispatchEvent("mapScaleChanged",b,c),e(1>b?"scaleDown":"scaleUp",a))},this.move=function(a,b,c){q&&(l.dispatchEvent("mapMoveRequested",b,c),e("move",a))},this.resetView=function(a){q&&(l.selectNode(f.id),l.dispatchEvent("mapViewResetRequested"),e("resetView",a))},this.openAttachment=function(a,b){e("openAttachment",a),b=b||h;var c=p.nodes[b],d=c&&c.attr&&c.attr.attachment;c&&l.dispatchEvent("attachmentOpened",b,d)},this.setAttachment=function(a,b,c){if(!r)return!1;e("setAttachment",a);var d=!(!c||!c.content);f.updateAttr(b,"attachment",d&&c)},this.toggleLink=function(a,b){var c=_.find(f.links,function(a){return String(a.ideaIdFrom)===String(b)&&String(a.ideaIdTo)===String(h)||String(a.ideaIdTo)===String(b)&&String(a.ideaIdFrom)===String(h)});c?l.removeLink(a,c.ideaIdFrom,c.ideaIdTo):l.addLink(a,b)},this.addLink=function(a,b){return r?(e("addLink",a),void f.addLink(h,b)):!1},this.selectLink=function(a,b,c){return r?(e("selectLink",a),b?void l.dispatchEvent("linkSelected",b,c,f.getLinkAttr(b.ideaIdFrom,b.ideaIdTo,"style")):!1):!1},this.removeLink=function(a,b,c){return r?(e("removeLink",a),void f.removeLink(b,c)):!1},this.toggleAddLinkMode=function(a){return r&&q?(e("toggleAddLinkMode",a),i=!i,void l.dispatchEvent("addLinkModeToggled",i)):!1},this.cancelCurrentAction=function(a){return q&&r?void(i&&this.toggleAddLinkMode(a)):!1},l.undo=function(a){if(!r)return!1;e("undo",a);var b=j,c=k;q&&(f.undo(),b&&l.selectNode(b),c&&t(c))},l.redo=function(a){return r?(e("redo",a),void(q&&f.redo())):!1},l.moveRelative=function(a,b){return r?(e("moveRelative",a),void(q&&f.moveRelative(h,b))):!1},l.cut=function(a){if(!r)return!1;if(e("cut",a),q){var b,c=[],d=[];l.applyToActivated(function(a){c.push(a),d.push(f.findParent(a).id)}),o.put(f.cloneMultiple(c)),f.removeMultiple(c),b=_.find(d,f.findSubIdeaById),l.selectNode(b||f.id)}},l.contextForNode=function(a){var b=l.findIdeaById(a),c=b&&b.ideas&&_.size(b.ideas)>0,d=f.hasSiblings(a),e=b&&r&&o&&o.get();return b?{hasChildren:!!c,hasSiblings:!!d,canPaste:!!e}:void 0},l.copy=function(a){var b=[];return r?(e("copy",a),void(q&&(l.applyToActivated(function(a){b.push(a)}),o.put(f.cloneMultiple(b))))):!1},l.paste=function(a){if(!r)return!1;if(e("paste",a),q){var b=f.pasteMultiple(h,o.get());b&&b[0]&&l.selectNode(b[0])}},l.pasteStyle=function(a){var b,c=o.get();return r?(e("pasteStyle",a),void(q&&c&&c[0]&&(b=c[0].attr&&c[0].attr.style,l.applyToActivated(function(a){f.updateAttr(a,"style",b)})))):!1},l.getIcon=function(a){var b=p.nodes[a||h];return b?b.attr&&b.attr.icon:!1},l.setIcon=function(a,b,c,d,g,i){if(!r)return!1;e("setIcon",a),i=i||h;var j=l.findIdeaById(i);return j?void(b?f.updateAttr(i,"icon",{url:b,width:c,height:d,position:g}):j.title||i===f.id?f.updateAttr(i,"icon",!1):f.removeSubIdea(i)):!1},l.moveUp=function(a){l.moveRelative(a,-1)},l.moveDown=function(a){l.moveRelative(a,1)},l.getSelectedNodeId=function(){return z()},l.centerOnNode=function(a){p.nodes[a]||(f.startBatch(),_.each(f.calculatePath(a),function(a){f.updateAttr(a.id,"collapsed",!1)}),f.endBatch()),l.dispatchEvent("nodeFocusRequested",a),l.selectNode(a)},l.search=function(a){var b=[];return a=a.toLocaleLowerCase(),f.traverse(function(c){c.title&&c.title.toLocaleLowerCase().indexOf(a)>=0&&b.push({id:c.id,title:c.title})}),b},function(){var a=function(a){return p.nodes[a].x>=p.nodes[f.id].x},b=function(a){return p.nodes[a].x<=p.nodes[f.id].x},c=function(){return _.map(p.nodes,function(a,b){return _.extend({id:parseInt(b,10)},a)})},d=function(a,c,d){var g,i,j=h===f.id,k=j?-(1/0):1/0;if(q)if(e(c,a),b(h)){g=f.id===h?f:f.findSubIdeaById(h),D(a,g.id);for(i in g.ideas)i=parseFloat(i),(j&&0>i&&i>k||!j&&i>0&&k>i)&&(k=i);k!==1/0&&k!==-(1/0)&&d.apply(l,[g.ideas[k].id])}else d.apply(l,[f.findParent(h).id])},g=function(b,c,d){var g,i,j=1/0;if(q)if(e(c,b),a(h)){g=f.id===h?f:f.findSubIdeaById(h),D(b,g.id);for(i in g.ideas)i=parseFloat(i),i>0&&j>i&&(j=i);j!==1/0&&d.apply(l,[g.ideas[j].id])}else d.apply(l,[f.findParent(h).id])},i=function(a,b,d){var g,i,j=f.previousSiblingId(h),k=p.nodes[h];if(q)if(e(b,a),j)d.apply(l,[j]);else{if(!k)return;if(g=_.reject(c(),function(a){return a.y>=k.y||Math.abs(a.x-k.x)>u}),0===_.size(g))return;i=_.min(g,function(a){return Math.pow(a.x-k.x,2)+Math.pow(a.y-k.y,2)}),d.apply(l,[i.id])}},j=function(a,b,d){var g,i,j=f.nextSiblingId(h),k=p.nodes[h];if(q)if(e(b,a),j)d.apply(l,[j]);else{if(!k)return;if(g=_.reject(c(),function(a){return a.y<=k.y||Math.abs(a.x-k.x)>u}),0===_.size(g))return;i=_.min(g,function(a){return Math.pow(a.x-k.x,2)+Math.pow(a.y-k.y,2)}),d.apply(l,[i.id])}},k={Left:d,Up:i,Down:j,Right:g};l.getActivatedNodeIds=function(){return s.slice(0)},l.activateSiblingNodes=function(a){var b,c=f.findParent(h);

e("activateSiblingNodes",a),c&&c.ideas&&(b=_.map(c.ideas,function(a){return a.id}),t(b))},l.activateNodeAndChildren=function(a){e("activateNodeAndChildren",a);var b=z(),c=f.getSubTreeIds(b);c.push(b),t(c)},_.each(["Left","Right","Up","Down"],function(a){l["activateNode"+a]=function(b){k[a](b,"activateNode"+a,function(a){l.selectNode(a,!1,!0)})},l["selectNode"+a]=function(b){k[a](b,"selectNode"+a,l.selectNode)}}),l.toggleActivationOnNode=function(a,b){e("toggleActivated",a),t(l.isActivated(b)?_.without(s,b):[b].concat(s))},l.activateNode=function(a,b){e("activateNode",a),l.isActivated(b)||(s.push(b),l.dispatchEvent("activatedNodesChanged",[b],[]))},l.activateChildren=function(a){e("activateChildren",a);var b=C();!b||_.isEmpty(b.ideas)||b.getAttr("collapsed")||t(f.getSubTreeIds(b.id))},l.activateSelectedNode=function(a){e("activateSelectedNode",a),t([z()])},l.isActivated=function(a){return _.find(s,function(b){return a==b})},l.applyToActivated=function(a){f.batch(function(){_.each(s,a)})},l.everyActivatedIs=function(a){return _.every(s,a)},l.activateLevel=function(a,b){e("activateLevel",a);var c=_.map(_.filter(p.nodes,function(a){return a.level==b}),function(a){return a.id});_.isEmpty(c)||t(c)},l.reactivate=function(a){return _.each(a.nodes,function(a){_.contains(s,a.id)&&(a.activated=!0)}),a}}(),l.getNodeIdAtPosition=function(a,b){var c=function(c){return a>=c.x&&b>=c.y&&a<=c.x+c.width&&b<=c.y+c.height},d=_.find(p.nodes,c);return d&&d.id},l.autoPosition=function(a){return f.updateAttr(a,"position",!1)},l.positionNodeAt=function(a,b,c,d){var g,h=p.nodes[f.id],i={id:null,y:1/0},j=f.findParent(a),k=p.nodes[j.id],m=p.nodes[a],n=function(b,c,d){var e=b.x<c.x&&d<b.x,g=b.x>c.x&&b.x<d;return e||g?f.flip(a):!1},o=1,q=function(){return 2===m.level||(m.x-k.x)*(b-k.x)>0},r=!1;return f.startBatch(),2===p.nodes[a].level&&(r=n(h,m,b)),_.each(f.sameSideSiblingIds(a),function(a){var b=p.nodes[a];c<b.y&&b.y<i.y&&(i=b)}),!d&&q()&&l.autoPosition(a),r=f.positionBefore(a,i.id)||r,d&&q()&&(g=b<k.x?k.x-b-m.width+k.width:b-k.x,e("nodeManuallyPositioned"),o=_.max(_.map(j.ideas,function(b){return b.id!==a&&b.attr&&b.attr.position&&b.attr.position[2]||0})),r=f.updateAttr(a,"position",[g,c-k.y,o+1])||r),f.endBatch(),r},l.dropNode=function(a,b,c){var d,e=f.findParent(a);return b===a?!1:c?(d=f.clone(a),d&&f.paste(b,d),!1):b===e.id?l.autoPosition(a):f.changeParent(a,b)},l.setLayoutCalculator=function(a){m=a},l.dropImage=function(a,b,c,d,e){var g,i=function(d,e){var g=Math.min(b,300)/b,h=Math.min(c,300)/c,i=Math.min(g,h),j=f.getAttrById(d,"icon");l.setIcon("drag and drop",a,Math.round(b*i),Math.round(c*i),j&&j.position||e,d)},j=function(){var a;f.startBatch(),a=f.addSubIdea(h),i(a,"center"),f.endBatch(),l.selectNode(a)};return(g=l.getNodeIdAtPosition(d,e))?i(g,"left"):void j()},l.setLabelGenerator=function(a){g=a,l.rebuildRequired()},l.getReorderBoundary=function(a){var b,c,d,e,g,h,i=function(){return a==f.id},j=function(){return b.id===f.id},k=function(a){return p.nodes[a].x>=p.nodes[f.id].x},l=function(b,d){var e=_.map(b,function(a){return a.y}),f=_.map(b,function(a){return a.y+a.height}),g={minY:_.min(e)-n-p.nodes[a].height,maxY:_.max(f)+n,margin:n};return g.edge=d,g.x="left"===d?c.x+c.width+n:c.x-n,g},m=function(b){var d={minY:c.y-n-p.nodes[a].height,maxY:c.y+c.height+n,margin:n};return d.edge=b,d.x="left"===b?c.x+c.width+n:c.x-n,d},o=function(){var c=_.map(b.ideas,function(a){return p.nodes[a.id]});return c=_.without(c,p.nodes[a]),_.isEmpty(d)||(c=_.difference(c,d)),c},q=[];return i(a)?!1:(b=f.findParent(a),c=p.nodes[b.id],g=k(a)?"left":"right",h=k(a)?"right":"left",d=_.map(f.sameSideSiblingIds(a),function(a){return p.nodes[a]}),_.isEmpty(d)||q.push(l(d,g)),q.push(m(g)),j()&&(e=o(),_.isEmpty(e)||q.push(l(e,h)),q.push(m(h))),q)},l.focusAndSelect=function(a){l.selectNode(a),l.dispatchEvent("nodeFocusRequested",a)},l.requestContextMenu=function(a,b){return q&&r?(l.dispatchEvent("contextMenuRequested",h,a,b),!0):!1}},jQuery.fn.mapToolbarWidget=function(a){"use strict";var b=["insertIntermediate","scaleUp","scaleDown","addSubIdea","editNode","removeSubIdea","toggleCollapse","addSiblingIdea","undo","redo","copy","cut","paste","resetView","openAttachment","toggleAddLinkMode","activateChildren","activateNodeAndChildren","activateSiblingNodes","editIcon"],c=["updateStyle"];return this.each(function(){var d=jQuery(this),e=!1;a.addEventListener("nodeSelectionChanged",function(){e=!0,d.find(".updateStyle[data-mm-target-property]").val(function(){return a.getSelectedStyle(jQuery(this).data("mm-target-property"))}).change(),e=!1}),a.addEventListener("addLinkModeToggled",function(){d.find(".toggleAddLinkMode").toggleClass("active")}),b.forEach(function(b){d.find("."+b).click(function(){a[b]&&a[b]("toolbar")})}),c.forEach(function(b){d.find("."+b).change(function(){if(!e){var c=jQuery(this);c.data("mm-target-property")&&a[b]("toolbar",c.data("mm-target-property"),c.val())}})})})},jQuery.fn.linkEditWidget=function(a){"use strict";return this.each(function(){var b,c,d,e,f,g,h=jQuery(this);e=h.find(".color"),f=h.find(".lineStyle"),g=h.find(".arrow"),a.addEventListener("linkSelected",function(a,i,j){b=a,h.show(),c=c||h.width(),d=d||h.height(),h.css({top:i.y-.5*d-15+"px",left:i.x-.5*c-15+"px"}),e.val(j.color).change(),f.val(j.lineStyle),g[j.arrow?"addClass":"removeClass"]("active")}),a.addEventListener("mapMoveRequested",function(){h.hide()}),h.find(".delete").click(function(){a.removeLink("mouse",b.ideaIdFrom,b.ideaIdTo),h.hide()}),e.change(function(){a.updateLinkStyle("mouse",b.ideaIdFrom,b.ideaIdTo,"color",jQuery(this).val())}),f.find("a").click(function(){a.updateLinkStyle("mouse",b.ideaIdFrom,b.ideaIdTo,"lineStyle",jQuery(this).text())}),g.click(function(){a.updateLinkStyle("mouse",b.ideaIdFrom,b.ideaIdTo,"arrow",!g.hasClass("active"))}),h.mouseleave(h.hide.bind(h))})},MAPJS.getDataURIAndDimensions=function(a,b){"use strict";var c=function(a){return/^data:image/.test(a)},d=function(a){if(c(a.src))return a.src;var b,d=document.createElement("canvas");return d.width=a.width,d.height=a.height,b=d.getContext("2d"),b.drawImage(a,0,0),d.toDataURL("image/png")},e=jQuery.Deferred(),f=new Image;return f.onload=function(){try{e.resolve({dataUri:d(f),width:f.width,height:f.height})}catch(a){e.reject()}},f.onerror=function(){e.reject()},c(a)||(b?(f.crossOrigin="Anonymous",a=b+encodeURIComponent(a)):e.reject("no-cors")),f.src=a,e.promise()},MAPJS.ImageInsertController=function(a,b){"use strict";var c=observable(this),d=function(a){var b=jQuery.Deferred(),c=new FileReader;return c.onload=function(a){b.resolve(a.target.result)},c.onerror=b.reject,c.onprogress=b.notify,c.readAsDataURL(a),b.promise()};c.insertDataUrl=function(d,e){c.dispatchEvent("imageLoadStarted"),MAPJS.getDataURIAndDimensions(d,a).then(function(a){var d=a.dataUri;b&&(d=b(d)),c.dispatchEvent("imageInserted",d,a.width,a.height,e)},function(a){c.dispatchEvent("imageInsertError",a)})},c.insertFiles=function(a,b){jQuery.each(a,function(a,e){/^image\//.test(e.type)&&jQuery.when(d(e)).done(function(a){c.insertDataUrl(a,b)})})},c.insertHtmlContent=function(a,b){var d=a.match(/img[^>]*src="([^"]*)"/);d&&d.length>0&&_.each(d.slice(1),function(a){c.insertDataUrl(a,b)})}},jQuery.fn.imageDropWidget=function(a){"use strict";return this.on("dragenter dragover",function(a){return a.originalEvent.dataTransfer?!1:void 0}).on("drop",function(b){var c,d=b.originalEvent.dataTransfer;b.stopPropagation(),b.preventDefault(),d&&d.files&&d.files.length>0?a.insertFiles(d.files,b.originalEvent):d&&(c=d.getData("text/html"),a.insertHtmlContent(c,b.originalEvent))}),this},MAPJS.DOMRender={svgPixel:'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>',nodeCacheMark:function(a,b){"use strict";return{title:a.title,icon:a.attr&&a.attr.icon&&_.pick(a.attr.icon,"width","height","position"),collapsed:a.attr&&a.attr.collapsed,level:a.level||b}},dummyTextBox:jQuery("<div>").addClass("mapjs-node").css({position:"absolute",visibility:"hidden"}),dimensionProvider:function(a,b){"use strict";var c,d=jQuery(document).nodeWithId(a.id),e=function(){return MAPJS.DOMRender.svgPixel};return d&&d.length>0&&_.isEqual(d.data("nodeCacheMark"),MAPJS.DOMRender.nodeCacheMark(a,b))?_.pick(d.data(),"width","height"):(d=MAPJS.DOMRender.dummyTextBox,d.attr("mapjs-level",b).appendTo("body").updateNodeContent(a,e),c={width:d.outerWidth(!0),height:d.outerHeight(!0)},d.detach(),c)},layoutCalculator:function(a){"use strict";return MAPJS.calculateLayout(a,MAPJS.DOMRender.dimensionProvider)},fixedLayout:!1},MAPJS.createSVG=function(a){"use strict";return jQuery(document.createElementNS("http://www.w3.org/2000/svg",a||"svg"))},jQuery.fn.getBox=function(){"use strict";var a=this&&this[0];return a?{top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}:!1},jQuery.fn.getDataBox=function(){"use strict";var a=this.data();return a&&a.width&&a.height?{top:a.y,left:a.x,width:a.width,height:a.height}:this.getBox()},jQuery.fn.animateConnectorToPosition=function(a,b){"use strict";var c=jQuery(this),d=c.data("nodeFrom"),e=c.data("nodeTo"),f=d&&d.getDataBox(),g=e&&e.getDataBox(),h={from:d&&d.getBox(),to:e&&e.getBox()};return b=b||1,f&&g&&h&&h.from.width===f.width&&h.to.width===g.width&&h.from.height===f.height&&h.to.height===g.height&&Math.abs(h.from.top-h.to.top-(f.top-g.top))<b&&Math.abs(h.from.left-h.to.left-(f.left-g.left))<b?(c.animate({left:Math.round(Math.min(f.left,g.left)),top:Math.round(Math.min(f.top,g.top))},a),!0):!1},jQuery.fn.queueFadeOut=function(a){"use strict";var b=this;return b.fadeOut(_.extend({complete:function(){b.is(":focus")&&b.parents("[tabindex]").focus(),b.remove()}},a))},jQuery.fn.queueFadeIn=function(a){"use strict";var b=this;return b.css("opacity",0).animate({opacity:1},_.extend({complete:function(){b.css("opacity","")}},a))},jQuery.fn.updateStage=function(){"use strict";var a=this.data(),b={"min-width":Math.round(a.width-a.offsetX),"min-height":Math.round(a.height-a.offsetY),width:Math.round(a.width-a.offsetX),height:Math.round(a.height-a.offsetY),"transform-origin":"top left",transform:"translate3d("+Math.round(a.offsetX)+"px, "+Math.round(a.offsetY)+"px, 0)"};return a.scale&&1!==a.scale&&(b.transform="scale("+a.scale+") translate("+Math.round(a.offsetX)+"px, "+Math.round(a.offsetY)+"px)"),this.css(b),this},MAPJS.DOMRender.curvedPath=function(a,b){"use strict";var c,d,e,f=function(a,b,c,d,e,f,g,h){var i=e>a?.1:.9,j=1-i;return{from:{x:a+j*c,y:b+.5*d},to:{x:e+i*g,y:f+.5*h},controlPointOffset:0}},g=function(a,b){var c,d=10,e=b.top+.5*b.height,g=a.top+.5*a.height;return Math.abs(g-e)+d<Math.max(b.height,.75*a.height)?f(a.left,a.top,a.width,a.height,b.left,b.top,b.width,b.height):(c=a.left<b.left?0:1,{from:{x:a.left+.5*a.width,y:a.top+.5*a.height},to:{x:b.left+c*b.width,y:b.top+.5*b.height},controlPointOffset:.75})},h={left:Math.min(a.left,b.left),top:Math.min(a.top,b.top)};return h.width=Math.max(a.left+a.width,b.left+b.width,h.left+1)-h.left,h.height=Math.max(a.top+a.height,b.top+b.height,h.top+1)-h.top,c=g(a,b),d=c.controlPointOffset*(c.from.y-c.to.y),e=1.5*Math.min(b.height,a.height),d=Math.max(-e,Math.min(e,d)),{d:"M"+Math.round(c.from.x-h.left)+","+Math.round(c.from.y-h.top)+"Q"+Math.round(c.from.x-h.left)+","+Math.round(c.to.y-d-h.top)+" "+Math.round(c.to.x-h.left)+","+Math.round(c.to.y-h.top),position:h}},MAPJS.DOMRender.straightPath=function(a,b){"use strict";var c=function(a,b){var c,d,e,f,g,h,i,j=[{x:a.left+.5*a.width,y:a.top},{x:a.left+a.width,y:a.top+.5*a.height},{x:a.left+.5*a.width,y:a.top+a.height},{x:a.left,y:a.top+.5*a.height}],k=[{x:b.left+.5*b.width,y:b.top},{x:b.left+b.width,y:b.top+.5*b.height},{x:b.left+.5*b.width,y:b.top+b.height},{x:b.left,y:b.top+.5*b.height}],l=1/0;for(c=0;c<j.length;c+=1)for(d=0;d<k.length;d+=1)g=j[c].x-k[d].x,h=j[c].y-k[d].y,i=g*g+h*h,l>i&&(e=c,f=d,l=i);return{from:j[e],to:k[f]}},d={left:Math.min(a.left,b.left),top:Math.min(a.top,b.top)},e=c(a,b);return d.width=Math.max(a.left+a.width,b.left+b.width,d.left+1)-d.left,d.height=Math.max(a.top+a.height,b.top+b.height,d.top+1)-d.top,{d:"M"+Math.round(e.from.x-d.left)+","+Math.round(e.from.y-d.top)+"L"+Math.round(e.to.x-d.left)+","+Math.round(e.to.y-d.top),conn:e,position:d}},MAPJS.DOMRender.nodeConnectorPath=MAPJS.DOMRender.curvedPath,MAPJS.DOMRender.linkConnectorPath=MAPJS.DOMRender.straightPath,jQuery.fn.updateConnector=function(a){"use strict";return jQuery.each(this,function(){var b,c,d,e,f,g=jQuery(this),h=g.data("nodeFrom"),i=g.data("nodeTo");return h&&i&&0!==h.length&&0!==i.length?(a?(d=h.getDataBox(),e=i.getDataBox()):(d=h.getBox(),e=i.getBox()),f={from:d,to:e},void(_.isEqual(f,g.data("changeCheck"))||(g.data("changeCheck",f),b=MAPJS.DOMRender.nodeConnectorPath(d,e),c=g.find("path"),g.css(b.position),0===c.length&&(c=MAPJS.createSVG("path").attr("class","mapjs-connector").appendTo(g)),c.attr("d",b.d)))):void g.hide()})},jQuery.fn.updateLink=function(){"use strict";return jQuery.each(this,function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n=jQuery(this),o=n.data("nodeFrom"),p=n.data("nodeTo"),q=n.find("path.mapjs-link"),r=n.find("path.mapjs-link-hit"),s=n.find("path.mapjs-arrow"),t=Math.tan(Math.PI/9),u={dashed:"8, 8",solid:""},v=_.pick(n.data(),"lineStyle","arrow","color");return o&&p&&0!==o.length&&0!==p.length?(b=o.getBox(),c=p.getBox(),d={from:b,to:c,attrs:v},void(_.isEqual(d,n.data("changeCheck"))||(n.data("changeCheck",d),a=MAPJS.DOMRender.linkConnectorPath(b,c),n.css(a.position),0===q.length&&(q=MAPJS.createSVG("path").attr("class","mapjs-link").appendTo(n)),q.attr({d:a.d,"stroke-dasharray":u[v.lineStyle]}).css("stroke",v.color),0===r.length&&(r=MAPJS.createSVG("path").attr("class","mapjs-link-hit").appendTo(n)),r.attr({d:a.d}),v.arrow?(0===s.length&&(s=MAPJS.createSVG("path").attr("class","mapjs-arrow").appendTo(n)),i=14,l=a.conn.to.x-a.conn.from.x,m=a.conn.to.y-a.conn.from.y,0===l?(j=0>m?-1:1,e=a.conn.to.x+i*Math.sin(t)*j,g=a.conn.to.x-i*Math.sin(t)*j,f=a.conn.to.y-i*Math.cos(t)*j,h=a.conn.to.y-i*Math.cos(t)*j):(k=m/l,a.conn.from.x<a.conn.to.x&&(i=-i),e=a.conn.to.x+(1-k*t)*i/Math.sqrt((1+k*k)*(1+t*t)),f=a.conn.to.y+(k+t)*i/Math.sqrt((1+k*k)*(1+t*t)),g=a.conn.to.x+(1+k*t)*i/Math.sqrt((1+k*k)*(1+t*t)),h=a.conn.to.y+(k-t)*i/Math.sqrt((1+k*k)*(1+t*t))),s.attr("d","M"+Math.round(e-a.position.left)+","+Math.round(f-a.position.top)+"L"+Math.round(a.conn.to.x-a.position.left)+","+Math.round(a.conn.to.y-a.position.top)+"L"+Math.round(g-a.position.left)+","+Math.round(h-a.position.top)+"Z").css("fill",v.color).show()):s.hide()))):void n.hide()})},jQuery.fn.addNodeCacheMark=function(a){"use strict";this.data("nodeCacheMark",MAPJS.DOMRender.nodeCacheMark(a))},jQuery.fn.updateNodeContent=function(a,b){"use strict";var c=25,d=jQuery(this),e=function(){var a=d.find("[data-mapjs-role=title]");return 0===a.length&&(a=jQuery("<span>").attr("data-mapjs-role","title").appendTo(d)),a},f=function(a){var b=MAPJS.URLHelper.getLink(a),c=d.find("a.mapjs-hyperlink");return b?(0===c.length&&(c=jQuery('<a target="_blank" class="mapjs-hyperlink"></a>').appendTo(d)),void c.attr("href",b).show()):void c.hide()},g=function(a){var b=d.find(".mapjs-label");return a||0===a?(0===b.length&&(b=jQuery('<span class="mapjs-label"></span>').appendTo(d)),void b.text(a).show()):void b.hide()},h=function(){var b=a.attr&&a.attr.attachment,c=d.find("a.mapjs-attachment");return b?(0===c.length&&(c=jQuery('<a href="#" class="mapjs-attachment"></a>').appendTo(d).click(function(){d.trigger("attachment-click")})),void c.show()):void c.hide()},i=function(a){var b,f=MAPJS.URLHelper.stripLink(a)||(a.length<c?a:a.substring(0,c)+"..."),g=MAPJS.DOMRender.nodeTextPadding||11,h=e(),i=h[0];h.text(f.trim()),d.data("title",a),h.css({"max-width":"","min-width":""}),i.scrollWidth-g>i.offsetWidth?h.css("max-width",i.scrollWidth+"px"):(b=i.offsetHeight,h.css("min-width",h.css("max-width")),i.offsetHeight===b&&h.css("min-width",""))},j=function(){a.attr&&a.attr.collapsed?d.addClass("collapsed"):d.removeClass("collapsed")},k=function(a){var b=Color(a).mix(Color("#EEEEEE")).luminosity();return.5>b?"mapjs-node-dark":.9>b?"mapjs-node-light":"mapjs-node-white"},l=function(){var b=a.attr&&a.attr.style&&a.attr.style.background;("false"===b||"transparent"===b)&&(b=!1),d.removeClass("mapjs-node-dark mapjs-node-white mapjs-node-light"),b?(d.css("background-color",b),d.addClass(k(b))):d.css("background-color","")},m=function(a){var c,f,g,h,i=e(),j={"min-height":"","min-width":"","background-image":"","background-repeat":"","background-size":"","background-position":""},k={"margin-top":"","margin-left":""};d.css({padding:""}),a&&(h=parseInt(d.css("padding-left"),10),c=i.outerHeight(),f=i.outerWidth(),g=parseInt(i.css("max-width"),10),_.extend(j,{"background-image":'url("'+(b?b(a.url):a.url)+'")',"background-repeat":"no-repeat","background-size":a.width+"px "+a.height+"px","background-position":"center center"}),"top"===a.position||"bottom"===a.position?(j["background-position"]="top"===a.position?"center "+h+"px":MAPJS.DOMRender.fixedLayout?"center "+(h+c)+"px":"center "+a.position+" "+h+"px",j["padding-"+a.position]=a.height+2*h,j["min-width"]=a.width,a.width>g&&(k["margin-left"]=(a.width-g)/2)):"left"===a.position||"right"===a.position?(j["background-position"]="left"===a.position?h+"px center":MAPJS.DOMRender.fixedLayout?f+2*h+"px center ":a.position+" "+h+"px center",j["padding-"+a.position]=a.width+2*h,a.height>c&&(k["margin-top"]=(a.height-c)/2,j["min-height"]=a.height)):(a.height>c&&(k["margin-top"]=(a.height-c)/2,j["min-height"]=a.height),j["min-width"]=a.width,a.width>g&&(k["margin-left"]=(a.width-g)/2))),d.css(j),i.css(k)};return d.attr("mapjs-level",a.level),i(a.title),f(a.title),g(a.label),h(),d.data({x:Math.round(a.x),y:Math.round(a.y),width:Math.round(a.width),height:Math.round(a.height),nodeId:a.id}).addNodeCacheMark(a),l(),m(a.attr&&a.attr.icon),j(),d},jQuery.fn.placeCaretAtEnd=function(){"use strict";var a,b,c,d=this[0];window.getSelection&&document.createRange?(a=document.createRange(),a.selectNodeContents(d),a.collapse(!1),b=window.getSelection(),b.removeAllRanges(),b.addRange(a)):document.body.createTextRange&&(c=document.body.createTextRange(),c.moveToElementText(d),c.collapse(!1),c.select())},jQuery.fn.selectAll=function(){"use strict";var a,b,c,d=this[0];window.getSelection&&document.createRange?(a=document.createRange(),a.selectNodeContents(d),b=window.getSelection(),b.removeAllRanges(),b.addRange(a)):document.body.createTextRange&&(c=document.body.createTextRange(),c.moveToElementText(d),c.select())},jQuery.fn.innerText=function(){"use strict";var a=this.html(),b=/<br\/?>/.test(a),c=/<div>/.test(a);return c&&this[0].innerText?this[0].innerText.trim():b?a.replace(/<br\/?>/gi,"\n").replace(/(<([^>]+)>)/gi,""):this.text()},jQuery.fn.editNode=function(a){"use strict";var b=this,c=this.find("[data-mapjs-role=title]"),d=this.data("title"),e=c.text(),f=jQuery.Deferred(),g=function(){l(),c.css("word-break",""),c.removeAttr("contenteditable"),b.shadowDraggable()},h=function(){var a=c.innerText();return a===d?i():(g(),void f.resolve(a))},i=function(){g(),c.text(e),f.reject()},j=function(a){var b=13,e=27,f=9,g=83,j=90;a.shiftKey&&a.which===b||(a.which===b?(h(),a.stopPropagation()):a.which===e?(i(),a.stopPropagation()):a.which===f||a.which===g&&(a.metaKey||a.ctrlKey)&&!a.altKey?(h(),a.preventDefault()):a.shiftKey||a.which!==j||!a.metaKey&&!a.ctrlKey||a.altKey||(c.text()===d&&i(),a.stopPropagation()))},k=function(){c.on("blur",h).on("keydown",j)},l=function(){c.off("blur",h).off("keydown",j)};return k(),d!==e&&c.css("word-break","break-all"),c.text(d).attr("contenteditable",!0).focus(),a?c.selectAll():d&&c.placeCaretAtEnd(),b.shadowDraggable({disable:!0}),f.promise()},jQuery.fn.updateReorderBounds=function(a,b){"use strict";var c=this;return a?(c.show(),c.attr("mapjs-edge",a.edge),void c.css({top:b.y+b.height/2-c.height()/2,left:a.x-("left"===a.edge?c.width():0)})):void c.hide()},function(){"use strict";var a=function(a){return a.replace(/\./g,"_")},b=function(b){return a("connector_"+b.from+"_"+b.to)},c=function(b){return a("link_"+b.ideaIdFrom+"_"+b.ideaIdTo)},d=function(b){return a("node_"+b)};jQuery.fn.createNode=function(a){return jQuery("<div>").attr({id:d(a.id),tabindex:0,"data-mapjs-role":"node"}).css({display:"block",position:"absolute"}).addClass("mapjs-node").appendTo(this)},jQuery.fn.createConnector=function(a){return MAPJS.createSVG().attr({id:b(a),"data-mapjs-role":"connector","class":"mapjs-draw-container"}).data({nodeFrom:this.nodeWithId(a.from),nodeTo:this.nodeWithId(a.to)}).appendTo(this)},jQuery.fn.createLink=function(a){var b=_.extend({color:"red",lineStyle:"dashed"},a.attr&&a.attr.style);return MAPJS.createSVG().attr({id:c(a),"data-mapjs-role":"link","class":"mapjs-draw-container"}).data({nodeFrom:this.nodeWithId(a.ideaIdFrom),nodeTo:this.nodeWithId(a.ideaIdTo)}).data(b).appendTo(this)},jQuery.fn.nodeWithId=function(a){return this.find("#"+d(a))},jQuery.fn.findConnector=function(a){return this.find("#"+b(a))},jQuery.fn.findLink=function(a){return this.find("#"+c(a))},jQuery.fn.createReorderBounds=function(){var a=jQuery("<div>").attr({"data-mapjs-role":"reorder-bounds","class":"mapjs-reorder-bounds"}).hide().css("position","absolute").appendTo(this);return a}}(),MAPJS.DOMRender.viewController=function(a,b,c,d,e,f){"use strict";var g,h=b.parent(),i=jQuery(),j=jQuery(),k={duration:400,queue:"nodeQueue",easing:"linear"},l=a.isEditingEnabled()?b.createReorderBounds():jQuery("<div>"),m=function(){return g?g:g={left:h.scrollLeft(),top:h.scrollTop(),innerWidth:h.innerWidth(),innerHeight:h.innerHeight()}},n=function(a,c){var d=b.data(),e=m();return{x:d.scale*(a+d.offsetX)-e.left,y:d.scale*(c+d.offsetY)-e.top}},o=function(a,c){var d=b.data(),e=m();return{x:(e.left+a)/d.scale-d.offsetX,y:(e.top+c)/d.scale-d.offsetY}},p=function(){var a=jQuery(this);a.css({left:a.data("x"),top:a.data("y")}).trigger("mapjs:move")},q=function(){var a=jQuery(this);a.clearQueue(k.queue).animate({left:a.data("x"),top:a.data("y"),opacity:1},_.extend({complete:function(){a.css("opacity",""),a.each(p)}},k)).trigger("mapjs:animatemove")},r=function(a,c){var d=b.data(),e=!1;a<-1*d.offsetX&&(d.width=d.width-d.offsetX-a,d.offsetX=-1*a,e=!0),c<-1*d.offsetY&&(d.height=d.height-d.offsetY-c,d.offsetY=-1*c,e=!0),a>d.width-d.offsetX&&(d.width=d.offsetX+a,e=!0),c>d.height-d.offsetY&&(d.height=d.offsetY+c,e=!0),e&&b.updateStage()},s=function(){return jQuery(this).each(function(){var a=jQuery(this).data(),b=MAPJS.DOMRender.stageMargin||{top:0,left:0,bottom:0,right:0};r(a.x-b.left,a.y-b.top),r(a.x+a.width+b.right,a.y+a.height+b.bottom)})},t=function(a,c,d){var e,f,g=b.data(),i={x:h.innerWidth()/2,y:h.innerHeight()/2},j=MAPJS.DOMRender.stageVisibilityMargin||{top:0,left:0,bottom:0,right:0};r(a-i.x/g.scale,c-i.y/g.scale),r(a+i.x/g.scale-j.left,c+i.y/g.scale-j.top),e=g.scale*(a+g.offsetX)-i.x,f=g.scale*(c+g.offsetY)-i.y,h.finish(),d?h.animate({scrollLeft:e,scrollTop:f},{duration:400}):(h.scrollLeft(e),h.scrollTop(f))},u=function(){return o(h.innerWidth()/2,h.innerHeight()/2)},v=function(a){if(a&&0!==a.length){h.finish();var b=a.data(),c=n(b.x,b.y),d=n(b.x+b.width,b.y+b.height),e={},f=MAPJS.DOMRender.stageVisibilityMargin||{top:10,left:10,bottom:10,right:10};c.x-f.left<0?e.scrollLeft=h.scrollLeft()+c.x-f.left:d.x+f.right>h.innerWidth()&&(e.scrollLeft=h.scrollLeft()+d.x-h.innerWidth()+f.right),c.y-f.top<0?e.scrollTop=h.scrollTop()+c.y-f.top:d.y+f.bottom>h.innerHeight()&&(e.scrollTop=h.scrollTop()+d.y-h.innerHeight()+f.bottom),_.isEmpty(e)||h.animate(e,{duration:100})}},w=function(a){var b,c=a&&a.gesture&&a.gesture.center||a,d=h.offset();return c&&(b={x:c.pageX-d.left,y:c.pageY-d.top},b.x>=0&&b.x<=h.innerWidth()&&b.y>=0&&b.y<=h.innerHeight())?b:void 0},x=function(a){var b=w(a);return b?o(b.x,b.y):void 0},y=function(){(A||A===!1)&&(jQuery(".mapjs-node").removeClass("droppable"),A=void 0)},z=function(a){b.nodeWithId(a).addClass("droppable"),A=a},A=!1,B=function(a,b){if(_.isEmpty(a))return!1;if(!b)return!1;var c=function(a){var c=b.x;return"right"===a.edge&&(c+=b.width),Math.abs(c-a.x)<2*a.margin&&b.y<a.maxY&&b.y>a.minY};return _.find(a,c)};h.on("scroll",function(){g=void 0}),d&&d.addEventListener("imageInserted",function(b,c,d,e){var f=x(e);a.dropImage(b,c,d,f&&f.x,f&&f.y)}),a.addEventListener("nodeCreated",function(d){var f,g=b.createNode(d).queueFadeIn(k).updateNodeContent(d,e).on("tap",function(b){var c=b.gesture&&b.gesture.srcEvent||b;c.button&&-1!==c.button||(a.clickNode(d.id,c),b&&b.stopPropagation(),b&&b.gesture&&b.gesture.stopPropagation())}).on("doubletap",function(b){return b&&(b.stopPropagation(),b.gesture&&b.gesture.stopPropagation()),a.isEditingEnabled()?void a.editNode("mouse"):void a.toggleCollapse("mouse")}).on("attachment-click",function(){a.openAttachment("mouse",d.id)}).each(s).each(p).on("mm:start-dragging mm:start-dragging-shadow",function(){a.selectNode(d.id),f=a.getReorderBoundary(d.id),g.addClass("dragging")}).on("mm:drag",function(b){var c,e,h=x(b),i=b.currentPosition&&x({pageX:b.currentPosition.left,pageY:b.currentPosition.top}),j=b&&b.gesture&&b.gesture.srcEvent&&b.gesture.srcEvent.shiftKey;return h?(c=a.getNodeIdAtPosition(h.x,h.y),j||c||!i?l.hide():(i.width=g.outerWidth(),i.height=g.outerHeight(),e=B(f,i),l.updateReorderBounds(e,i)),void(c&&c!==d.id?c!==A&&(y(),c&&z(c)):y())):void y()}).on("contextmenu",function(b){return a.selectNode(d.id),a.requestContextMenu(b.pageX,b.pageY)?(b.preventDefault(),!1):void 0}).on("mm:stop-dragging",function(b){g.removeClass("dragging"),l.hide();var c,e,h,i,j,k=b&&b.gesture&&b.gesture.srcEvent&&b.gesture.srcEvent.shiftKey,m=x(b);return y(),m?(c=a.getNodeIdAtPosition(m.x,m.y),e=x({pageX:b.finalPosition.left,pageY:b.finalPosition.top}),c&&c!==d.id?h=a.dropNode(d.id,c,!!k):d.level>1?(e.width=g.outerWidth(),e.height=g.outerHeight(),i=!!k||!B(f,e),h=a.positionNodeAt(d.id,e.x,e.y,i)):1===d.level&&b.gesture?(j=u(),j.x-=b.gesture.deltaX||0,j.y-=b.gesture.deltaY||0,t(j.x,j.y,!0),h=!0):h=!1,h):void 0}).on("mm:cancel-dragging",function(){y(),g.removeClass("dragging"),l.hide()});c&&g.on("hold",function(b){var c=b.gesture&&b.gesture.srcEvent||b;return a.clickNode(d.id,c),a.requestContextMenu(b.gesture.center.pageX,b.gesture.center.pageY)?(b.preventDefault(),b.gesture&&(b.gesture.preventDefault(),b.gesture.stopPropagation()),!1):void 0}),g.css("min-width",g.css("width")),a.isEditingEnabled()&&g.shadowDraggable()}),a.addEventListener("nodeSelectionChanged",function(a,c){var d=b.nodeWithId(a);c?(d.addClass("selected"),v(d)):d.removeClass("selected")}),a.addEventListener("nodeRemoved",function(a){b.nodeWithId(a.id).queueFadeOut(k)}),a.addEventListener("nodeMoved",function(a){var c=m(),d=b.nodeWithId(a.id).data({x:Math.round(a.x),y:Math.round(a.y)}).each(s),e=n(Math.round(a.x),Math.round(a.y)),f=n(Math.round(a.x+a.width),Math.round(a.y+a.height));d.each(f.x<0||f.y<0||e.x>c.innerWidth||e.y>c.innerHeight?p:q)}),a.addEventListener("nodeTitleChanged nodeAttrChanged nodeLabelChanged",function(a){b.nodeWithId(a.id).updateNodeContent(a,e)}),a.addEventListener("connectorCreated",function(a){var c=b.createConnector(a).queueFadeIn(k).updateConnector(!0);b.nodeWithId(a.from).add(b.nodeWithId(a.to)).on("mapjs:move",function(){c.updateConnector(!0)}).on("mm:drag",function(){c.updateConnector()}).on("mapjs:animatemove",function(){i=i.add(c)})}),a.addEventListener("connectorRemoved",function(a){b.findConnector(a).queueFadeOut(k)}),a.addEventListener("linkCreated",function(c){var d=b.createLink(c).queueFadeIn(k).updateLink();d.find(".mapjs-link-hit").on("tap",function(b){a.selectLink("mouse",c,{x:b.gesture.center.pageX,y:b.gesture.center.pageY}),b.stopPropagation(),b.gesture.stopPropagation()}),b.nodeWithId(c.ideaIdFrom).add(b.nodeWithId(c.ideaIdTo)).on("mapjs:move mm:drag",function(){d.updateLink()}).on("mapjs:animatemove",function(){j=j.add(d)})}),a.addEventListener("linkRemoved",function(a){b.findLink(a).queueFadeOut(k)}),a.addEventListener("mapScaleChanged",function(a){var c=b.data("scale"),d=Math.max(Math.min(c*a,5),.2),e=u();c!==d&&(b.data("scale",d).updateStage(),t(e.x,e.y))}),a.addEventListener("nodeVisibilityRequested",function(c){var d=c||a.getCurrentlySelectedIdeaId(),e=b.nodeWithId(d);e&&(v(e),h.finish())}),a.addEventListener("nodeFocusRequested",function(a){var c=b.nodeWithId(a).data(),d=c.x+c.width/2,e=c.y+c.height/2;1!==b.data("scale")&&b.data("scale",1).updateStage(),t(d,e,!0)}),a.addEventListener("mapViewResetRequested",function(){b.data({scale:1,height:0,width:0,offsetX:0,offsetY:0}).updateStage(),b.children().andSelf().finish(k.queue),jQuery(b).find(".mapjs-node").each(s),jQuery(b).find("[data-mapjs-role=connector]").updateConnector(!0),jQuery(b).find("[data-mapjs-role=link]").updateLink(),t(0,0),h.focus()}),a.addEventListener("layoutChangeStarting",function(){g=void 0,b.children().finish(k.queue),b.finish(k.queue)}),a.addEventListener("layoutChangeComplete",function(){var c=jQuery(),d=jQuery();i.each(function(){jQuery(this).animateConnectorToPosition(k,2)||(c=c.add(this))}),j.each(function(){jQuery(this).animateConnectorToPosition(k,2)||(d=d.add(this))}),i=jQuery(),j=jQuery(),b.animate({opacity:1},_.extend({progress:function(){c.updateConnector(),d.updateLink()}},k)),v(b.nodeWithId(a.getCurrentlySelectedIdeaId())),b.children().dequeue(k.queue),b.dequeue(k.queue)}),f&&f.inlineEditingDisabled||a.addEventListener("nodeEditRequested",function(c,d,e){var f=b.nodeWithId(c);a.setInputEnabled(!1),h.finish(),f.editNode(d).done(function(b){a.setInputEnabled(!0),a.updateTitle(c,b,e),f.focus()}).fail(function(){a.setInputEnabled(!0),e&&a.undo("internal"),f.focus()})}),a.addEventListener("addLinkModeToggled",function(a){a?b.addClass("mapjs-add-link"):b.removeClass("mapjs-add-link")}),a.addEventListener("linkAttrChanged",function(a){var c=_.extend({arrow:!1},a.attr&&a.attr.style);b.findLink(a).data(c).updateLink()}),a.addEventListener("activatedNodesChanged",function(a,c){_.each(a,function(a){b.nodeWithId(a).addClass("activated")}),_.each(c,function(a){b.nodeWithId(a).removeClass("activated")})})},jQuery.fn.scrollWhenDragging=function(a){"use strict";return this.each(function(){var b,c=$(this);c.on("dragstart",function(){a()&&(b={top:c.scrollTop(),left:c.scrollLeft()})}).on("drag",function(a){a.gesture&&b&&(c.scrollTop(b.top-a.gesture.deltaY),c.scrollLeft(b.left-a.gesture.deltaX))}).on("dragend",function(){b=void 0})})},$.fn.domMapWidget=function(a,b,c,d,e,f,g,h){"use strict";var i={"return":"addSiblingIdea","shift+return":"addSiblingIdeaBefore","del backspace":"removeSubIdea","tab insert":"addSubIdea",left:"selectNodeLeft",up:"selectNodeUp",right:"selectNodeRight","shift+right":"activateNodeRight","shift+left":"activateNodeLeft","meta+right ctrl+right meta+left ctrl+left":"flip","shift+up":"activateNodeUp","shift+down":"activateNodeDown",down:"selectNodeDown","space f2":"editNode",f:"toggleCollapse","c meta+x ctrl+x":"cut","p meta+v ctrl+v":"paste","y meta+c ctrl+c":"copy","u meta+z ctrl+z":"undo","shift+tab":"insertIntermediate","Esc 0 meta+0 ctrl+0":"resetView","r meta+shift+z ctrl+shift+z meta+y ctrl+y":"redo","meta+plus ctrl+plus z":"scaleUp","meta+minus ctrl+minus shift+z":"scaleDown","meta+up ctrl+up":"moveUp","meta+down ctrl+down":"moveDown","ctrl+shift+v meta+shift+v":"pasteStyle",Esc:"cancelCurrentAction"},j={"[":"activateChildren","{":"activateNodeAndChildren","=":"activateSiblingNodes",".":"activateSelectedNode","/":"toggleCollapse",a:"openAttachment",i:"editIcon"},k=!0,l=this;return b.addEventListener("inputEnabledChanged",function(a,b){k=a,a&&!b&&l.focus()}),this.each(function(){var a=$(this),l=$("<div>").css({position:"relative"}).attr("data-mapjs-role","stage").appendTo(a).data({offsetX:a.innerWidth()/2,offsetY:a.innerHeight()/2,width:a.innerWidth()-20,height:a.innerHeight()-20,scale:1}).updateStage(),m=!1;a.css("overflow","auto").attr("tabindex",1),b.isEditingEnabled()&&(e||a).simpleDraggableContainer(),c?a.on("doubletap",function(a){return b.requestContextMenu(a.gesture.center.pageX,a.gesture.center.pageY)?(a.preventDefault(),
a.gesture.preventDefault(),!1):void 0}).on("pinch",function(a){if(a&&a.gesture&&a.gesture.scale){a.preventDefault(),a.gesture.preventDefault();var c=a.gesture.scale;m&&(c/=m),Math.abs(c-1)<.05||(m=a.gesture.scale,b.scale("touch",c,{x:a.gesture.center.pageX-l.data("offsetX"),y:a.gesture.center.pageY-l.data("offsetY")}))}}).on("gestureend",function(){m=!1}):(a.scrollWhenDragging(b.getInputEnabled),a.on("mousedown",function(b){b.target!==a[0]&&a.css("overflow","hidden")}),jQuery(document).on("mouseup",function(){"auto"!==a.css("overflow")&&a.css("overflow","auto")}),a.imageDropWidget(d)),MAPJS.DOMRender.viewController(b,l,c,d,f,h),_.each(i,function(c,d){a.keydown(d,function(a){k&&(a.stopImmediatePropagation(),a.preventDefault(),b[c]("keyboard"))})}),c||jQuery(window).on("resize",function(){b.resetView()}),jQuery(window).on("orientationchange",function(){g?b.centerOnNode(b.getSelectedNodeId()):b.resetView()}),jQuery(document).on("keydown",function(a){var c,d={"U+003D":"scaleUp","U+002D":"scaleDown",61:"scaleUp",173:"scaleDown"};a&&!a.altKey&&(a.ctrlKey||a.metaKey)&&(a.originalEvent&&a.originalEvent.keyIdentifier?c=d[a.originalEvent.keyIdentifier]:"MozPrintableKey"===a.key&&(c=d[a.which]),c&&k&&(a.preventDefault(),b[c]("keyboard")))}).on("wheel mousewheel",function(b){var c=b.originalEvent.deltaX||-1*b.originalEvent.wheelDeltaX;0>c&&0===a.scrollLeft()&&b.preventDefault(),c>0&&a[0].scrollWidth-a.width()-a.scrollLeft()===0&&b.preventDefault()}),a.on("keypress",function(a){if(k&&!/INPUT|TEXTAREA/.test(a&&a.target&&a.target.tagName)){var c=a.charCode||a.keyCode,d=String.fromCharCode(c),e=j[d];e?(a.preventDefault(),b[e]("keyboard")):Number(d)<=9&&Number(d)>=1&&(a.preventDefault(),b.activateLevel("keyboard",Number(d)+1))}})})};var MM=MM||{};MM.ActiveContentListener=function(a){"use strict";var b,c=observable(this),d=function(a,d){c.dispatchEvent("mm-active-content-changed",b,!1,a,d)},e=function(a,e){b&&b.removeEventListener("changed",d),b=e,c.dispatchEvent("mm-active-content-changed",b,!0),b.addEventListener("changed",d)};a.addEventListener("mapLoaded",e,999),c.getActiveContent=function(){return b},c.addListener=function(a){b&&a(b,!1),c.addEventListener("mm-active-content-changed",a)}},MM.ActiveContentResourceManager=function(a,b){"use strict";var c=this,d=b+":",e=new RegExp("^"+d);c.storeResource=function(b){return d+a.getActiveContent().storeResource(b)},c.getResource=function(b){return e.test(b)?a.getActiveContent().getResource(b.substring(d.length)):b}},MM.ActivityLog=function(a){"use strict";var b=[],c=1,d=this;observable(this),this.log=function(){var e=["log"];b.length===a&&b.shift(),b.push({id:c,ts:new Date,event:Array.prototype.join.call(arguments,",")}),c+=1,Array.prototype.slice.call(arguments).forEach(function(a){jQuery.isArray(a)?e=e.concat(a):e.push(a)}),d.dispatchEvent.apply(d,e)},this.error=function(a){d.log("Error",a),d.dispatchEvent("error",a,b)},this.getLog=b.slice.bind(b),this.timer=function(a,b){var c=Date.now();return{end:function(){d.dispatchEvent("timer",a,b,Date.now()-c)}}}},jQuery.fn.trackingWidget=function(a){"use strict";return this.each(function(){var b=jQuery(this),c=b.data("category"),d=b.data("event-type")||"",e=b.data("label")||"";b.click(function(){a.log(c,d,e)})})},MM.ajaxBlobFetch=function(a){"use strict";var b=new XMLHttpRequest,c=jQuery.Deferred();return b.addEventListener("load",function(){200===b.status?c.resolve(b.response,b.getResponseHeader("content-type")):c.reject(b,b.statusText,b.status)}),b.addEventListener("error",function(){c.reject(b,b.statusText,b.status)}),b.addEventListener("abort",function(){c.reject(b,b.statusText,b.status)}),b.addEventListener("progress",function(a){a.lengthComputable?c.notify(Math.round(100*a.loaded/a.total,2)+"%"):c.notify()}),b.open("GET",a,!0),b.responseType="blob",b.send(),c.promise()},MM.Alert=function(){"use strict";var a=this,b=1;observable(this),this.show=function(c,d,e){var f=b;return b+=1,a.dispatchEvent("shown",f,c,d,"flash"===e?"info":e),"flash"===e&&setTimeout(function(){a.hide(f)},3e3),f},this.hide=this.dispatchEvent.bind(this,"hidden")},jQuery.fn.alertWidget=function(a){"use strict";return this.each(function(){var b=jQuery(this);a.addEventListener("shown",function(a,c,d,e){e=e||"info",d=d||"",_.isString(c)&&(c=jQuery("<span><strong>"+c+"</strong>&nbsp;"+d+"</span>")),jQuery('<div class="alert fade in"><button type="button" class="close" data-dismiss="alert">&#215;</button></div>').addClass("alert-"+e+" alert-no-"+a).append(c).appendTo(b)}),a.addEventListener("hidden",function(a){b.find(".alert-no-"+a).remove()})})},jQuery.fn.anonSaveAlertWidget=function(a,b,c,d,e){"use strict";var f,g=this.find("[data-mm-role=anon-save]").detach(),h=this.find("[data-mm-role=destroyed]").detach(),i=this.find("[data-mm-role=destroyed-problem]").detach(),j=function(){return!d.getItem(e)},k=function(){f&&(a.hide(f),f=void 0)};b.addEventListener("mapSaving mapLoaded",k),b.addEventListener("mapSaved",function(b){var l=function(){k(),d.setItem(e,!0)},m=function(b,c){f&&a.hide(f);var d=b.clone();d.find("[data-mm-role=donotshow]").click(l),d.find("[data-mm-role=destroy]").click(n),f=a.show(d,"",c)},n=function(){c.destroyLastSave().then(function(){m(h,"info")},function(){m(i,"error")})};j()&&c.recognises(b)&&m(g,"success")})},jQuery.fn.atlasPrepopulationWidget=function(a,b,c,d,e){"use strict";d=d||MM.AtlasUtil.truncate,e=e||MM.AtlasUtil.sanitize;var f=this,g=function(){var g=f.find("form[data-mm-role~=atlas-metadata]"),h=a.getActiveContent(),i=h&&h.title,j=d(i,b),k=d("MindMup mind map: "+i,c),l=e(d(i,b));g.find("[name=title]").attr("placeholder",j).val(j),g.find("[name=description]").attr("placeholder",k).val(k),g.find("[name=slug]").attr("placeholder",l).val(l)};return f.on("show",function(a){this===a.target&&g()}),f},MM.AtlasUtil={truncate:function(a,b){"use strict";return a.substring(0,b)},sanitize:function(a){"use strict";var b=a.substr(0,100).toLowerCase().replace(/[^a-z0-9]+/g,"_");return"_"===b?"map":b}},$.fn.attachmentEditorWidget=function(a,b){"use strict";var c,d,e=this,f=$("<div>").addClass("modal-backdrop fade in hide").appendTo("body"),g=e.find("[data-mm-role=editor]"),h=function(){f.hide(),a.setInputEnabled(!0),e.hide(),g.html("")},i=function(){g.attr("contenteditable",!0),e.addClass("mm-editable"),g.focus(),d=!0},j=function(){e.removeClass("mm-editable"),g.attr("contenteditable",!1),g.find("a").attr("target","_blank"),d=!1,g.focus()},k=function(){var b=g.cleanHtml();b?(a.setAttachment("attachmentEditorWidget",c,{contentType:"text/html",content:b}),h()):(a.setAttachment("attachmentEditorWidget",c,!1),h())},l=function(){g.html("")},m=function(){var a=g.outerHeight(!0)-g.innerHeight()+30;g.height(e.innerHeight()-g.siblings().outerHeight(!0)-a),$("[data-role=editor-toolbar] [data-role=magic-overlay]").each(function(){var a=$(this),b=$(a.data("target"));a.css("opacity",0).css("position","absolute").offset(b.offset()).width(b.outerWidth()).height(b.outerHeight())}),f.width("100%").height("100%")},n=function(b,d){var h=d&&d.contentType;f.show(),c=b,e.show(),m(),a.setInputEnabled(!1),d?"text/html"===h&&(g.html(d&&d.content),j()):i()},o=function(){var a=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],b=$("[data-role=editor-toolbar] [data-mm-role=font]");$.each(a,function(a,c){b.append($('<li><a data-edit="fontName '+c+'" style="font-family:'+c+'">'+c+"</a></li>"))}),$("[data-role=editor-toolbar] .dropdown-menu input").click(function(){return!1}).change(function(){$(this).parent(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).keydown("esc",function(){this.value="",$(this).change()}),$("[data-role=editor-toolbar] a").attr("data-category","Attachment editor toolbar").attr("data-event-type",function(){return $(this).attr("data-edit")||$(this).attr("title")||$(this).text()||"unknown"})};return b&&g.detach().prependTo(e),o(),g.wysiwyg(),e.addClass("mm-editable"),e.find("[data-mm-role=save]").click(k),e.find("[data-mm-role=close]").click(h),e.find("[data-mm-role=clear]").click(l),e.find("[data-mm-role=edit]").click(i),$(document).keydown("esc",function(){e.is(":visible")&&h()}).keydown("ctrl+s meta+s",function(a){a.altKey||e.is(":visible")&&(a.preventDefault(),k(),h())}).keydown("ctrl+return meta+return",function(){e.is(":visible")&&(d?k():i())}),$(window).bind("orientationchange resize",m),a.addEventListener("attachmentOpened",n),e},jQuery.fn.autoSaveWidget=function(a){"use strict";var b=this,c=b.find("[data-mm-role=apply]");a.addEventListener("unsavedChangesAvailable",function(){b.modal("show")}),b.on("shown",function(){c.focus()}),c.click(function(){a.applyUnsavedChanges(),b.modal("hide")}),b.find("[data-mm-role=discard]").click(function(){a.discardUnsavedChanges(),b.modal("hide")})},MM.AutoSave=function(a,b,c,d,e){"use strict";var f,g,h,i,j,k="auto-save-",l=this,m=[],n=function(a){var c=b.getItem(k+a);c&&l.dispatchEvent("unsavedChangesAvailable",a)},o=function(a,d){var f=k+d,g=function(){try{return b.setItem(f,m),!0}catch(a){return!1}},h=function(){j||(j=c.show("Unable to back up unsaved changes!","Please save this map as soon as possible to avoid losing unsaved information.","warning"))};m.push(a),g()||(b.removeKeysWithPrefix(k)+b.removeKeysWithPrefix(e)===0?h():g()||h())},p=function(a,b){m=[],h=function(a,c){o({cmd:a,args:c},b)},i=function(a,c){o({cmd:"storeResource",args:[a,c]},b)},a.addEventListener("changed",h),a.addEventListener("resourceStored",i)},q=function(){j&&c.hide(j),j=void 0},r=function(a,b,c){h&&g&&(g.removeEventListener("changed",h),g.removeEventListener("resourceStored",i)),!a||c&&c.autoSave||(f=a,g=b,q(),n(a),p(b,a))};observable(this),e=e||"clipboard",l.applyUnsavedChanges=function(){var a=b.getItem(k+f);a&&(d.pause(),a.forEach(function(a){g.execCommand(a.cmd,a.args)}),d.resume())},l.discardUnsavedChanges=function(){m=[],b.remove(k+f)},a.addEventListener("mapSaved",function(a,b){q(),(a===f||b===g)&&l.discardUnsavedChanges(),a!==f&&r(a,b)}),a.addEventListener("mapLoaded",r)},MM.Bookmark=function(a,b,c){"use strict";var d=observable(this),e=!1,f=[],g=function(){b&&c&&b.setItem(c,f)};b&&c&&(f=b.getItem(c)||[]),a.addEventListener("mapSaved",function(a,b){var c=d.canPin();e={mapId:a,title:b.title},d.store({mapId:a,title:b.title}),c!==d.canPin()&&d.dispatchEvent("pinChanged")}),a.addEventListener("mapLoaded",function(a,b){var c=d.canPin();e={mapId:a,title:b.title},c!==d.canPin()&&d.dispatchEvent("pinChanged")}),d.store=function(a){if(!a.mapId||!a.title)throw new Error("Invalid bookmark");var b=_.find(f,function(b){return b.title===a.title||b.mapId===a.mapId});b?(b.mapId=a.mapId,b.title=a.title):f.push(_.clone(a)),g(),d.dispatchEvent("added",a)},d.remove=function(a,b){var c,e;for(b=b||!1,c=0;c<f.length;c++)if(f[c].mapId===a)return e=f.splice(c,1)[0],g(),void d.dispatchEvent("deleted",e,b)},d.list=function(){return _.clone(f).reverse()},d.links=function(a){return a=a||30,_.map(d.list(),function(b){return{title:b.title,shortTitle:b.title.length>a?b.title.substr(0,a)+"...":b.title,mapId:b.mapId}})},d.pin=function(){e&&d.store(e)},d.canPin=function(){return e&&(0===f.length||_.every(f,function(a){return a.mapId!==e.mapId}))}},jQuery.fn.bookmarkWidget=function(a,b,c){"use strict";return this.each(function(){var d,e=jQuery(this),f=e.find(".template").detach(),g=e.find("[data-mm-role=bookmark-pin]"),h=e.children().filter("[data-mm-role=bookmark]").clone(),i=function(){var b,d,i,j=a.links();e.children().filter("[data-mm-role=bookmark]").remove(),g.parent().hide(),a.canPin()&&g.parent().show(),j.length?j.slice(0,10).forEach(function(g){i=f.clone().show().attr("data-mm-role","bookmark").appendTo(e),b=i.find("a"),d=b.children().detach(),b.click(function(){c.loadMap(g.mapId)}),b.text(g.shortTitle).addClass("repo-"+g.mapId[0]),d.appendTo(b),i.find("[data-mm-role=bookmark-delete]").click(function(){return a.remove(g.mapId),e.parents(".dropdown").find(".dropdown-toggle").dropdown("toggle"),!1})}):e.append(h.clone())};g.click(function(){a.pin()}),a.addEventListener("added",i),a.addEventListener("pinChanged",i),a.addEventListener("deleted",function(c,e){i(),b&&!e&&(d&&b.hide(d),d=b.show("Bookmark Removed.",c.title+' was removed from the list of your maps. <a href="#"> Undo </a> ',"success"),jQuery(".alert-no-"+d).find("a").click(function(){a.store(c),b.hide(d)}))}),i()})},!function(a){"use strict";a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){d.trigger("closed").remove()}var d,e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),d=a(f),b&&b.preventDefault(),d.length||(d=e.hasClass("alert")?e:e.parent()),d.trigger(b=a.Event("close")),b.isDefaultPrevented()||(d.removeClass("in"),a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,c):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.alert.data-api",b,c.prototype.close)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f="object"==typeof c&&c;e||d.data("button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),d=this;if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){d.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(b,c){var d,e=this.$element.find(".item.active"),f=c||e[b](),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i](),d=a.Event("slide",{relatedTarget:f[0],direction:h}),!f.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var b=a(j.$indicators.children()[j.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d,e=a(this),f=a(e.attr("data-target")||(c=e.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),g=a.extend({},f.data(),e.data());f.carousel(g),(d=e.attr("data-slide-to"))&&f.data("carousel").pause().to(d).cycle(),b.preventDefault()})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning&&!this.$element.hasClass("in")){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in"),d&&d.length){if(e=d.data("collapse"),e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f=a.extend({},a.fn.collapse.defaults,d.data(),"object"==typeof c&&c);e||d.data("collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":d.data();d[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(window.jQuery),!function(a){"use strict";function b(){a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=d&&a(d),c&&c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(){var d,e,f=a(this);if(!f.is(".disabled, :disabled"))return d=c(f),e=d.hasClass("open"),b(),e||d.toggleClass("open"),f.focus(),!1},keydown:function(b){var e,f,g,h,i;if(/(38|40|27)/.test(b.keyCode)&&(e=a(this),b.preventDefault(),b.stopPropagation(),!e.is(".disabled, :disabled"))){if(g=c(e),h=g.hasClass("open"),!h||h&&27==b.keyCode)return 27==b.which&&g.find(d).focus(),e.click();f=a("[role=menu] li:not(.divider):visible a",g),f.length&&(i=f.index(f.filter(":focus")),38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<f.length-1&&i++,~i||(i=0),f.eq(i).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api",b).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown-menu",function(a){a.stopPropagation()}).on("click.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]!==a.target&&!b.$element.has(a.target).length&&b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b):b()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f,g,h,i;for(this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,g=this.options.trigger.split(" "),i=g.length;i--;)h=g[i],"click"==h?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=h&&(e="hover"==h?"mouseenter":"focus",f="hover"==h?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c,d=a.fn[this.type].defaults,e={};return this._options&&a.each(this._options,function(a,b){d[a]!=b&&(e[a]=b)},this),c=a(b.currentTarget)[this.type](e).data(this.type),c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show),void 0):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var b,c,d,e,f,g,h=a.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(h),h.isDefaultPrevented())return;switch(b=this.tip(),this.setContent(),this.options.animation&&b.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,b.detach().css({top:0,left:0,display:"block"}),this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element),c=this.getPosition(),d=b[0].offsetWidth,e=b[0].offsetHeight,f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}this.applyPlacement(g,f),this.$element.trigger("shown")}},applyPlacement:function(a,b){var c,d,e,f,g=this.tip(),h=g[0].offsetWidth,i=g[0].offsetHeight;g.offset(a).addClass(b).addClass("in"),c=g[0].offsetWidth,d=g[0].offsetHeight,"top"==b&&d!=i&&(a.top=a.top+i-d,f=!0),"bottom"==b||"top"==b?(e=0,a.left<0&&(e=-2*a.left,a.left=0,g.offset(a),c=g[0].offsetWidth,d=g[0].offsetHeight),this.replaceArrow(e-h+c,c,"left")):this.replaceArrow(d-i,d,"top"),f&&g.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip(),d=a.Event("hide");return this.$element.trigger(d),d.isDefaultPrevented()?void 0:(c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=b?a(b.currentTarget)[this.type](this._options).data(this.type):this;c.tip().hasClass("in")?c.hide():c.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=("function"==typeof c.content?c.content.call(b[0]):c.content)||b.attr("data-content")},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f="object"==typeof c&&c;e||d.data("popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),!function(a){"use strict";function b(b,c){var d,e=a.proxy(this.process,this),f=a(a(b).is("body")?window:b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b,c=this;this.offsets=a([]),this.targets=a([]),b=this.$body.find(this.selector).map(function(){
var b=a(this),d=b.data("target")||b.attr("href"),e=/^#\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f="object"==typeof c&&c;e||d.data("scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var b;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(b=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,b?this.process(b):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(){var b=this.$menu.find(".active").removeClass("active"),c=b.next();c.length||(c=a(this.$menu.find("li")[0])),c.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.prev();b.length||(b=this.$menu.find("li").last()),b.addClass("active")},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation(),a.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(b){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var b=a(this);b.data("typeahead")||b.typeahead(b.data())})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&h>=d?"top":!1,this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),jQuery(function(a){"use strict";var b=function(b){var c=a.Deferred(),d=new FileReader;return d.onload=function(a){c.resolve(a.target.result)},d.onerror=c.reject,d.onprogress=c.notify,d.readAsDataURL(b),c.promise()};a.fn.cleanHtml=function(){var b=a(this).html();return b&&b.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},a.fn.wysiwyg=function(c){var d,e,f=this,g=function(){e.activeToolbarClass&&a(e.toolbarSelector).find(".btn[data-"+e.commandRole+"]").each(function(){var b=a(this).data(e.commandRole);document.queryCommandState(b)?a(this).addClass(e.activeToolbarClass):a(this).removeClass(e.activeToolbarClass)})},h=function(a,b){var c=a.split(" "),d=c.shift(),e=c.join(" ")+(b||"");document.execCommand(d,0,e),g()},i=function(b){a.each(b,function(a,b){f.keydown(a,function(a){f.attr("contenteditable")&&f.is(":visible")&&(a.preventDefault(),a.stopPropagation(),h(b))}).keyup(a,function(a){f.attr("contenteditable")&&f.is(":visible")&&(a.preventDefault(),a.stopPropagation())})})},j=function(){var a=window.getSelection();return a.getRangeAt&&a.rangeCount?a.getRangeAt(0):void 0},k=function(){d=j()},l=function(){var a,b=window.getSelection();if(d){try{b.removeAllRanges()}catch(c){a=document.body.createTextRange(),a.select(),document.selection.empty()}b.addRange(d)}},m=function(c){f.focus(),a.each(c,function(c,d){/^image\//.test(d.type)&&a.when(b(d)).done(function(a){h("insertimage",a)})})},n=function(a,b){l(),document.execCommand("hiliteColor",0,b||"transparent"),k(),a.data(e.selectionMarker,b)},o=function(b,c){b.find("a[data-"+c.commandRole+"]").click(function(){l(),f.focus(),h(a(this).data(c.commandRole)),k()}),b.find("[data-toggle=dropdown]").click(l),b.find("input[type=text][data-"+c.commandRole+"]").on("webkitspeechchange change",function(){var b=this.value;this.value="",l(),b&&(f.focus(),h(a(this).data(c.commandRole),b)),k()}).on("focus",function(){var b=a(this);b.data(c.selectionMarker)||(n(b,c.selectionColor),b.focus())}).on("blur",function(){var b=a(this);b.data(c.selectionMarker)&&n(b,!1)}),b.find("input[type=file][data-"+c.commandRole+"]").change(function(){l(),"file"===this.type&&this.files&&this.files.length>0&&m(this.files),k(),this.value=""})},p=function(){f.on("dragenter dragover",!1).on("drop",function(a){var b=a.originalEvent.dataTransfer;a.stopPropagation(),a.preventDefault(),b&&b.files&&b.files.length>0&&m(b.files)})};return e=a.extend({},a.fn.wysiwyg.defaults,c),i(e.hotKeys),p(),o(a(e.toolbarSelector),e),f.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){k(),g()}),a(window).bind("touchend",function(a){var b=f.is(a.target)||f.has(a.target).length>0,c=j(),d=c&&c.startContainer===c.endContainer&&c.startOffset===c.endOffset;(!d||b)&&(k(),g())}),this},a.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","ctrl+l meta+l":"justifyleft","ctrl+r meta+r":"justifyright","ctrl+e meta+e":"justifycenter","ctrl+j meta+j":"justifyfull","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey"}}),!function(a){"use strict";a(function(){a.support.transition=function(){var a=function(){var a,b=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(a in c)if(void 0!==b.style[a])return c[a]}();return a&&{end:a}}()})}(window.jQuery),!function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){d.trigger("closed").remove()}var d,e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,"")),d=a(f),b&&b.preventDefault(),d.length||(d=e.hasClass("alert")?e:e.parent()),d.trigger(b=a.Event("close")),b.isDefaultPrevented()||(d.removeClass("in"),a.support.transition&&d.hasClass("fade")?d.on(a.support.transition.end,c):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.alert.data-api",b,c.prototype.close)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.button.defaults,c)};b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.data(),e=c.is("input")?"val":"html";a+="Text",d.resetText||c.data("resetText",c[e]()),c[e](d[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active"),this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("button"),f="object"==typeof c&&c;e||d.data("button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.defaults={loadingText:"loading..."},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=c,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.prototype={cycle:function(b){return b||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},to:function(b){var c=this.$element.find(".item.active"),d=c.parent().children(),e=d.index(c),f=this;return b>d.length-1||0>b?void 0:this.sliding?this.$element.one("slid",function(){f.to(b)}):e==b?this.pause().cycle():this.slide(b>e?"next":"prev",a(d[b]))},pause:function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(b,c){var d,e=this.$element.find(".item.active"),f=c||e[b](),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(this.sliding=!0,g&&this.pause(),f=f.length?f:this.$element.find(".item")[i](),d=a.Event("slide",{relatedTarget:f[0]}),!f.hasClass("active")){if(a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(d),d.isDefaultPrevented())return;f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),this.$element.one(a.support.transition.end,function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})}else{if(this.$element.trigger(d),d.isDefaultPrevented())return;e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return g&&this.cycle(),this}}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("carousel"),f=a.extend({},a.fn.carousel.defaults,"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.cycle()})},a.fn.carousel.defaults={interval:5e3,pause:"hover"},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.carousel.data-api","[data-slide]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data());e.carousel(f),b.preventDefault()})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.collapse.defaults,c),this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.prototype={constructor:b,dimension:function(){var a=this.$element.hasClass("width");return a?"width":"height"},show:function(){var b,c,d,e;if(!this.transitioning){if(b=this.dimension(),c=a.camelCase(["scroll",b].join("-")),d=this.$parent&&this.$parent.find("> .accordion-group > .in"),d&&d.length){if(e=d.data("collapse"),e&&e.transitioning)return;d.collapse("hide"),e||d.data("collapse",null)}this.$element[b](0),this.transition("addClass",a.Event("show"),"shown"),a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;this.transitioning||(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();return this.$element.removeClass("collapse")[b](a||"auto")[0].offsetWidth,this.$element[null!==a?"addClass":"removeClass"]("collapse"),this},transition:function(b,c,d){var e=this,f=function(){"show"==c.type&&e.reset(),e.transitioning=0,e.$element.trigger(d)};this.$element.trigger(c),c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,f):f())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("collapse"),f="object"==typeof c&&c;e||d.data("collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.defaults={toggle:!0},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e).data("collapse")?"toggle":d.data();d[a(e).hasClass("in")?"addClass":"removeClass"]("collapsed"),a(e).collapse(f)})}(window.jQuery),!function(a){"use strict";function b(){a(d).each(function(){c(a(this)).removeClass("open")})}function c(b){var c,d=b.attr("data-target");return d||(d=b.attr("href"),d=d&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,"")),c=a(d),c.length||(c=b.parent()),c}var d="[data-toggle=dropdown]",e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(){var d,e,f=a(this);return f.is(".disabled, :disabled")?void 0:(d=c(f),e=d.hasClass("open"),b(),e||d.toggleClass("open"),f.focus(),!1)},keydown:function(b){var d,e,f,g,h;if(/(38|40|27)/.test(b.keyCode)&&(d=a(this),b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled"))){if(f=c(d),g=f.hasClass("open"),!g||g&&27==b.keyCode)return d.click();e=a("[role=menu] li:not(.divider):visible a",f),e.length&&(h=e.index(e.filter(":focus")),38==b.keyCode&&h>0&&h--,40==b.keyCode&&e.length-1>h&&h++,~h||(h=0),e.eq(h).focus())}}};var f=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",d=new e(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=e,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=f,this},a(document).on("click.dropdown.data-api touchstart.dropdown.data-api",b).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(a){a.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",d,e.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",d+", [role=menu]",e.prototype.keydown)}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||b.$element.appendTo(document.body),b.$element.show(),c&&b.$element[0].offsetWidth,b.$element.addClass("in").attr("aria-hidden",!1),b.enforceFocus(),c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault(),b=a.Event("hide"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=this,c=setTimeout(function(){b.$element.off(a.support.transition.end),b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c),b.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),d?this.$backdrop.one(a.support.transition.end,b):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,a.proxy(this.removeBackdrop,this)):this.removeBackdrop()):b&&b()}};var c=a.fn.modal;a.fn.modal=function(c){return this.each(function(){var d=a(this),e=d.data("modal"),f=a.extend({},a.fn.modal.defaults,d.data(),"object"==typeof c&&c);e||d.data("modal",e=new b(this,f)),"string"==typeof c?e[c]():f.show&&e.show()})},a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f).one("hide",function(){c.focus()})})}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("tooltip",a,b)};b.prototype={constructor:b,init:function(b,c,d){var e,f;this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(e="hover"==this.options.trigger?"mouseenter":"focus",f="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(e+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(f+"."+this.type,this.options.selector,a.proxy(this.leave,this))),this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){return b=a.extend({},a.fn[this.type].defaults,b,this.$element.data()),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},enter:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return c.options.delay&&c.options.delay.show?(clearTimeout(this.timeout),c.hoverState="in",void(this.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show))):c.show()},leave:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),c.options.delay&&c.options.delay.hide?(c.hoverState="out",void(this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide))):c.hide()},show:function(){var a,b,c,d,e,f,g;if(this.hasContent()&&this.enabled){switch(a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),f="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,b=/in/.test(f),a.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),c=this.getPosition(b),d=a[0].offsetWidth,e=a[0].offsetHeight,b?f.split(" ")[1]:f){case"bottom":g={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"top":g={top:c.top-e,left:c.left+c.width/2-d/2};break;case"left":g={top:c.top+c.height/2-e/2,left:c.left-d};break;case"right":g={top:c.top+c.height/2-e/2,left:c.left+c.width}}a.offset(g).addClass(f).addClass("in")}},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b),c.detach()})}var c=this.tip();return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?b():c.detach(),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(b){return a.extend({},b?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){var c=a(b.currentTarget)[this.type](this._options).data(this.type);c[c.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("tooltip"),f="object"==typeof c&&c;e||d.data("tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1},a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(window.jQuery),!function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a,b=this.$element,c=this.options;return a=b.attr("data-content")||("function"==typeof c.content?c.content.call(b[0]):c.content)},tip:function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("popover"),f="object"==typeof c&&c;e||d.data("popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}),a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(window.jQuery),!function(a){"use strict";function b(b,c){var d,e=a.proxy(this.process,this),f=a(a(b).is("body")?window:b);this.options=a.extend({},a.fn.scrollspy.defaults,c),this.$scrollElement=f.on("scroll.scroll-spy.data-api",e),this.selector=(this.options.target||(d=a(b).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=a("body"),this.refresh(),this.process()}b.prototype={constructor:b,refresh:function(){var b,c=this;this.offsets=a([]),this.targets=a([]),b=this.$body.find(this.selector).map(function(){var b=a(this),d=b.data("target")||b.attr("href"),e=/^#\w/.test(d)&&a(d);return e&&e.length&&[[e.position().top+c.$scrollElement.scrollTop(),d]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},process:function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||e[a+1]>=b)&&this.activate(f[a])},activate:function(b){var c,d;this.activeTarget=b,a(this.selector).parent(".active").removeClass("active"),d=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',c=a(d).parent("li").addClass("active"),c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active")),c.trigger("activate")}};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("scrollspy"),f="object"==typeof c&&c;e||d.data("scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.defaults={offset:10},a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery),!function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype={constructor:b,show:function(){var b,c,d,e=this.element,f=e.closest("ul:not(.dropdown-menu)"),g=e.attr("data-target");g||(g=e.attr("href"),g=g&&g.replace(/.*(?=#[^\s]*$)/,"")),e.parent("li").hasClass("active")||(b=f.find(".active:last a")[0],d=a.Event("show",{relatedTarget:b}),e.trigger(d),d.isDefaultPrevented()||(c=a(g),this.activate(e.parent("li"),f),this.activate(c,c.parent(),function(){e.trigger({type:"shown",relatedTarget:b})})))},activate:function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),
b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e):e(),f.removeClass("in")}};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.options=a.extend({},a.fn.typeahead.defaults,c),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=a(this.options.menu),this.shown=!1,this.listen()};b.prototype={constructor:b,select:function(){var a=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(a)).change(),this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:b.top+b.height,left:b.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var b;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(b=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source,b?this.process(b):this)},process:function(b){var c=this;return b=a.grep(b,function(a){return c.matcher(a)}),b=this.sorter(b),b.length?this.render(b.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b,c=[],d=[],e=[];b=a.shift();)b.toLowerCase().indexOf(this.query.toLowerCase())?~b.indexOf(this.query)?d.push(b):e.push(b):c.push(b);return c.concat(d,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=this;return b=a(b).map(function(b,d){return b=a(c.options.item).attr("data-value",d),b.find("a").html(c.highlighter(d)),b[0]}),b.first().addClass("active"),this.$menu.html(b),this},next:function(){var b=this.$menu.find(".active").removeClass("active"),c=b.next();c.length||(c=a(this.$menu.find("li")[0])),c.addClass("active")},prev:function(){var a=this.$menu.find(".active").removeClass("active"),b=a.prev();b.length||(b=this.$menu.find("li").last()),b.addClass("active")},listen:function(){this.$element.on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this))},eventSupported:function(a){var b=a in this.$element;return b||(this.$element.setAttribute(a,"return;"),b="function"==typeof this.$element[a]),b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault(),this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]),this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation(),a.preventDefault()},blur:function(){var a=this;setTimeout(function(){a.hide()},150)},click:function(a){a.stopPropagation(),a.preventDefault(),this.select()},mouseenter:function(b){this.$menu.find(".active").removeClass("active"),a(b.currentTarget).addClass("active")}};var c=a.fn.typeahead;a.fn.typeahead=function(c){return this.each(function(){var d=a(this),e=d.data("typeahead"),f="object"==typeof c&&c;e||d.data("typeahead",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},a.fn.typeahead.Constructor=b,a.fn.typeahead.noConflict=function(){return a.fn.typeahead=c,this},a(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(b){var c=a(this);c.data("typeahead")||(b.preventDefault(),c.typeahead(c.data()))})}(window.jQuery),!function(a){"use strict";var b=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(b),this.checkPosition()};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b,c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.bottom,h=f.top,i="affix affix-top affix-bottom";"object"!=typeof f&&(g=h=f),"function"==typeof h&&(h=f.top()),"function"==typeof g&&(g=f.bottom()),b=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=g&&e.top+this.$element.height()>=c-g?"bottom":null!=h&&h>=d?"top":!1,this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass(i).addClass("affix"+(b?"-"+b:"")))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("affix"),f="object"==typeof c&&c;e||d.data("affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(window.jQuery),jQuery.fn.classCachingWidget=function(a,b){"use strict";var c=jQuery(this),d=a+"-"+c.selector;return jQuery(window).unload(function(){b[d]=c.attr("class")}),c.addClass(b[d]),this},MM.CollaborationModel=function(a){"use strict";var b=observable(this),c=!1,d=function(a,d){c&&d&&b.dispatchEvent("myFocusChanged",a)},e=function(a,d){if(d&&c){var e=function(c){c&&b.dispatchEvent("collaboratorDidEdit",c,a)};b.dispatchEvent("collaboratorRequestedForContentSession",d,e)}};b.collaboratorFocusChanged=function(a){c&&b.dispatchEvent("collaboratorFocusChanged",a)},b.collaboratorPresenceChanged=function(a,d){if(c){var e=d?"collaboratorJoined":"collaboratorLeft";b.dispatchEvent(e,a,d)}},b.start=function(a){c=!0,_.size(a)>0&&_.each(a,b.collaboratorFocusChanged)},b.showCollaborator=function(c){b.dispatchEvent("sessionFocusRequested",c.sessionId,a.centerOnNode)},b.stop=function(){b.dispatchEvent("stopped"),c=!1},a.addEventListener("nodeSelectionChanged",d),a.addEventListener("nodeTitleChanged",e)},jQuery.fn.collaboratorListWidget=function(a,b){"use strict";return jQuery(this).each(function(){var c=jQuery(this),d=c.find("[data-mm-role~=collab-list]"),e=d.find("[data-mm-role~=template]").detach(),f=function(a){return d.find("[mm-session-id="+a+"]")},g=function(g){if(!(f(g.sessionId).size()>0)){var h=e.clone().appendTo(d).attr("mm-session-id",g.sessionId);h.find("[data-mm-role~=collaborator-name]").text(g.name),h.find("[data-mm-role~=collaborator-photo]").attr("src",g.photoUrl).css("border-color",g.color),h.find('[data-mm-role~="collaborator-selector"]').on("click tap",function(){a.showCollaborator(g)}),c.addClass(b)}},h=function(a){f(a.sessionId).remove(),0===d.children().size()&&c.removeClass(b)};c.removeClass(b),a.addEventListener("collaboratorFocusChanged collaboratorJoined",g),a.addEventListener("collaboratorLeft",h),a.addEventListener("stopped",function(){c.removeClass(b),d.empty()})})},MM.deferredImageLoader=function(a){"use strict";var b=jQuery.Deferred(),c=new Image;return c.onload=function(){b.resolve(jQuery(c))},c.src=a,b.promise()},jQuery.fn.collaboratorPhotoWidget=function(a,b,c){"use strict";var d=jQuery(this),e=function(a,b){var c=d.nodeWithId(a);c&&c.length>0&&b.appendTo(c).css({bottom:-1*Math.round(b.height()/2),right:-1*Math.round(b.width()/2)})},f=function(a){return d.find("."+c+"[data-mm-collaborator-id="+a+"]")},g=function(a){var d=f(a.sessionId);d&&d.length>0?e(a.focusNodeId,d):b(a.photoUrl).then(function(b){0===f(a.sessionId).length&&(b.addClass(c).attr("data-mm-collaborator-id",a.sessionId).css("border-color",a.color).tooltip({title:a.name,placement:"bottom",container:"body"}),e(a.focusNodeId,b))})},h=function(a){f(a.sessionId).remove()};return a.addEventListener("stopped",function(){d.find("."+c).remove()}),a.addEventListener("collaboratorFocusChanged collaboratorJoined",g),a.addEventListener("collaboratorLeft",h),d},jQuery.fn.collaboratorSpeechBubbleWidget=function(a,b){"use strict";var c=b||3e3;return this.each(function(){var b,d=jQuery(this),e=function(){a.showCollaborator(b)},f=d.find("[data-mm-role=collaborator-photo]"),g=d.find("[data-mm-role=popover-content-template]").detach(),h=d.find("[data-mm-role=popover-title-template]").detach(),i=function(a,b){var c=g.clone();return c.find("[data-mm-role=popover-content]").text(a),b&&c.find("[data-mm-role=popover-content]").addClass(b),c.html()},j=function(a){return h.find("[data-mm-role=popover-title]").text(a),h.html()},k=_.throttle(function(a,e,g){b=a,f.popover("destroy"),f.attr("src",a.photoUrl),f.css("border-color",a.color),f.popover({title:j(a.name),content:i(e,g),placement:"right",trigger:"manual",animation:!0,html:!0}),d.fadeIn(200,function(){setTimeout(function(){f.popover("destroy"),d.fadeOut()},c)}),f.popover("show")},c+700,{trailing:!1}),l=function(a,b){var c=b&&b.title&&b.title.trim(),d=c?"":"muted",e=c||"removed node content";k(a,e,d)},m=function(a){k(a,"joined the session","muted")},n=function(a){k(a,"left the session","muted")};f.on("click tap",e),a.addEventListener("collaboratorDidEdit",l),a.addEventListener("collaboratorJoined",m),a.addEventListener("collaboratorLeft",n)})},function(){function a(){return a}function b(a,d){var e=b.resolve(a),f=b.modules[e];if(!f)throw new Error('failed to require "'+a+'" from '+d);return f.exports||(f.exports={},f.call(f.exports,f,f.exports,b.relative(e),c)),f.exports}var c=this;b.modules={},b.resolve=function(a){var c=a,d=a+".js",e=a+"/index.js";return b.modules[d]&&d||b.modules[e]&&e||c},b.register=function(a,c){b.modules[a]=c},b.relative=function(c){return function(d){if("debug"==d)return a;if("."!=d.charAt(0))return b(d);var e=c.split("/"),f=d.split("/");e.pop();for(var g=0;g<f.length;g++){var h=f[g];".."==h?e.pop():"."!=h&&e.push(h)}return b(e.join("/"),c)}},b.register("color.js",function(a,b,c){var d=c("color-convert"),e=c("color-string");a.exports=function(a){return new f(a)};var f=function(a){if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof a){var b=e.getRgba(a);b?this.setValues("rgb",b):(b=e.getHsla(a))&&this.setValues("hsl",b)}else if("object"==typeof a){var b=a;void 0!==b.r||void 0!==b.red?this.setValues("rgb",b):void 0!==b.l||void 0!==b.lightness?this.setValues("hsl",b):void 0!==b.v||void 0!==b.value?this.setValues("hsv",b):(void 0!==b.c||void 0!==b.cyan)&&this.setValues("cmyk",b)}};f.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var a=this.values.rgb;return a.push(this.values.alpha),a},hslaArray:function(){var a=this.values.hsl;return a.push(this.values.alpha),a},alpha:function(a){return void 0===a?this.values.alpha:(this.setValues("alpha",a),this)},red:function(a){return this.setChannel("rgb",0,a)},green:function(a){return this.setChannel("rgb",1,a)},blue:function(a){return this.setChannel("rgb",2,a)},hue:function(a){return this.setChannel("hsl",0,a)},saturation:function(a){return this.setChannel("hsl",1,a)},lightness:function(a){return this.setChannel("hsl",2,a)},saturationv:function(a){return this.setChannel("hsv",1,a)},value:function(a){return this.setChannel("hsv",2,a)},cyan:function(a){return this.setChannel("cmyk",0,a)},magenta:function(a){return this.setChannel("cmyk",1,a)},yellow:function(a){return this.setChannel("cmyk",2,a)},black:function(a){return this.setChannel("cmyk",3,a)},hexString:function(){return e.hexString(this.values.rgb)},rgbString:function(){return e.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return e.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return e.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return e.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return e.hslaString(this.values.hsl,this.values.alpha)},keyword:function(){return e.keyword(this.values.rgb,this.values.alpha)},luminosity:function(){for(var a=this.values.rgb,b=0;b<a.length;b++){var c=a[b]/255;a[b]=.03928>=c?c/12.92:Math.pow((c+.055)/1.055,2.4)}return.2126*a[0]+.7152*a[1]+.0722*a[2]},contrast:function(a){var b=this.luminosity(),c=a.luminosity();return b>c?(b+.05)/(c+.05):(c+.05)/(b+.05)},dark:function(){var a=this.values.rgb,b=(299*a[0]+587*a[1]+114*a[2])/1e3;return 128>b},light:function(){return!this.dark()},negate:function(){for(var a=[],b=0;3>b;b++)a[b]=255-this.values.rgb[b];return this.setValues("rgb",a),this},lighten:function(a){return this.values.hsl[2]+=this.values.hsl[2]*a,this.setValues("hsl",this.values.hsl),this},darken:function(a){return this.values.hsl[2]-=this.values.hsl[2]*a,this.setValues("hsl",this.values.hsl),this},saturate:function(a){return this.values.hsl[1]+=this.values.hsl[1]*a,this.setValues("hsl",this.values.hsl),this},desaturate:function(a){return this.values.hsl[1]-=this.values.hsl[1]*a,this.setValues("hsl",this.values.hsl),this},greyscale:function(){var a=this.values.rgb,b=.3*a[0]+.59*a[1]+.11*a[2];return this.setValues("rgb",[b,b,b]),this},clearer:function(a){return this.setValues("alpha",this.values.alpha-this.values.alpha*a),this},opaquer:function(a){return this.setValues("alpha",this.values.alpha+this.values.alpha*a),this},rotate:function(a){var b=this.values.hsl[0];return b=(b+a)%360,b=0>b?360+b:b,this.values.hsl[0]=b,this.setValues("hsl",this.values.hsl),this},mix:function(a,b){b=1-(b||.5);for(var c=2*b-1,d=this.alpha()-a.alpha(),e=((c*d==-1?c:(c+d)/(1+c*d))+1)/2,f=1-e,g=this.rgbArray(),h=a.rgbArray(),i=0;i<g.length;i++)g[i]=g[i]*e+h[i]*f;this.setValues("rgb",g);var j=this.alpha()*b+a.alpha()*(1-b);return this.setValues("alpha",j),this},toJSON:function(){return this.rgb()}},f.prototype.getValues=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=this.values[a][c];return 1!=this.values.alpha&&(b.a=this.values.alpha),b},f.prototype.setValues=function(a,b){var c={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],cmyk:["cyan","magenta","yellow","black"]},e={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],cmyk:[100,100,100,100]},f=1;if("alpha"==a)f=b;else if(b.length)this.values[a]=b.slice(0,a.length),f=b[a.length];else if(void 0!==b[a[0]]){for(var g=0;g<a.length;g++)this.values[a][g]=b[a[g]];f=b.a}else if(void 0!==b[c[a][0]]){for(var h=c[a],g=0;g<a.length;g++)this.values[a][g]=b[h[g]];f=b.alpha}if(this.values.alpha=Math.max(0,Math.min(1,f||this.values.alpha)),"alpha"!=a){for(var i in c){i!=a&&(this.values[i]=d[a][i](this.values[a]));for(var g=0;g<i.length;g++){var j=Math.max(0,Math.min(e[i][g],this.values[i][g]));this.values[i][g]=Math.round(j)}}return!0}},f.prototype.setSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c),this)},f.prototype.setChannel=function(a,b,c){return void 0===c?this.values[a][b]:(this.values[a][b]=c,this.setValues(a,this.values[a]),this)}}),b.register("color-string",function(a,b,c){function d(a){if(a){var b=/^#([a-fA-F0-9]{3})$/,c=/^#([a-fA-F0-9]{6})$/,d=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+)\s*)?\)$/,e=/^rgba?\(\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*(?:,\s*([\d\.]+)\s*)?\)$/,f=/(\D+)/,g=[0,0,0],h=1,i=a.match(b);if(i){i=i[1];for(var j=0;j<g.length;j++)g[j]=parseInt(i[j]+i[j],16)}else if(i=a.match(c)){i=i[1];for(var j=0;j<g.length;j++)g[j]=parseInt(i.slice(2*j,2*j+2),16)}else if(i=a.match(d)){for(var j=0;j<g.length;j++)g[j]=parseInt(i[j+1]);h=parseFloat(i[4])}else if(i=a.match(e)){for(var j=0;j<g.length;j++)g[j]=Math.round(2.55*parseFloat(i[j+1]));h=parseFloat(i[4])}else if(i=a.match(f)){if("transparent"==i[1])return[0,0,0,0];if(g=s.keyword2rgb(i[1]),!g)return}for(var j=0;j<g.length;j++)g[j]=q(g[j],0,255);return h=h?q(h,0,1):1,g.push(h),g}}function e(a){if(a){var b=/^hsla?\(\s*(\d+)\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/,c=a.match(b);if(c){var d=q(parseInt(c[1]),0,360),e=q(parseFloat(c[2]),0,100),f=q(parseFloat(c[3]),0,100),g=q(parseFloat(c[4])||1,0,1);return[d,e,f,g]}}}function f(a){var b=d(a);return b&&b.slice(0,3)}function g(a){var b=e(a);return b&&b.slice(0,3)}function h(a){var b=d(a);return b?b[3]:(b=e(a))?b[3]:void 0}function i(a){return"#"+r(a[0])+r(a[1])+r(a[2])}function j(a,b){return 1>b||a[3]&&a[3]<1?k(a,b):"rgb("+a[0]+", "+a[1]+", "+a[2]+")"}function k(a,b){return"rgba("+a[0]+", "+a[1]+", "+a[2]+", "+(b||a[3]||1)+")"}function l(a,b){if(1>b||a[3]&&a[3]<1)return m(a,b);var c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return"rgb("+c+"%, "+d+"%, "+e+"%)"}function m(a,b){var c=Math.round(a[0]/255*100),d=Math.round(a[1]/255*100),e=Math.round(a[2]/255*100);return"rgba("+c+"%, "+d+"%, "+e+"%, "+(b||a[3]||1)+")"}function n(a,b){return 1>b||a[3]&&a[3]<1?o(a,b):"hsl("+a[0]+", "+a[1]+"%, "+a[2]+"%)"}function o(a,b){return"hsla("+a[0]+", "+a[1]+"%, "+a[2]+"%, "+(b||a[3]||1)+")"}function p(a){return s.rgb2keyword(a.slice(0,3))}function q(a,b,c){return Math.min(Math.max(b,a),c)}function r(a){var b=a.toString(16).toUpperCase();return b.length<2?"0"+b:b}var s=c("color-convert");a.exports={getRgba:d,getHsla:e,getRgb:f,getHsl:g,getAlpha:h,hexString:i,rgbString:j,rgbaString:k,percentString:l,percentaString:m,hslString:n,hslaString:o,keyword:p}}),b.register("color-convert",function(a,b,c){function d(a){for(var b=0;b<a.length;b++)a[b]=Math.round(a[b])}var e=c("conversions"),f=function(){return new k};for(var g in e){f[g+"Raw"]=function(a){return function(b){return"number"==typeof b&&(b=Array.prototype.slice.call(arguments)),e[a](b)}}(g);var h=/(\w+)2(\w+)/.exec(g),i=h[1],j=h[2];f[i]=f[i]||{},f[i][j]=f[g]=function(a){return function(b){"number"==typeof b&&(b=Array.prototype.slice.call(arguments));var c=e[a](b);return"string"==typeof c||void 0===c?c:(d(c),c)}}(g)}var k=function(){this.space="rgb",this.convs={rgb:[0,0,0]}};k.prototype.routeSpace=function(a,b){var c=b[0];return void 0===c?this.getValues(a):("number"==typeof c&&(c=Array.prototype.slice.call(b)),this.setValues(a,c))},k.prototype.setValues=function(a,b){return this.space=a,this.convs={},this.convs[a]=b,this},k.prototype.getValues=function(a){var b=this.convs[a];if(b)d(b);else{var c=this.space,e=this.convs[c];b=f[c][a](e),this.convs[a]=b}return b},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(a){k.prototype[a]=function(){return this.routeSpace(a,arguments)}}),a.exports=f}),b.register("conversions",function(a){function b(a){var b,c,d,e=a[0]/255,f=a[1]/255,g=a[2]/255,h=Math.min(e,f,g),i=Math.max(e,f,g),j=i-h;return i==h?b=0:e==i?b=(f-g)/j:f==i?b=2+(g-e)/j:g==i&&(b=4+(e-f)/j),b=Math.min(60*b,360),0>b&&(b+=360),d=(h+i)/2,c=i==h?0:.5>=d?j/(i+h):j/(2-i-h),[b,100*c,100*d]}function c(a){var b,c,d,e=a[0],f=a[1],g=a[2],h=Math.min(e,f,g),i=Math.max(e,f,g),j=i-h;return c=0==i?0:j/i*1e3/10,i==h?b=0:e==i?b=(f-g)/j:f==i?b=2+(g-e)/j:g==i&&(b=4+(e-f)/j),b=Math.min(60*b,360),0>b&&(b+=360),d=i/255*1e3/10,[b,c,d]}function d(a){var b,c,d,e,f=a[0]/255,g=a[1]/255,h=a[2]/255;return e=Math.min(1-f,1-g,1-h),b=(1-f-e)/(1-e),c=(1-g-e)/(1-e),d=(1-h-e)/(1-e),[100*b,100*c,100*d,100*e]}function e(a){return D[JSON.stringify(a)]}function f(a){var b=a[0]/255,c=a[1]/255,d=a[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,c=c>.04045?Math.pow((c+.055)/1.055,2.4):c/12.92,d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92;var e=.4124*b+.3576*c+.1805*d,f=.2126*b+.7152*c+.0722*d,g=.0193*b+.1192*c+.9505*d;return[100*e,100*f,100*g]}function g(a){var b,c,d,e=f(a),g=e[0],h=e[1],i=e[2];return g/=95.047,h/=100,i/=108.883,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,b=116*h-16,c=500*(g-h),d=200*(h-i),[b,c,d]}function h(a){var b,c,d,e,f,g=a[0]/360,h=a[1]/100,i=a[2]/100;if(0==h)return f=255*i,[f,f,f];c=.5>i?i*(1+h):i+h-i*h,b=2*i-c,e=[0,0,0];for(var j=0;3>j;j++)d=g+1/3*-(j-1),0>d&&d++,d>1&&d--,f=1>6*d?b+6*(c-b)*d:1>2*d?c:2>3*d?b+(c-b)*(2/3-d)*6:b,e[j]=255*f;return e}function i(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return f*=2,e*=1>=f?f:2-f,c=(f+e)/2,b=2*e/(f+e),[d,100*b,100*c]}function j(a){return d(h(a))}function k(a){return e(h(a))}function l(a){var b=a[0]/60,c=a[1]/100,d=a[2]/100,e=Math.floor(b)%6,f=b-Math.floor(b),g=255*d*(1-c),h=255*d*(1-c*f),i=255*d*(1-c*(1-f)),d=255*d;switch(e){case 0:return[d,i,g];case 1:return[h,d,g];case 2:return[g,d,i];case 3:return[g,h,d];case 4:return[i,g,d];case 5:return[d,g,h]}}function m(a){var b,c,d=a[0],e=a[1]/100,f=a[2]/100;return c=(2-e)*f,b=e*f,b/=1>=c?c:2-c,c/=2,[d,100*b,100*c]}function n(a){return d(l(a))}function o(a){return e(l(a))}function p(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100,h=a[3]/100;return b=1-Math.min(1,e*(1-h)+h),c=1-Math.min(1,f*(1-h)+h),d=1-Math.min(1,g*(1-h)+h),[255*b,255*c,255*d]}function q(a){return b(p(a))}function r(a){return c(p(a))}function s(a){return e(p(a))}function t(a){var b,c,d,e=a[0]/100,f=a[1]/100,g=a[2]/100;return b=3.2406*e+-1.5372*f+g*-.4986,c=e*-.9689+1.8758*f+.0415*g,d=.0557*e+f*-.204+1.057*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:b*=12.92,c=c>.0031308?1.055*Math.pow(c,1/2.4)-.055:c*=12.92,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:d*=12.92,b=0>b?0:b,c=0>c?0:c,d=0>d?0:d,[255*b,255*c,255*d]}function u(a){var b,c,d,e=a[0],f=a[1],g=a[2];return e/=95.047,f/=100,g/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,f=f>.008856?Math.pow(f,1/3):7.787*f+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,b=116*f-16,c=500*(e-f),d=200*(f-g),[b,c,d]}function v(a){var b,c,d,e,f=a[0],g=a[1],h=a[2];return 8>=f?(c=100*f/903.3,e=7.787*(c/100)+16/116):(c=100*Math.pow((f+16)/116,3),e=Math.pow(c/100,1/3)),b=.008856>=b/95.047?b=95.047*(g/500+e-16/116)/7.787:95.047*Math.pow(g/500+e,3),d=.008859>=d/108.883?d=108.883*(e-h/200-16/116)/7.787:108.883*Math.pow(e-h/200,3),[b,c,d]}function w(a){return C[a]}function x(a){return b(w(a))}function y(a){return c(w(a))}function z(a){return d(w(a))}function A(a){return g(w(a))}function B(a){return f(w(a))}a.exports={rgb2hsl:b,rgb2hsv:c,rgb2cmyk:d,rgb2keyword:e,rgb2xyz:f,rgb2lab:g,hsl2rgb:h,hsl2hsv:i,hsl2cmyk:j,hsl2keyword:k,hsv2rgb:l,hsv2hsl:m,hsv2cmyk:n,hsv2keyword:o,cmyk2rgb:p,cmyk2hsl:q,cmyk2hsv:r,cmyk2keyword:s,keyword2rgb:w,keyword2hsl:x,keyword2hsv:y,keyword2cmyk:z,keyword2lab:A,keyword2xyz:B,xyz2rgb:t,xyz2lab:u,lab2xyz:v};var C={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},D={};for(var E in C)D[JSON.stringify(C[E])]=E}),Color=b("color.js")}(),$.fn.commandLineWidget=function(a,b){"use strict";var c=this;return c.keydown(a,function(a){b.getInputEnabled()&&a&&(a.preventDefault(),a.stopPropagation())}),c.keyup(a,function(a){if(b.getInputEnabled()){var d,e=function(a){var b=a&&Color(a.toLowerCase()),c=b&&(b.hexString().toUpperCase()===a.toUpperCase()||b.keyword()&&("BLACK"!==b.keyword().toUpperCase()||"BLACK"===a.toUpperCase()));return c?b:a&&"#"!==a[0]?e("#"+a):!1},f=function(){d&&d.remove(),b.setInputEnabled(!0)},g=function(){var a=d&&d.val(),c=e(a.toLowerCase());f(),c&&b.updateStyle("cmdline","background",c.hexString())},h=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"];a&&(a.preventDefault(),a.stopPropagation()),b.setInputEnabled(!1),d=$('<input type="text" placeholder="Type a color name or hex">').css("position","absolute").css("z-index","9999").appendTo(c).css("top","30%").css("left","40%").css("width","20%").css("border-width","5px").focus().blur(f).keyup("Esc",f).change(g).typeahead({source:h,highlighter:function(a){return'<span style="background-color:'+a+';" >&nbsp;</span>&nbsp;'+a}})}}),c},jQuery.fn.contextMenuWidget=function(a){"use strict";var b=this.find("[data-mm-context-menu]").clone(),c=jQuery('<ul class="dropdown-menu">').css("position","absolute").css("z-index","999").hide().appendTo("body"),d=function(){c.is(":visible")&&c.hide(),jQuery(document).off("click touch keydown",d)},e={},f=function(a){if(!e[a]){var b=jQuery('<li class="dropdown-submenu"><a tabindex="-1" href="#"></a><ul class="dropdown-menu"></ul></li>').appendTo(c);b.find("a").text(a),e[a]=b.find("ul")}return e[a]};return b.find("a").attr("data-category","Context Menu"),_.each(b,function(a){var b=jQuery(a).attr("data-mm-context-menu");b?f(b).append(a):c.append(a)}),a.addEventListener("mapMoveRequested mapScaleChanged nodeSelectionChanged nodeEditRequested mapViewResetRequested",d),a.addEventListener("contextMenuRequested",function(a,b,e){c.css("left",b).css("top",e-10).css("display","block").show(),c.offset().top+c.outerHeight()>jQuery(window).height()-20&&c.css("top",jQuery(window).height()-20-c.outerHeight()),c.offset().left+2*c.outerWidth()>jQuery(window).width()-20?c.find(".dropdown-submenu").addClass("pull-left"):c.find(".dropdown-submenu").removeClass("pull-left"),c.offset().left+c.outerWidth()>jQuery(window).width()-20&&c.css("left",jQuery(window).width()-20-c.outerWidth()),jQuery(document).off("click",d),c.on("mouseenter",function(){jQuery(document).off("click",d)}),c.on("mouseout",function(){jQuery(document).on("click",d)}),jQuery(document).on("touch keydown",d)}),c.on("contextmenu",function(a){return a.preventDefault(),a.stopPropagation(),!1}),c},MM.CustomStyleController=function(a,b){"use strict";var c,d=this,e=jQuery('<style id="customStyleCSS" type="text/css"></style>').appendTo("body"),f=function(a){var d=a.getAttr("customCSS");d!==c&&(c=d,e.text(c||""),jQuery(".mapjs-node").data("nodeCacheMark",""),b.rebuildRequired())};d.getStyle=function(){return c||""},d.setStyle=function(b){var c=a.getActiveContent();c.updateAttr(c.id,"customCSS",b)},a.addListener(f)},jQuery.fn.customStyleWidget=function(a){"use strict";var b=this,c=b.find("[data-mm-role=style-input]"),d=b.find("[data-mm-role=save]");

b.on("show",function(){c.val(a.getStyle())}),d.click(function(){a.setStyle(c.val())})},MM.EmbeddedMapUrlGenerator=function(a){"use strict";var b=this;b.buildMapUrl=function(b){var c=b&&b[0],d=c&&a[c],e=jQuery.Deferred();return d?e.resolve((d.prefix||"")+b.slice(d.remove)+(d.postfix||"")):e.reject(),e.promise()}},MM.Extensions=function(a,b,c,d){"use strict";var e=[],f=function(a,b,c,d,e){c.forEach(function(c){var f,g=a.getElementsByTagName(b)[0];f=a.createElement(b),f.src=("file:"===document.location.protocol?"http:":"")+c,f.onload=d,f.onerror=e,g.parentNode.insertBefore(f,g)})},g=function(a){return _.flatten(_.reject(_.map(a,function(a){return MM.Extensions.config[a]&&MM.Extensions.config[a].script.split(" ")}),function(a){return!a}))};a[b]&&(e=a[b].split(" ")),this.requiredExtension=function(a){var b,c;for(b in MM.Extensions.config)if(c=MM.Extensions.config[b],c.providesMapId&&c.providesMapId(a))return b},this.scriptsToLoad=function(a){var b=this.requiredExtension(a),d=b?_.union(e,b):e,f=g(d);return _.map(f,function(a){return/^http[s]?:/.test(a)?a:c.publicUrl+a})},this.isActive=function(a){return _.contains(e,a)},this.setActive=function(c,f){e=f?_.union(e,[c]):_.without(e,c),a[b]=e.join(" "),d&&d.activityLog&&d.activityLog.log("Extensions",c,"act-"+f)},this.load=function(a){var b,e,g=jQuery.Deferred(),h=this.scriptsToLoad(a);return MM.Extensions.components=d,MM.Extensions.mmConfig=c,f(document,"script",c.scriptsToLoadAsynchronously.split(" ")),MM.Extensions.pendingScripts=_.invert(h),f(document,"script",h,function(){delete MM.Extensions.pendingScripts[jQuery(this).attr("src")]},function(){d.alert.hide(b),window.clearInterval(e),d.alert.show("A required extension failed to load due to a network error.",'You may continue to use the site but some features may not be available. Please reload the page when you reconnect to the Internet to activate all the features. If the error persists, please contact us at <a href="mailto:contact@mindmup.com">contact@mindmup.com</a>',"error"),g.resolve()}),_.isEmpty(MM.Extensions.pendingScripts)?g.resolve():(b=d.alert.show('<i class="icon-spinner icon-spin"></i>&nbsp;Please wait, loading extensions...<span data-mm-role="num-extensions"></span>'),e=window.setInterval(function(){_.isEmpty(MM.Extensions.pendingScripts)?(d.alert.hide(b),window.clearInterval(e),g.resolve()):jQuery("[data-mm-role=num-extensions]").text(_.size(MM.Extensions.pendingScripts)+" remaining")},1e3)),g.promise()}},MM.Extensions.config={"goggle-collaboration":{name:"Realtime collaboration",script:"/e/google-collaboration.js",icon:"icon-group",doc:"http://blog.mindmup.com/p/realtime-collaboration.html",desc:"Realtime collaboration on a map, where several people can concurrently change it and updates are shown to everyone almost instantly. Collaboration is persisted using Google Drive.",providesMapId:function(a){"use strict";return/^cg/.test(a)}},progress:{name:"Progress",script:"/e/progress.js",icon:"icon-dashboard",doc:"http://blog.mindmup.com/p/monitoring-progress.html",desc:"Progress allows you to manage hierarchies of tasks faster by propagating statuses to parent nodes. For example, when all sub-tasks are completed, the parent task is marked as completed automatically.",aggregateAttributeName:"progress-statuses",measurementsConfigName:"measurements-config",isActiveOnMapContent:function(a){"use strict";return a.getAttr(MM.Extensions.config.progress.aggregateAttributeName)}},"straight-lines":{name:"Straight lines",script:"/e/straight-lines.js",icon:"icon-reorder",doc:"http://blog.mindmup.com/p/straight-lines.html",desc:"This extension converts funky curve connectors into straight lines, which makes it clearer to see what connects to what on large maps"},github:{name:"Github",script:"/e/github.js",icon:"icon-github",doc:"http://www.github.com",desc:"Store your maps on Github",providesMapId:function(a){"use strict";return/^h/.test(a)}},dropbox:{name:"Dropbox",script:"https://www.dropbox.com/static/api/1/dropbox-datastores-0.1.0-b3.js /e/dropbox.js",icon:"icon-dropbox",doc:"http://blog.mindmup.com/p/working-with-dropbox.html",desc:"Store your maps on Dropbox",providesMapId:function(a){"use strict";return/^d1/.test(a)}}},jQuery.fn.extensionsWidget=function(a,b,c){"use strict";var d,e,f=this,g=function(a,b,e,f){d=c.show(a,'<a href="#" data-mm-role="alert-callback">'+b+"</a>",e),jQuery("[data-mm-role=alert-callback]").click(function(){c.hide(d),f()})},h=f.find("[data-mm-role=ext-list]"),i=h.find("[data-mm-role=template]").hide().clone(),j=!1;return _.each(MM.Extensions.config,function(b,c){var d=i.clone().appendTo(h).show();d.find("[data-mm-role=title]").html("&nbsp;"+b.name).addClass(b.icon),d.find("[data-mm-role=doc]").attr("href",b.doc),d.find("[data-mm-role=desc]").prepend(b.desc),d.find("input[type=checkbox]").attr("checked",a.isActive(c)).change(function(){a.setActive(c,this.checked),j=!0})}),f.on("hidden",function(){j&&(e?window.location="/map/"+e:location.reload()),e=void 0}),b.addEventListener("mapIdNotRecognised",function(b){var h=a.requiredExtension(b);c.hide(d),b&&"o"===b[0]||(h?g("This map requires an extension to load!","Click here to enable the "+MM.Extensions.config[h].name+" extension","warning",function(){e=b,f.modal("show")}):d=c.show("The URL is unrecognised!","it might depend on a custom extension that is not available to you.","error"))}),b.addEventListener("mapLoaded",function(b,h){var i=_.filter(MM.Extensions.config,function(b,c){return b.isActiveOnMapContent&&b.isActiveOnMapContent(h)&&!a.isActive(c)}),j=i.length>1?"s":"";c.hide(d),i.length&&g("This map uses additional extensions!","Click here to enable the "+_.map(i,function(a){return a.name}).join(", ")+" extension"+j,"warning",function(){e=b,f.modal("show")})}),f},$.fn.file_reader_upload=function(a,b,c,d){"use strict";var e,f,g=this,h=window.FileReader&&new FileReader;return d=d||["mup","mm"],h?(a=a||function(a){console.log("Reading",a)},b=b||function(a){console.log("Read",a)},c=c||function(a){console.log("Read error",a)},h.onload=function(a){b(a.target.result,f)},h.onerror=function(a){c("Error reading file",a)},h.onloadstart=function(){a(e)},g.change(function(){var a=this.files[0];return e=a.name,f=e.split(".").pop(),_.contains(d,f)?(h.readAsText(a,"UTF-8"),void g.val("")):void c("unsupported format "+f)}),g):g},MM.FileSystemMapSource=function(a,b){"use strict";var c=this,d="application/json",e=function(a,c){var e,f;return c===d?e="string"==typeof a?JSON.parse(a):a:"application/octet-stream"===c?e=JSON.parse(a):("application/x-freemind"===c||"application/vnd-freemind"===c)&&(e=MM.freemindImport(a)),f=MAPJS.content(e),b&&b(f),f},f=function(a){return/\.mm$/.test(a)?"application/x-freemind":/\.mup$/.test(a)?"application/json":"application/octet-stream"};c.loadMap=function(b,c){var d=jQuery.Deferred(),g={"application/json":!0,"application/octet-stream":!0,"application/x-freemind":!1,"application/vnd-freemind":!1};return a.loadMap(b,c).then(function(a,b,c,h,i){if(!c&&i&&(c=f(i)),h=jQuery.extend({editable:g[c]},h),"application/vnd.mindmup.collab"===c)return d.reject("map-load-redirect","c"+b).promise();if(void 0===g[c])d.reject("format-error","Unsupported format "+c);else try{d.resolve(e(a,c),b,h)}catch(j){d.reject("format-error","File content not in correct format for this file type")}},d.reject,d.notify),d.promise()},c.saveMap=function(b,c,d){var e=function(a){return a?a.replace(/\/|\t|\n|\r/g," "):void 0},f=jQuery.Deferred(),g=JSON.stringify(b,null,2),h=MM.navigationEscape(e(b.title))+".mup";return a.saveMap(g,c,h,!!d).then(f.resolve,f.reject,f.notify),f.promise()},c.description=a.description,c.recognises=a.recognises},jQuery.fn.floatingToolbarWidget=function(){"use strict";return this.each(function(){var a=jQuery(this);a.draggable({containment:"window"})})},MM.freemindImport=function(a,b,c){"use strict";var d,e=function(a,b){var c,d={},e=function(a){return $("<div>").append(a).html()};return a.attr("BACKGROUND_COLOR")&&(d.style={background:a.attr("BACKGROUND_COLOR")}),(b&&b.collapsed||"true"===a.attr("FOLDED"))&&(d.collapsed="true"),c=a.children("richcontent").find("body"),c.length>0&&(d.attachment={contentType:"text/html",content:e(c.children())}),d},f=function(a,b){var d=$(a),g={title:d.attr("TEXT")||""},h=d.children("node"),i=e(d,b),j=_.map(h,function(a){return f(a,i)}),k={},l=1;return _.size(i)>0&&(g.attr=i),j.length>0?(_.each(j,function(a){var b="left"===$(h[l-1]).attr("POSITION")?-1:1;k[b*l]=a,l+=1}),g.ideas=k):g.attr&&g.attr.collapsed&&delete g.attr.collapsed,c&&c(),g},g=$($.parseXML(a));return b&&b(g.find("node").length),d=f(g.find("map").children("node").first()),d.formatVersion=2,d},MM.freemindExport=function(a){"use strict";var b=function(a){var c=escape(a.title).replace(/%([0-9A-F][0-9A-F])/g,"&#x$1;").replace(/%u([0-9A-F][0-9A-F][0-9A-F][0-9A-F])/g,"&#x$1;");return'<node ID="'+a.id+'" TEXT="'+c+'">'+(_.size(a.ideas)>0?_.map(_.sortBy(a.ideas,function(a,b){return parseFloat(b)}),b).join(""):"")+"</node>"};return'<map version="0.7.1">'+b(a)+"</map>"},MM.GoldApi=function(a,b,c,d){"use strict";var e,f,g=this,h="GoldApi",i=function(a){var b=["not-authenticated","invalid-args","server-error","user-exists","email-exists"];return _.contains(b,a)?a:a&&0===a.indexOf("not-connected ")?a:"network-error"},j=function(b,c,d,e){var f=jQuery.Deferred(),h=function(a){var c=_.extend({},d,{license:JSON.stringify(a)});e&&e!==a.account?f.reject("not-authenticated"):g.exec(b,c).then(function(b){f.resolve(b,a.account)},f.reject)};return a.retrieveLicense(c).then(h,f.reject),f.promise()};g.exec=function(a,d){var e=jQuery.Deferred(),f=function(b){var d=b.responseText;c.log(h,"error",a+":"+d),e.reject(i(d))},g=c.timer(h,a),j=new FormData,k={"license/register":"json","file/export_config":"json","file/upload_config":"json","file/echo_config":"json","license/subscription":"json","license/request_license_using_code":"json","license/request_license_using_google":"json"};return j.append("api_version","3"),d&&_.each(d,function(a,b){j.append(b,a)}),jQuery.ajax({url:b+"/"+a,dataType:k[a],data:j,processData:!1,contentType:!1,type:"POST"}).then(e.resolve,f).always(g.end),e.promise()},g.register=function(b,c){var d=jQuery.Deferred();return g.exec("license/register",{to_email:c,account_name:b}).then(function(b){b.license&&a.storeLicense(b.license),d.resolve(b)},d.reject,d.notify),d.promise()},g.getSubscription=function(){var b=a.getLicense();return g.exec("license/subscription",{license:JSON.stringify(b)})},g.cancelSubscription=function(){var b=a.getLicense();return g.exec("license/cancel_subscription",{license:JSON.stringify(b)})},g.generateExportConfiguration=function(b){var c=a.getLicense();return g.exec("file/export_config",{license:JSON.stringify(c),format:b})},g.generateEchoConfiguration=function(b,c){var d=a.getLicense();return g.exec("file/echo_config",{license:JSON.stringify(d),format:b,contenttype:c})},g.requestCode=function(a){return e=MM.onetimePassword(),f=a,g.exec("license/request_code",{identifier:a,one_time_pw:e})},g.restoreLicenseWithCode=function(b){var c=jQuery.Deferred();return e&&f?g.exec("license/request_license_using_code",{identifier:f,one_time_pw:e,code:b}).then(function(b){a.storeLicense(b),c.resolve()},c.reject):c.reject("no-code-requested"),c.promise()},g.restoreLicenseWithGoogle=function(b){var c=jQuery.Deferred();return g.exec("license/request_license_using_google",{token:b}).then(function(b){a.storeLicense(b),c.resolve()},c.reject),c.promise()},g.listFiles=function(a){var b=jQuery.Deferred(),c=function(a,c){var d=jQuery(a),e=[];d.find("Contents").each(function(){var a=jQuery(this),b=a.children("Key").text(),c=b.indexOf("/")+1;e.push({modifiedDate:a.children("LastModified").text(),title:b.slice(c)})}),b.resolve(e,c)};return j("file/list",a).then(c,b.reject),b.promise()},g.generateSaveConfig=function(a){return j("file/upload_config",a)},g.fileUrl=function(a,b,c,e){return e?j("file/url",a,{file_key:encodeURIComponent(c)},b):jQuery.Deferred().resolve("https://"+d+".s3.amazonaws.com/"+b+"/"+encodeURIComponent(c)).promise()},g.exists=function(b){var c=jQuery.Deferred(),d=a.getLicense();return d?g.exec("file/exists",{license:JSON.stringify(d),file_key:encodeURIComponent(b)}).then(function(a){var b=jQuery(a);c.resolve(b.find("Contents").length>0)},c.reject):c.reject("not-authenticated"),c.promise()},g.deleteFile=function(b){var c=jQuery.Deferred(),d=a.getLicense();return d?g.exec("file/delete",{license:JSON.stringify(d),file_key:b}).then(c.resolve,c.reject):c.reject("not-authenticated"),c.promise()}},MM.onetimePassword=function(){"use strict";var a=function(){var a=1+Math.random();return(65536*a||0).toString(16).substring(1)};return a()+"-"+a()},MM.GoldFunnelModel=function(a){"use strict";var b=observable(this),c="direct",d="goldFunnel";b.setFunnelId=function(a){c=a},b.step=function(b,e){a.log(d,b+":"+e,c)}},jQuery.fn.mmUpdateInputField=function(){"use strict";return this.each(function(){var a=jQuery(this),b="form[data-mm-role="+a.data("mm-form")+'] [data-mm-role="'+a.data("mm-form-field")+'"]',c=jQuery(b),d='[data-mm-role="form-input-updater"][data-mm-form="'+a.data("mm-form")+'"][data-mm-form-field="'+a.data("mm-form-field")+'"]';c.attr("value",a.val()),jQuery(d).not(a).val(a.val())})},jQuery.fn.goldLicenseEntryWidget=function(a,b,c,d,e,f){"use strict";d=d||window;var g,h,i=this,j=!1,k=i.find("[data-mm-role~=remove]"),l=function(a,b){b?c.log("Gold",a,b):c.log("Gold",a)},m=function(){var b=a.getLicense(),c=b&&b.account||"";q("payment-complete"),i.find("[data-mm-role~=account-name]").val(c).text(c)},n=function(b){var c=b&&b.expiry,d=b&&b.price||"",e=new Date(1e3*c),f=e&&e.toDateString()||"",g=a.getLicense(),h=g&&g.account||"",j=b.provider?"-"+b.provider:"";q("license-"+b.status+j),i.find("[data-mm-role~=account-name]").val(h).text(h),i.find("[data-mm-role~=expiry-date]").val(f).text(f),i.find("[data-mm-role~=renewal-price]").val(d).text(d),_.each(b,function(a,b){i.find("[data-mm-role~=license-"+b+"]").text(a)}),b.actions&&_.each(b.actions,function(a){i.find("[data-mm-role~=action-"+a+"]").show()})},o=function(){var c=a.getLicense(),d=function(a){"license-purchase-required"===a?q("license-purchase-required"):("view-license"===g||"loading-subscription"===g)&&q("not-authenticated"===a?"invalid-license":"license-server-unavailable")},e=function(a){var b=a&&a.status;b?n(a):d("not-authenticated")},f=c&&c.account||"";i.find("[data-mm-role~=account-name]").val(f).text(f),c?(i.find("[data-mm-role~=license-text]").val(JSON.stringify(c)),i.find("[data-mm-role~=account-name]").val(c.account).text(c.account),"view-license"===g&&(q("loading-subscription"),b.getSubscription().then(e,d))):(i.find("[data-mm-role~=license-text]").val(""),i.find("[data-mm-role~=account-name]").val("").text(""),i.find("[data-mm-role~=expiry-date]").val("").text(""),i.find("[data-mm-role~=subscription-name]").val("").text(""),i.find("[data-mm-role~=renewal-price]").val("").text("")),i.find("[data-mm-role~=form-input-updater]").mmUpdateInputField()},p=!1,q=function(a){g!==a&&f&&f.step("account-widget",a);var c=i.find("[data-mm-section~="+a+"]");p&&window.clearInterval(p),h=g,g=a,l("license-section",a),i.find("[data-mm-section]").not("[data-mm-section~="+a+"]").hide(),c.show(),c.data("mm-poll-for-subscription")&&(p=window.setInterval(function(){b.getSubscription().then(v)},5e3))},r=function(a,b){return b?a?"unauthorised-license":"license-required":a?"view-license":"no-license"},s=function(b){var c=a.getLicense(),d=c&&c.account||b.email;i.find("[data-mm-role=license-capacity]").text(b.capacity),b.license&&i.find("[data-mm-role~=license-text]").val(b.license),b["grace-period"]?(i.find("[data-mm-role=license-grace-period]").text(b["grace-period"]),i.find("[data-mm-role=license-has-grace-period]").show()):i.find("[data-mm-role=license-has-grace-period]").hide(),i.find("[data-mm-role=license-email]").text(b.email),i.find("[data-mm-role=account-name]").text(d).val(d),f&&f.step("account-widget","registration-complete"),q("registration-success")},t=function(a){i.find("[data-mm-section=registration-fail] .alert [data-mm-role]").hide();var b=i.find("[data-mm-section=registration-fail] .alert [data-mm-role~="+a+"]");b.length>0?b.show():i.find("[data-mm-section=registration-fail] .alert [data-mm-role~=network-error]").show(),q("registration-fail")},u=function(){var a=i.find("[data-mm-section="+g+"] form"),c=a.find("input[name=email]"),d=a.find("input[name=account-name]"),e=a.find("input[name=terms]");return f&&f.step("account-widget","registration-requested"),/^[^@]+@[^@.]+\.[^@]+[^@.]$/.test(c.val())?c.parents("div.control-group").removeClass("error"):(c.parents("div.control-group").addClass("error"),f&&f.step("account-widget","registration-attempt-rejected:email")),/^[a-z][a-z0-9]{3,20}$/.test(d.val())?d.parents("div.control-group").removeClass("error"):(d.parents("div.control-group").addClass("error"),f&&f.step("account-widget","registration-attempt-rejected:account-name")),e.prop("checked")?e.parents("div.control-group").removeClass("error"):(e.parents("div.control-group").addClass("error"),f&&f.step("account-widget","registration-attempt-rejected:terms")),a.find("div.control-group").hasClass("error")?!1:(f&&f.step("account-widget","registration-initiated"),b.register(d.val(),c.val()).then(s,t),void q("registration-progress"))},v=function(b){var c=b&&b.status;"active"===c&&(a.completeLicenseEntry(),m())},w=function(a){a&&a.data&&a.data.goldApi&&(l("license-message",a.data.goldApi),b.getSubscription().then(v))},x=function(){b.getSubscription().then(function(b){var c=b&&b.expiry;c>Date.now()/1e3&&a.completeLicenseEntry()}),q("view-license"),o()};return i.find("form").submit(function(){return this.action}),i.find("[data-mm-role~=form-submit]").click(function(){var a=jQuery(this).data("mm-form"),b=jQuery(a),c=b.find('[data-mm-role="subscription-code"]').val(),d=c&&b.find('[data-mm-subscription-code="'+c+'"]');d&&(b.find('[data-mm-role="subscription-description"]').val("Mindmup Gold "+d.text()),b.find('[data-mm-role="subscription-amount-dollars"]').val(d.data("mm-subscription-amount-dollars")),b.find('[data-mm-role="subscription-period"]').val(d.data("mm-subscription-period"))),b.data("mm-next-section")&&q(b.data("mm-next-section")),jQuery(a).submit()}),i.find("[data-mm-role~=form-input-updater]").change(function(){jQuery(this).mmUpdateInputField()}),i.on("show",function(){l("license-show");var b=a.getLicense();i.find("input[type=text]").val(""),q(r(b,j)),o()}),i.on("shown",function(){i.find("[data-mm-role=gold-account-identifier]").is(":visible")&&i.find("[data-mm-role=gold-account-identifier]").focus()}),i.find("button[data-mm-role=view-subscription]").click(function(){q("view-license"),o()}),i.on("hidden",function(){a.cancelLicenseEntry(),p&&window.clearInterval(p),k.show(),j=!1}),k.click(function(){a.removeLicense(),o(),q("no-license")}),i.find("button[data-mm-role~=show-section]").click(function(){q(jQuery(this).data("mm-target-section"))}),i.find("button[data-mm-role~=register]").click(u),i.find("button[data-mm-role~=action-BuySubscription]").click(function(){f&&f.step("account-widget","payment-initiated")}),i.find("button[data-mm-role~=action-CancelSubscription]").click(function(){q("cancelling-subscription"),b.cancelSubscription().then(function(){q("cancelled-subscription")},function(){q("cancellation-failed")})}),i.find("button[data-mm-role~=go-back]").click(function(){h&&q(h)}),i.find("button[data-mm-role=kickoff-sign-up]").click(function(){q("register"),i.find("#gold-register-account-name").focus()}),i.find("[data-mm-role=kickoff-restore-license]").click(function(){var a=i.find("[data-mm-role=gold-account-identifier]"),c=a.val();c&&c.trim()?(a.parents("div.control-group").removeClass("error"),q("sending-code"),b.requestCode(c.trim()).then(function(){q("code-sent")},function(){q("sending-code-failed")})):a.parents("div.control-group").addClass("error")}),i.find("[data-mm-role=restore-license-with-code]").click(function(){var a=i.find("[data-mm-role=gold-access-code]"),c=a.val();c&&c.trim()?(q("sending-restore-license-code"),b.restoreLicenseWithCode(c.trim()).then(x,function(){q("restore-code-failed")})):a.parents("div.control-group").addClass("error")}),a.addEventListener("license-entry-required",function(){j=!0,i.modal("show")}),i.find("[data-mm-role=kickoff-google]").click(function(){var a=jQuery(this),c=!!a.attr("data-mm-showdialogs"),d=function(a){b.restoreLicenseWithGoogle(a).then(x,function(a){if(a&&0===a.indexOf("not-connected ")){var b=a.substring("not-connected ".length);i.find("input[name=email]").val(b),q("google-auth-not-connected")}else q("google-auth-failed")})},f=function(){q("google-auth-failed")};q("google-auth-progress"),e.authenticate(c,!0).then(d,function(){c?f():q("google-auth-with-dialogs")})}),i.modal({keyboard:!0,show:!1}),d.addEventListener("message",w,!1),i},MM.GoldLicenseManager=function(a,b){"use strict";var c,d=this,e=function(a){return a&&"mindmup-gold"===a.accountType};observable(this),this.getLicense=function(){return a.getItem(b)},this.retrieveLicense=function(a){return c=void 0,!a&&this.getLicense()?jQuery.Deferred().resolve(this.getLicense()).promise():(c=jQuery.Deferred(),d.dispatchEvent("license-entry-required"),c.promise())},this.storeLicense=function(c){var d=c;if(_.isString(c))try{d=JSON.parse(c)}catch(f){return!1}return e(d)?(a.setItem(b,d),!0):!1},this.removeLicense=function(){a.setItem(b,void 0)},this.cancelLicenseEntry=function(){var a=c;c&&(c=void 0,a.reject("user-cancel"))},this.completeLicenseEntry=function(){var a=c;c&&(c=void 0,a.resolve(d.getLicense()))}},jQuery.fn.goldStorageOpenWidget=function(a,b){"use strict";var c=this,d=this.find("[data-mm-role=template]"),e=d.parent(),f=this.find("[data-mm-role=status]"),g=function(a,b,c,d){b=b||"block";var e='<div class="alert fade-in alert-'+b+'"><button type="button" class="close" data-dismiss="alert">&#215;</button><strong>'+a+"</strong>";d&&c&&(e=e+'&nbsp;<a href="#" data-mm-role="auth">'+c+"</a>"),e+="</div>",f.html(e),jQuery("[data-mm-role=auth]").click(function(){f.empty(),d()})},h=function(a){c.find("[data-mm-section]").hide(),c.find('[data-mm-section~="'+a+'"]').show()},i=function(a){f.empty();var g=[];g=_.sortBy(a,function(a){return a&&a.modifiedDate}).reverse(),g&&g.length>0?_.each(g,function(a){var f;a&&(f=d.clone().appendTo(e),f.find("[rel=tooltip]").tooltip(),f.find("a[data-mm-role=file-link]").text(a.title).click(function(){c.modal("hide"),b.loadMap(a.id)}),f.find("[data-mm-role~=map-delete]").click(function(){c.find('[data-mm-section~="delete-map"] [data-mm-role~="map-name"]').text(a.title),h("delete-map")}),f.find("[data-mm-role=modification-status]").text(new Date(a.modifiedDate).toLocaleString()))}):jQuery('<tr><td colspan="3">No maps found</td></tr>').appendTo(e)},j=function(){var b=function(){g('Unable to retrieve files from Mindmup Gold due to a network error. Please try again later. If the problem persists, please <a href="mailto:contact@mindmup.com">contact us</a>.',"error")};e.empty(),f.html('<i class="icon-spinner icon-spin"/> Retrieving files...'),a.list(!1).then(i,function(d){"not-authenticated"===d?a.list(!0).then(i,function(a){"user-cancel"===a?c.modal("hide"):"not-authenticated"===a?g('The license key is invalid. To obtain or renew a MindMup Gold License, please send us an e-mail at <a href="mailto:contact@mindmup.com">contact@mindmup.com</a>',"error"):b()}):"user-cancel"===d?c.modal("hide"):b()})};return d.detach(),c.find("[data-mm-target-section]").click(function(){var a=jQuery(this),b=a.data("mm-target-section");h(b)}),c.find('[data-mm-role~="delete-map-confirmed"]').click(function(){var b=c.find('[data-mm-section~="delete-map"] [data-mm-role~="map-name"]').text();h("delete-map-in-progress"),a.deleteMap(b).then(function(){h("delete-map-successful")},function(a){c.find('[data-mm-section="delete-map-failed"] [data-mm-role="reason"]').text(a),h("delete-map-failed")})}),c.on("show",function(a){this===a.target&&(h("file-list"),j())}),c.modal({keyboard:!0,show:!1,backdrop:"static"}),c},MM.GoldStorage=function(a,b,c,d){"use strict";var e,f=this,g={editable:!0},h=function(a){return a&&d&&d[a]},i=function(a){var b=a&&a.split("/");return!b||b.length<3?!1:h(b[0])?{prefix:b[0],account:b[1],fileNameKey:decodeURIComponent(b[2])}:!1},j=function(a,b,c){return a+"/"+b+"/"+encodeURIComponent(c)};d=_.extend({p:{isPrivate:!0},b:{isPrivate:!1},listPrefix:"b"},d),_.each(d,function(a,b){a.isPrivate&&(e=b)}),f.fileSystemFor=function(a,b){return{recognises:function(b){return b&&b[0]===a},description:b||"MindMup Gold",saveMap:function(b,c,d,e){return f.saveMap(a,b,c,d,e)},loadMap:f.loadMap}},f.deleteMap=a.deleteFile,f.list=function(b){var c=jQuery.Deferred(),e=function(a,b){var e=d.listPrefix+"/"+b+"/",f=function(a){return _.extend({id:e+encodeURIComponent(a.title)},a)};c.resolve(_.map(a,f))};return a.listFiles(b).then(e,c.reject),c.promise()},f.saveMap=function(e,f,h,k,l){var m=jQuery.Deferred(),n=function(a,b){return a&&a.fileNameKey&&a.account===b?a.fileNameKey:k},o=function(k,l){var o=i(h),p=n(o,l),q=_.extend({},k,{key:l+"/"+p}),r=function(){return o&&l===o.account?!1:!0},s=function(){m.resolve(j(e,l,p),g)},t=function(){b.save(f,q,d[e]).then(s,m.reject)},u=function(){c.showModalToConfirm("Confirm saving","There is already a file with that name in your gold storage. Please confirm that you want to overwrite it, or cancel and rename the map before saving","Overwrite").then(t,m.reject.bind(m,"user-cancel"))},v=function(){a.exists(p).then(function(a){a?u():t()},m.reject)};r()?v():t()};return a.generateSaveConfig(l).then(o,m.reject),m.promise()},f.loadMap=function(c,f){var h=jQuery.Deferred(),k=i(c),l=function(c,i,k){var m=d[c].isPrivate;a.fileUrl(f,i,k,m).then(function(a){b.loadUrl(a).then(function(a){h.resolve(a,j(c,i,k),"application/json",g)},function(a){"map-not-found"===a&&!m&&e?l(e,i,k):h.reject(a)})},h.reject)};return k?l(k.prefix,k.account,k.fileNameKey):h.reject("invalid-args"),h.promise()}},MM.GoogleAuthenticator=function(a,b){"use strict";var c=this,d=function(b,c){var d=jQuery.Deferred(),e="https://www.googleapis.com/auth/drive.file https://www.googleapis.com/auth/drive.install https://www.googleapis.com/auth/userinfo.profile";return d.notify("Authenticating with Google"),gapi.auth.authorize({client_id:a,scope:c?e+" https://www.googleapis.com/auth/userinfo.email":e,immediate:!b},function(a){a&&!a.error?d.resolve(a.access_token):d.reject("not-authenticated")}),d.promise()},e=function(a){window.gapi&&window.gapi.client?a():(window.googleClientLoaded=function(){gapi.client.setApiKey(b),a()},jQuery('<script src="https://apis.google.com/js/client.js?onload=googleClientLoaded"></script>').appendTo("body"))};c.gapiAuthToken=function(){return window.gapi&&gapi.auth&&gapi.auth.getToken()&&gapi.auth.getToken().access_token},c.isAuthorised=function(){return!!c.gapiAuthToken()},c.authenticate=function(a,b){var c=jQuery.Deferred(),f=a?"failed-authentication":"not-authenticated";return e(function(){d(a,b).then(c.resolve,function(){c.reject(f)},c.notify)}),c.promise()}},MM.GoogleDriveAdapter=function(a,b,c,d){"use strict";var e,f={},g=function(a){return a&&"g"===a[0]},h=function(a){return g(a)?a.substr(2):void 0},i=function(a){return"g1"+(a||"")},j=function(b,c,e,g){var k=h(c),l=jQuery.Deferred(),m="-------314159265358979323846",n="\r\n--"+m+"\r\n",o="\r\n--"+m+"--",p=g||d,q={title:e,mimeType:p},r=n+"Content-Type: application/json\r\n\r\n"+JSON.stringify(q)+n+"Content-Type: "+p+"\r\n\r\n"+b+o,s=gapi.client.request({path:"/upload/drive/v2/files"+(k?"/"+k:""),method:k?"PUT":"POST",params:{uploadType:"multipart",useContentAsIndexableText:b.length<131072},headers:{"Content-Type":"multipart/mixed; boundary='"+m+"'"},body:r});try{l.notify("sending to Google Drive"),s.execute(function(d){var g=[404,500,502,503,504,-1];d.error?403===d.error.code?l.reject(!d.error.reason||"rateLimitExceeded"!==d.error.reason&&"userRateLimitExceeded"!==d.error.reason?"no-access-allowed":"network-error"):401===d.error.code?a.authenticate(!1).then(function(){j(b,c,e).then(l.resolve,l.reject,l.notify)},l.reject,l.notify):l.reject(_.contains(g,d.error.code)?"network-error":d.error):l.resolve(i(d.id),f)})}catch(t){l.reject("network-error",t.toString()+"\nstack: "+t.stack+"\nauth: "+JSON.stringify(gapi.auth.getToken())+"\nnow: "+Date.now())}return l.promise()},k=function(a){var b=jQuery.Deferred(),c=a&&a.fileSize&&parseFloat(a.fileSize),d=function(a){b.notify({total:c,loaded:a.loaded})};return a.downloadUrl?jQuery.ajax(a.downloadUrl,{progress:d,headers:{Authorization:"Bearer "+gapi.auth.getToken().access_token}}).then(b.resolve,b.reject.bind(b,"network-error")):b.reject("no-file-url"),b.promise()},l=function(a){var b=jQuery.Deferred(),c=gapi.client.drive.files.get({fileId:a});return c.execute(function(a){var c=a.mimeType;a.error?b.reject(403===a.error.code?"network-error":404===a.error.code?"no-access-allowed":a.error):k(a).then(function(a){b.resolve(a,c)},b.reject,b.notify)}),b.promise()},m=function(b){var c=jQuery.Deferred();return a.authenticate(b).then(function(){e?c.resolve():(c.notify("Loading Google Drive APIs"),gapi.client.load("drive","v2",function(){e=!0,c.resolve()}))},c.reject,c.notify),c.promise()};this.description="Google",this.saveFile=j,this.binaryUpload=function(b,c,d,e){var f=jQuery.Deferred(),g=function(a){var b;try{b=_.isString(a)?JSON.parse(a):a,b.id&&b.alternateLink?f.resolve({id:i(b.id),link:b.alternateLink}):f.reject("server-error",a)}catch(c){f.reject("server-error",a)}},h=function(a){var b;try{_.isString(a)?b=JSON.parse(a):(b=a,b.error?401===b.error.code?f.reject("not-authenticated"):403===b.error.code?f.reject("no-access-allowed"):f.reject("network-error",b.message):f.reject("server-error",a))}catch(c){f.reject("server-error",a)}},j=function(a){a.lengthComputable?f.notify(Math.round(100*a.loaded/a.total,2)+"%",a):f.notify(!1,a)},k={file:b,metadata:{title:c,mimeType:d},token:a.gapiAuthToken(),onComplete:g,onError:h,onProgress:j};return e&&(k.params={convert:!0}),new MediaUploader(k).upload(),f.promise()},this.toGoogleFileId=h,this.ready=function(b){return e&&a.isAuthorised()?jQuery.Deferred().resolve():m(b)},this.recognises=g,this.loadMap=function(a,b){var c=jQuery.Deferred(),d=h(a),e=function(){l(d).then(function(b,d){c.resolve(b,a,d,f)},c.reject).progress(c.notify)};return this.ready(b).then(e,c.reject,c.notify),c.promise()},this.saveMap=function(a,b,c,d){var e=jQuery.Deferred();return this.ready(d).then(function(){j(a,b,c).then(e.resolve,e.reject,e.notify)},e.reject).progress(e.notify),e.promise()},this.showSharingSettings=function(a){var c=function(){var c=new gapi.drive.share.ShareClient(b);c.setItemIds(h(a)),c.showSettingsDialog()};gapi&&gapi.drive&&gapi.drive.share?c():this.ready(!1).done(function(){gapi.load("drive-share",c)})},this.showPicker=function(c,d,e){var f=jQuery.Deferred(),g="application/octet-stream,application/vnd.mindmup.collab,application/vnd-freemind,application/json,application/vnd.google.drive.ext-type.mup,application/x-freemind,application/vnd.google.drive.ext-type.mm",h=function(){var e,g;g=new google.picker.DocsView(google.picker.ViewId.DOCS),g.setMimeTypes(c),g.setMode(google.picker.DocsViewMode.LIST),e=(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.NAV_HIDDEN).setAppId(b).addView(g).setCallback(function(a){return"picked"===a.action?void f.resolve(i(a.docs[0].id)):void("cancel"===a.action&&f.reject())}).setTitle(d).setSelectableMimeTypes(c).setOAuthToken(a.gapiAuthToken()).build().setVisible(!0)};return c=c||g,window.google&&window.google.picker?h():this.ready(e).then(function(){gapi.load("picker",h)},f.reject,f.notify),f.promise()}},$.fn.googleDriveOpenWidget=function(a,b,c,d){"use strict";var e=this,f="Open a MindMup or Freemind file from Google Drive";e.click(function(){var e=$(this),g=e.data("mm-content-types"),h=e.data("mm-title")||f,i=function(a){d.error(a)},j=function(a){d.log(a)},k=function(a){b.loadMap(a)},l=function(b){"not-authenticated"===b&&c.showModalToConfirm("Please confirm external access",'This operation requires authentication through Google Drive, an external storage provider. Please click on Authenticate below to go to the external provider and allow MindMup to access your account. You can learn more about authentication requirements on our <a href="http://blog.mindmup.com/p/storage-options.html" target="_blank">Storage Options</a> page.',"Authenticate").then(function(){
a.showPicker(g,h,!0).then(k,i,j)})};a.showPicker(g,h,!1).then(k,l,j)})};var RetryHandler=function(){this.interval=1e3,this.maxInterval=6e4};RetryHandler.prototype.retry=function(a){setTimeout(a,this.interval),this.interval=this.nextInterval_()},RetryHandler.prototype.reset=function(){this.interval=1e3},RetryHandler.prototype.nextInterval_=function(){var a=2*this.interval+this.getRandomInt_(0,1e3);return Math.min(a,this.maxInterval)},RetryHandler.prototype.getRandomInt_=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)};var MediaUploader=function(a){var b=function(){};if(this.file=a.file,this.contentType=a.contentType||this.file.type||"application/octet-stream",this.metadata=a.metadata||{title:this.file.name,mimeType:this.contentType},this.token=a.token,this.onComplete=a.onComplete||b,this.onProgress=a.onProgress||b,this.onError=a.onError||b,this.offset=a.offset||0,this.chunkSize=a.chunkSize||0,this.retryHandler=new RetryHandler,this.url=a.url,!this.url){var c=a.params||{};c.uploadType="resumable",this.url=this.buildUrl_(a.fileId,c,a.baseUrl)}this.httpMethod=a.fileId?"PUT":"POST"};MediaUploader.prototype.upload=function(){var a=new XMLHttpRequest;a.open(this.httpMethod,this.url,!0),a.setRequestHeader("Authorization","Bearer "+this.token),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("X-Upload-Content-Length",this.file.size),a.setRequestHeader("X-Upload-Content-Type",this.contentType),a.onload=function(a){if(a.target.status<400){var b=a.target.getResponseHeader("Location");this.url=b,this.sendFile_()}else this.onUploadError_(a)}.bind(this),a.onerror=this.onUploadError_.bind(this),a.send(JSON.stringify(this.metadata))},MediaUploader.prototype.sendFile_=function(){var a=this.file,b=this.file.size;(this.offset||this.chunkSize)&&(this.chunkSize&&(b=Math.min(this.offset+this.chunkSize,this.file.size)),a=a.slice(this.offset,b));var c=new XMLHttpRequest;c.open("PUT",this.url,!0),c.setRequestHeader("Content-Type",this.contentType),c.setRequestHeader("Content-Range","bytes "+this.offset+"-"+(b-1)+"/"+this.file.size),c.setRequestHeader("X-Upload-Content-Type",this.file.type),c.upload&&c.upload.addEventListener("progress",this.onProgress),c.onload=this.onContentUploadSuccess_.bind(this),c.onerror=this.onContentUploadError_.bind(this),c.send(a)},MediaUploader.prototype.resume_=function(){var a=new XMLHttpRequest;a.open("PUT",this.url,!0),a.setRequestHeader("Content-Range","bytes */"+this.file.size),a.setRequestHeader("X-Upload-Content-Type",this.file.type),a.upload&&a.upload.addEventListener("progress",this.onProgress),a.onload=this.onContentUploadSuccess_.bind(this),a.onerror=this.onContentUploadError_.bind(this),a.send()},MediaUploader.prototype.extractRange_=function(a){var b=a.getResponseHeader("Range");b&&(this.offset=parseInt(b.match(/\d+/g).pop(),10)+1)},MediaUploader.prototype.onContentUploadSuccess_=function(a){200==a.target.status||201==a.target.status?this.onComplete(a.target.response):308==a.target.status&&(this.extractRange_(a.target),this.retryHandler.reset(),this.sendFile_())},MediaUploader.prototype.onContentUploadError_=function(a){a.target.status&&a.target.status<500?this.onError(a.target.response):this.retryHandler.retry(this.resume_.bind(this))},MediaUploader.prototype.onUploadError_=function(a){this.onError(a.target.response)},MediaUploader.prototype.buildQuery_=function(a){return a=a||{},Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")},MediaUploader.prototype.buildUrl_=function(a,b,c){var d=c||"https://www.googleapis.com/upload/drive/v2/files/";a&&(d+=a);var e=this.buildQuery_(b);return e&&(d+="?"+e),d},jQuery.fn.googleShareWidget=function(a,b){"use strict";return this.click(function(){b.showSharingSettings(a.currentMapId())})},jQuery.fn.gridDown=function(){"use strict";var a=this,b=a.position(),c=_.filter(a.siblings(),function(a){var c=jQuery(a).position();return b.top<c.top&&Math.abs(b.left-c.left)<3}),d=_.min(c,function(a){return jQuery(a).position().top});return d&&jQuery(d)||a},jQuery.fn.gridUp=function(){"use strict";var a=this,b=a.position(),c=_.filter(a.siblings(),function(a){var c=jQuery(a).position();return b.top>c.top&&Math.abs(b.left-c.left)<3}),d=_.max(c,function(a){return jQuery(a).position().top});return d&&jQuery(d)||a},!function(a,b){"use strict";function c(){d.READY||(s.determineEventTypes(),r.each(d.gestures,function(a){u.register(a)}),s.onTouch(d.DOCUMENT,n,u.detect),s.onTouch(d.DOCUMENT,o,u.detect),d.READY=!0)}var d=function v(a,b){return new v.Instance(a,b||{})};d.VERSION="1.1.3",d.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.DOCUMENT=document,d.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&d.IS_MOBILE||d.HAS_POINTEREVENTS,d.CALCULATE_INTERVAL=25;var e={},f=d.DIRECTION_DOWN="down",g=d.DIRECTION_LEFT="left",h=d.DIRECTION_UP="up",i=d.DIRECTION_RIGHT="right",j=d.POINTER_MOUSE="mouse",k=d.POINTER_TOUCH="touch",l=d.POINTER_PEN="pen",m=d.EVENT_START="start",n=d.EVENT_MOVE="move",o=d.EVENT_END="end",p=d.EVENT_RELEASE="release",q=d.EVENT_TOUCH="touch";d.READY=!1,d.plugins=d.plugins||{},d.gestures=d.gestures||{};var r=d.utils={extend:function(a,c,d){for(var e in c)!c.hasOwnProperty(e)||a[e]!==b&&d||(a[e]=c[e]);return a},on:function(a,b,c){a.addEventListener(b,c,!1)},off:function(a,b,c){a.removeEventListener(b,c,!1)},each:function(a,c,d){var e,f;if("forEach"in a)a.forEach(c,d);else if(a.length!==b){for(e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)===!1)return}else for(e in a)if(a.hasOwnProperty(e)&&c.call(d,a[e],e,a)===!1)return},inStr:function(a,b){return a.indexOf(b)>-1},inArray:function(a,b){if(a.indexOf){var c=a.indexOf(b);return-1===c?!1:c}for(var d=0,e=a.length;e>d;d++)if(a[d]===b)return d;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){var b=[],c=[],d=[],e=[],f=Math.min,g=Math.max;return 1===a.length?{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY}:(r.each(a,function(a){b.push(a.pageX),c.push(a.pageY),d.push(a.clientX),e.push(a.clientY)}),{pageX:(f.apply(Math,b)+g.apply(Math,b))/2,pageY:(f.apply(Math,c)+g.apply(Math,c))/2,clientX:(f.apply(Math,d)+g.apply(Math,d))/2,clientY:(f.apply(Math,e)+g.apply(Math,e))/2})},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return 180*Math.atan2(d,c)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.clientX-b.clientX),d=Math.abs(a.clientY-b.clientY);return c>=d?a.clientX-b.clientX>0?g:i:a.clientY-b.clientY>0?h:f},getDistance:function(a,b){var c=b.clientX-a.clientX,d=b.clientY-a.clientY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==h||a==f},setPrefixedCss:function(a,b,c,d){var e=["","Webkit","Moz","O","ms"];b=r.toCamelCase(b);for(var f=0;f<e.length;f++){var g=b;if(e[f]&&(g=e[f]+g.slice(0,1).toUpperCase()+g.slice(1)),g in a.style){a.style[g]=(null==d||d)&&c||"";break}}},toggleBehavior:function(a,b,c){if(b&&a&&a.style){r.each(b,function(b,d){r.setPrefixedCss(a,d,b,c)});var d=c&&function(){return!1};"none"==b.userSelect&&(a.onselectstart=d),"none"==b.userDrag&&(a.ondragstart=d)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},s=d.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(a,b,c,d){var e=b.split(" ");r.each(e,function(b){r.on(a,b,c),d&&d(b)})},off:function(a,b,c,d){var e=b.split(" ");r.each(e,function(b){r.off(a,b,c),d&&d(b)})},onTouch:function(a,b,c){var f=this,g=function(e){var g,h=e.type.toLowerCase(),i=d.HAS_POINTEREVENTS,j=r.inStr(h,"mouse");j&&f.preventMouseEvents||(j&&b==m&&0===e.button?(f.preventMouseEvents=!1,f.shouldDetect=!0):i&&b==m?f.shouldDetect=1===e.buttons||t.matchType(k,e):j||b!=m||(f.preventMouseEvents=!0,f.shouldDetect=!0),i&&b!=o&&t.updatePointer(b,e),f.shouldDetect&&(g=f.doDetect.call(f,e,b,a,c)),g==o&&(f.preventMouseEvents=!1,f.shouldDetect=!1,t.reset()),i&&b==o&&t.updatePointer(b,e))};return this.on(a,e[b],g),g},doDetect:function(a,b,c,d){var e=this.getTouchList(a,b),f=e.length,g=b,h=e.trigger,i=f;b==m?h=q:b==o&&(h=p,i=e.length-(a.changedTouches?a.changedTouches.length:1)),i>0&&this.started&&(g=n),this.started=!0;var j=this.collectEventData(c,g,e,a);return b!=o&&d.call(u,j),h&&(j.changedLength=i,j.eventType=h,d.call(u,j),j.eventType=g,delete j.changedLength),g==o&&(d.call(u,j),this.started=!1),g},determineEventTypes:function(){var b;return b=d.HAS_POINTEREVENTS?a.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],e[m]=b[0],e[n]=b[1],e[o]=b[2],e},getTouchList:function(a,b){if(d.HAS_POINTEREVENTS)return t.getTouchList();if(a.touches){if(b==n)return a.touches;var c=[],e=[].concat(r.toArray(a.touches),r.toArray(a.changedTouches)),f=[];return r.each(e,function(a){r.inArray(c,a.identifier)===!1&&f.push(a),c.push(a.identifier)}),f}return a.identifier=1,[a]},collectEventData:function(a,b,c,d){var e=k;return r.inStr(d.type,"mouse")||t.matchType(j,d)?e=j:t.matchType(l,d)&&(e=l),{center:r.getCenter(c),timeStamp:Date.now(),target:d.target,touches:c,eventType:b,pointerType:e,srcEvent:d,preventDefault:function(){var a=this.srcEvent;a.preventManipulation&&a.preventManipulation(),a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return u.stopDetect()}}}},t=d.PointerEvent={pointers:{},getTouchList:function(){var a=[];return r.each(this.pointers,function(b){a.push(b)}),a},updatePointer:function(a,b){a==o||a!=o&&1!==b.buttons?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b)},matchType:function(a,b){if(!b.pointerType)return!1;var c=b.pointerType,d={};return d[j]=c===(b.MSPOINTER_TYPE_MOUSE||j),d[k]=c===(b.MSPOINTER_TYPE_TOUCH||k),d[l]=c===(b.MSPOINTER_TYPE_PEN||l),d[a]},reset:function(){this.pointers={}}},u=d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:r.extend({},b),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var b=this.current.inst,c=b.options;return r.each(this.gestures,function(d){!this.stopped&&b.enabled&&c[d.name]&&d.handler.call(d,a,b)},this),this.current&&(this.current.lastEvent=a),a.eventType==o&&this.stopDetect(),a}},stopDetect:function(){this.previous=r.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(a,b,c,e,f){var g=this.current,h=!1,i=g.lastCalcEvent,j=g.lastCalcData;i&&a.timeStamp-i.timeStamp>d.CALCULATE_INTERVAL&&(b=i.center,c=a.timeStamp-i.timeStamp,e=a.center.clientX-i.center.clientX,f=a.center.clientY-i.center.clientY,h=!0),(a.eventType==q||a.eventType==p)&&(g.futureCalcEvent=a),(!g.lastCalcEvent||h)&&(j.velocity=r.getVelocity(c,e,f),j.angle=r.getAngle(b,a.center),j.direction=r.getDirection(b,a.center),g.lastCalcEvent=g.futureCalcEvent||a,g.futureCalcEvent=a),a.velocityX=j.velocity.x,a.velocityY=j.velocity.y,a.interimAngle=j.angle,a.interimDirection=j.direction},extendEventData:function(a){var b=this.current,c=b.startEvent,d=b.lastEvent||c;(a.eventType==q||a.eventType==p)&&(c.touches=[],r.each(a.touches,function(a){c.touches.push({clientX:a.clientX,clientY:a.clientY})}));var e=a.timeStamp-c.timeStamp,f=a.center.clientX-c.center.clientX,g=a.center.clientY-c.center.clientY;return this.getCalculatedData(a,d.center,e,f,g),r.extend(a,{startEvent:c,deltaTime:e,deltaX:f,deltaY:g,distance:r.getDistance(c.center,a.center),angle:r.getAngle(c.center,a.center),direction:r.getDirection(c.center,a.center),scale:r.getScale(c.touches,a.touches),rotation:r.getRotation(c.touches,a.touches)}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),r.extend(d.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}};d.Instance=function(a,b){var e=this;c(),this.element=a,this.enabled=!0,r.each(b,function(a,c){delete b[c],b[r.toCamelCase(c)]=a}),this.options=r.extend(r.extend({},d.defaults),b||{}),this.options.behavior&&r.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=s.onTouch(a,m,function(a){e.enabled&&a.eventType==m?u.startDetect(e,a):a.eventType==q&&u.detect(a)}),this.eventHandlers=[]},d.Instance.prototype={on:function(a,b){var c=this;return s.on(c.element,a,b,function(a){c.eventHandlers.push({gesture:a,handler:b})}),c},off:function(a,b){var c=this;return s.off(c.element,a,b,function(a){var d=r.inArray({gesture:a,handler:b});d!==!1&&c.eventHandlers.splice(d,1)}),c},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return r.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this},dispose:function(){var a,b;for(r.toggleBehavior(this.element,this.options.behavior,!1),a=-1;b=this.eventHandlers[++a];)r.off(this.element,b.gesture,b.handler);return this.eventHandlers=[],s.off(this.element,e[m],this.eventStartHandler),null}},function(a){function b(b,d){var e=u.current;if(!(d.options.dragMaxTouches>0&&b.touches.length>d.options.dragMaxTouches))switch(b.eventType){case m:c=!1;break;case n:if(b.distance<d.options.dragMinDistance&&e.name!=a)return;var j=e.startEvent.center;if(e.name!=a&&(e.name=a,d.options.dragDistanceCorrection&&b.distance>0)){var k=Math.abs(d.options.dragMinDistance/b.distance);j.pageX+=b.deltaX*k,j.pageY+=b.deltaY*k,j.clientX+=b.deltaX*k,j.clientY+=b.deltaY*k,b=u.extendEventData(b)}(e.lastEvent.dragLockToAxis||d.options.dragLockToAxis&&d.options.dragLockMinDistance<=b.distance)&&(b.dragLockToAxis=!0);var l=e.lastEvent.direction;b.dragLockToAxis&&l!==b.direction&&(b.direction=r.isVertical(l)?b.deltaY<0?h:f:b.deltaX<0?g:i),c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),d.trigger(a+b.direction,b);var q=r.isVertical(b.direction);(d.options.dragBlockVertical&&q||d.options.dragBlockHorizontal&&!q)&&b.preventDefault();break;case p:c&&b.changedLength<=d.options.dragMaxTouches&&(d.trigger(a+"end",b),c=!1);break;case o:c=!1}}var c=!1;d.gestures.Drag={name:a,index:50,handler:b,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),d.gestures.Gesture={name:"gesture",index:1337,handler:function(a,b){b.trigger(this.name,a)}},function(a){function b(b,d){var e=d.options,f=u.current;switch(b.eventType){case m:clearTimeout(c),f.name=a,c=setTimeout(function(){f&&f.name==a&&d.trigger(a,b)},e.holdTimeout);break;case n:b.distance>e.holdThreshold&&clearTimeout(c);break;case p:clearTimeout(c)}}var c;d.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:b}}("hold"),d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==p&&b.trigger(this.name,a)}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,b){if(a.eventType==p){var c=a.touches.length,d=b.options;if(c<d.swipeMinTouches||c>d.swipeMaxTouches)return;(a.velocityX>d.swipeVelocityX||a.velocityY>d.swipeVelocityY)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},function(a){function b(b,d){var e,f,g=d.options,h=u.current,i=u.previous;switch(b.eventType){case m:c=!1;break;case n:c=c||b.distance>g.tapMaxDistance;break;case o:!r.inStr(b.srcEvent.type,"cancel")&&b.deltaTime<g.tapMaxTime&&!c&&(e=i&&i.lastEvent&&b.timeStamp-i.lastEvent.timeStamp,f=!1,i&&i.name==a&&e&&e<g.doubleTapInterval&&b.distance<g.doubleTapDistance&&(d.trigger("doubletap",b),f=!0),(!f||g.tapAlways)&&(h.name=a,d.trigger(h.name,b)))}}var c=!1;d.gestures.Tap={name:a,index:100,handler:b,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),d.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,b){return b.options.preventMouse&&a.pointerType==j?void a.stopDetect():(b.options.preventDefault&&a.preventDefault(),void(a.eventType==q&&b.trigger("touch",a)))}},function(a){function b(b,d){switch(b.eventType){case m:c=!1;break;case n:if(b.touches.length<2)return;var e=Math.abs(1-b.scale),f=Math.abs(b.rotation);if(e<d.options.transformMinScale&&f<d.options.transformMinRotation)return;u.current.name=a,c||(d.trigger(a+"start",b),c=!0),d.trigger(a,b),f>d.options.transformMinRotation&&d.trigger("rotate",b),e>d.options.transformMinScale&&(d.trigger("pinch",b),d.trigger("pinch"+(b.scale<1?"in":"out"),b));break;case p:c&&b.changedLength<2&&(d.trigger(a+"end",b),c=!1)}}var c=!1;d.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:b}}("transform"),"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof module&&module.exports?module.exports=d:a.Hammer=d}(window),MM.iconEditor=function(a,b){"use strict";observable(this);var c,d=this;this.editIcon=function(a){return a&&(a.url=b.getResource(a.url)),c=jQuery.Deferred(),this.dispatchEvent("iconEditRequested",a),c.promise()},this.save=function(a){c.resolve(a)},this.cancel=function(){c.reject()},a.addEventListener("nodeIconEditRequested",function(){var c=a.getIcon();d.editIcon(c).then(function(c){c?a.setIcon("icon-editor",b.storeResource(c.url),c.width,c.height,c.position):a.setIcon(!1)})})},jQuery.fn.iconEditorWidget=function(a,b){"use strict";var c=this,d=c.find("[data-mm-role~=confirm]"),e=c.find("form select[name=size]"),f=c.find("[data-mm-role=custom-size-enter]"),g=c.find("[data-mm-role=img-preview]"),h=c.find("[data-mm-role~=clear]"),i=c.find("select[name=position]"),j=c.find("input[name=width]"),k=c.find("input[name=height]"),l=c.find("input[name=keepratio]"),m=c.find("input[name=selectfile]"),n=c.find("[data-mm-role=drop-zone]"),o=c.find("[data-mm-role=select-file]"),p=function(){a.save({url:g.attr("src"),width:Math.round(j.val()),height:Math.round(k.val()),position:i.val()})},q=function(){a.save(!1)},r=function(a){a?(g.show(),g.attr("src",a.url),c.find("[data-mm-role=attribs]").show(),i.val(a.position),j.val(a.width),k.val(a.height),m.val(""),h.show(),d.show()):(g.hide(),c.find("[data-mm-role=attribs]").hide(),h.hide(),d.hide())},s=function(){m.click()},t=new MAPJS.ImageInsertController(b);return o.click(s).keydown("space enter",s),t.addEventListener("imageInserted",function(a,b,e){g.attr("src",a),j.val(b),k.val(e),c.find("[data-mm-role=attribs]").show(),g.show(),d.show(),d.focus()}),n.imageDropWidget(t),j.on("change",function(){l[0].checked&&k.val(Math.round(g.height()*parseInt(j.val(),10)/g.width()))}),k.on("change",function(){l[0].checked&&j.val(Math.round(g.width()*parseInt(k.val(),10)/g.height()))}),m.on("change",function(a){t.insertFiles(this.files,a)}),c.modal({keyboard:!0,show:!1}),d.click(function(){p()}).keydown("space",function(){p(),c.modal("hide")}),h.click(function(){q()}).keydown("space",function(){q(),c.modal("hide")}),e.on("change",function(){"custom"===e.val()?f.show():f.hide()}),this.on("show",function(){m.css("opacity",0).val("")}),this.on("shown",function(){m.css("opacity",0).css("position","absolute").offset(n.offset()).width(n.outerWidth()).height(n.outerHeight()),o.focus()}),a.addEventListener("iconEditRequested",function(a){r(a),c.modal("show")}),this},MM.setImageAlertWidget=function(a,b){"use strict";var c;a.addEventListener("imageInserted",function(){b.hide(c)}),a.addEventListener("imageInsertError",function(){b.hide(c),c=b.show("Cannot insert image from this website:","Please save the image locally and drag the saved file to add it to the map","error")}),a.addEventListener("imageLoadStarted",function(){b.hide(c),c=b.show('<i class="icon-spinner icon-spin"/> Loading image')})},$.fn.importWidget=function(a,b){"use strict";var c,d=this,e=d.find("[data-mm-role=status]"),f=d.find("input[type=file]"),g=d.find("[data-mm-role=select-file]"),h=function(a){e.html('<i class="icon-spinner icon-spin"/> '+a)},i=function(b){a.log("Map","import:start "+c,b),h("Uploading "+b)},j=function(a,b){var c,d=0;return"mm"===b?MM.freemindImport(a,function(a){c=a},function(){var a=(100*d/c).toFixed(2)+"%";d%1e3===0&&h("Converted "+a),d++}):"mup"===b?JSON.parse(a):void 0},k=function(b){a.log("Map","import:fail",b),e.html('<div class="alert fade in alert-error"><strong>'+b+"</strong></div>")},l=function(c,f){var g,i;h("Processing file"),"mup"!==f&&"mm"!==f&&k("unsupported format "+f);try{i=j(c,f),h("Initialising map"),g=MAPJS.content(i)}catch(l){return void k("invalid file content",l)}h("Done"),a.log("Map","import:complete"),e.empty(),d.modal("hide"),b.setMap(g)},m=function(){return window.File&&window.FileReader&&window.FileList&&window.Blob&&!$("body").hasClass("disable-filereader")};return m()?(f.file_reader_upload(i,l,k),c="FileReader"):(k("This browser does not support importing from local disk"),g.hide()),d.on("shown",function(){f.css("opacity",0).css("position","absolute").offset(g.offset()).width(g.outerWidth()).height(g.outerHeight()),g.focus()}),g.keydown("space return",function(){f.click()}),d},function(a,b){function c(a){var b=a.length,c=ia.type(a);return ia.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=xa[a]={};return ia.each(a.match(ka)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(ia.acceptData(a)){var f,g,h=ia.expando,i="string"==typeof c,j=a.nodeType,k=j?ia.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==b)return l||(j?a[h]=l=_.pop()||ia.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=ia.noop)),("object"==typeof c||"function"==typeof c)&&(e?k[l]=ia.extend(k[l],c):k[l].data=ia.extend(k[l].data,c)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[ia.camelCase(c)]=d),i?(g=f[c],null==g&&(g=f[ia.camelCase(c)])):g=f,g}}function f(a,b,c){if(ia.acceptData(a)){var d,e,f,g=a.nodeType,i=g?ia.cache:a,j=g?a[ia.expando]:ia.expando;if(i[j]){if(b&&(f=c?i[j]:i[j].data)){ia.isArray(b)?b=b.concat(ia.map(b,ia.camelCase)):b in f?b=[b]:(b=ia.camelCase(b),b=b in f?[b]:b.split(" "));for(d=0,e=b.length;e>d;d++)delete f[b[d]];if(!(c?h:ia.isEmptyObject)(f))return}(c||(delete i[j].data,h(i[j])))&&(g?ia.cleanData([a],!0):ia.support.deleteExpando||i!=i.window?delete i[j]:i[j]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(za,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:ya.test(d)?ia.parseJSON(d):d}catch(f){}ia.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!ia.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function l(a,b,c){if(b=b||0,ia.isFunction(b))return ia.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return ia.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=ia.grep(a,function(a){return 1===a.nodeType});if(Ra.test(b))return ia.filter(b,d,!c);b=ia.filter(b,d)}return ia.grep(a,function(a){return ia.inArray(a,b)>=0===c})}function m(a){var b=Ua.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function n(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function o(a){var b=a.getAttributeNode("type");return a.type=(b&&b.specified)+"/"+a.type,a}function p(a){var b=eb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function q(a,b){for(var c,d=0;null!=(c=a[d]);d++)ia._data(c,"globalEval",!b||ia._data(b[d],"globalEval"))}function r(a,b){if(1===b.nodeType&&ia.hasData(a)){var c,d,e,f=ia._data(a),g=ia._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)ia.event.add(b,c,h[c][d])}g.data&&(g.data=ia.extend({},g.data))}}function s(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!ia.support.noCloneEvent&&b[ia.expando]){e=ia._data(b);for(d in e.events)ia.removeEvent(b,d,e.handle);b.removeAttribute(ia.expando)}"script"===c&&b.text!==a.text?(o(b).text=a.text,p(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),ia.support.html5Clone&&a.innerHTML&&!ia.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bb.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function t(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==V?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==V?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||ia.nodeName(e,c)?g.push(e):ia.merge(g,t(e,c));return c===b||c&&ia.nodeName(a,c)?ia.merge([a],g):g}function u(a){bb.test(a.type)&&(a.defaultChecked=a.checked)}function v(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yb.length;e--;)if(b=yb[e]+c,b in a)return b;return d}function w(a,b){return a=b||a,"none"===ia.css(a,"display")||!ia.contains(a.ownerDocument,a)}function x(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ia._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&w(d)&&(f[g]=ia._data(d,"olddisplay",B(d.nodeName)))):f[g]||(e=w(d),(c&&"none"!==c||!e)&&ia._data(d,"olddisplay",e?c:ia.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function y(a,b,c){var d=rb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=ia.css(a,c+xb[f],!0,e)),d?("content"===c&&(g-=ia.css(a,"padding"+xb[f],!0,e)),"margin"!==c&&(g-=ia.css(a,"border"+xb[f]+"Width",!0,e))):(g+=ia.css(a,"padding"+xb[f],!0,e),"padding"!==c&&(g+=ia.css(a,"border"+xb[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kb(a),g=ia.support.boxSizing&&"border-box"===ia.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lb(a,b,f),(0>e||null==e)&&(e=a.style[b]),sb.test(e))return e;d=g&&(ia.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a){var b=W,c=ub[a];return c||(c=C(a,b),"none"!==c&&c||(jb=(jb||ia("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jb[0].contentWindow||jb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=C(a,b),jb.detach()),ub[a]=c),c}function C(a,b){var c=ia(b.createElement(a)).appendTo(b.body),d=ia.css(c[0],"display");return c.remove(),d}function D(a,b,c,d){var e;if(ia.isArray(b))ia.each(b,function(b,e){c||Ab.test(a)?d(a,e):D(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==ia.type(b))d(a,b);else for(e in b)D(a+"["+e+"]",b[e],c,d)}function E(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ka)||[];if(ia.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function F(a,c,d,e){function f(i){var j;return g[i]=!0,ia.each(a[i]||[],function(a,i){var k=i(c,d,e);return"string"!=typeof k||h||g[k]?h?!(j=k):b:(c.dataTypes.unshift(k),f(k),!1)}),j}var g={},h=a===Rb;return f(c.dataTypes[0])||!g["*"]&&f("*")}function G(a,c){var d,e,f=ia.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&ia.extend(!0,a,d),a}function H(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(h in k)h in d&&(c[k[h]]=d[h]);for(;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):b}function I(a,b){var c,d,e,f,g={},h=0,i=a.dataTypes.slice(),j=i[0];if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i[1])for(e in a.converters)g[e.toLowerCase()]=a.converters[e];for(;d=i[++h];)if("*"!==d){if("*"!==j&&j!==d){if(e=g[j+" "+d]||g["* "+d],!e)for(c in g)if(f=c.split(" "),f[1]===d&&(e=g[j+" "+f[0]]||g["* "+f[0]])){e===!0?e=g[c]:g[c]!==!0&&(d=f[0],i.splice(h--,0,d));break}if(e!==!0)if(e&&a["throws"])b=e(b);else try{b=e(b)}catch(k){return{state:"parsererror",error:e?k:"No conversion from "+j+" to "+d}}}j=d}return{state:"success",data:b}}function J(){try{return new a.XMLHttpRequest}catch(b){}}function K(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function L(){return setTimeout(function(){$b=b}),$b=ia.now()}function M(a,b){ia.each(b,function(b,c){for(var d=(ec[b]||[]).concat(ec["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function N(a,b,c){var d,e,f=0,g=dc.length,h=ia.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||L(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ia.extend({},b),opts:ia.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||L(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ia.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(O(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return M(j,k),ia.isFunction(j.opts.start)&&j.opts.start.call(a,j),ia.fx.timer(ia.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a,b){var c,d,e,f,g;for(e in a)if(d=ia.camelCase(e),f=b[d],c=a[e],ia.isArray(c)&&(f=c[1],c=a[e]=c[0]),e!==d&&(a[d]=c,delete a[e]),g=ia.cssHooks[d],g&&"expand"in g){c=g.expand(c),delete a[d];for(e in c)e in a||(a[e]=c[e],b[e]=f)}else b[d]=f}function P(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&w(a);c.queue||(k=ia._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,ia.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===ia.css(a,"display")&&"none"===ia.css(a,"float")&&(ia.support.inlineBlockNeedsLayout&&"inline"!==B(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",ia.support.shrinkWrapBlocks||m.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(e in b)if(g=b[e],ac.exec(g)){if(delete b[e],i=i||"toggle"===g,g===(q?"hide":"show"))continue;p.push(e)}if(f=p.length){h=ia._data(a,"fxshow")||ia._data(a,"fxshow",{}),
"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?ia(a).show():m.done(function(){ia(a).hide()}),m.done(function(){var b;ia._removeData(a,"fxshow");for(b in o)ia.style(a,b,o[b])});for(e=0;f>e;e++)d=p[e],j=m.createTween(d,q?h[d]:0),o[d]=h[d]||ia.style(a,d),d in h||(h[d]=j.start,q&&(j.end=j.start,j.start="width"===d||"height"===d?1:0))}}function Q(a,b,c,d,e){return new Q.prototype.init(a,b,c,d,e)}function R(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function S(a){return ia.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var T,U,V=typeof b,W=a.document,X=a.location,Y=a.jQuery,Z=a.$,$={},_=[],aa="1.9.1",ba=_.concat,ca=_.push,da=_.slice,ea=_.indexOf,fa=$.toString,ga=$.hasOwnProperty,ha=aa.trim,ia=function(a,b){return new ia.fn.init(a,b,U)},ja=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ka=/\S+/g,la=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ma=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,na=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,oa=/^[\],:{}\s]*$/,pa=/(?:^|:|,)(?:\s*\[)+/g,qa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ra=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,sa=/^-ms-/,ta=/-([\da-z])/gi,ua=function(a,b){return b.toUpperCase()},va=function(a){(W.addEventListener||"load"===a.type||"complete"===W.readyState)&&(wa(),ia.ready())},wa=function(){W.addEventListener?(W.removeEventListener("DOMContentLoaded",va,!1),a.removeEventListener("load",va,!1)):(W.detachEvent("onreadystatechange",va),a.detachEvent("onload",va))};ia.fn=ia.prototype={jquery:aa,constructor:ia,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ma.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof ia?c[0]:c,ia.merge(this,ia.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:W,!0)),na.test(e[1])&&ia.isPlainObject(c))for(e in c)ia.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=W.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=W,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):ia.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),ia.makeArray(a,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return da.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=ia.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return ia.each(this,a,b)},ready:function(a){return ia.ready.promise().done(a),this},slice:function(){return this.pushStack(da.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(ia.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ca,sort:[].sort,splice:[].splice},ia.fn.init.prototype=ia.fn,ia.extend=ia.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||ia.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(ia.isPlainObject(d)||(c=ia.isArray(d)))?(c?(c=!1,g=a&&ia.isArray(a)?a:[]):g=a&&ia.isPlainObject(a)?a:{},h[e]=ia.extend(k,g,d)):d!==b&&(h[e]=d));return h},ia.extend({noConflict:function(b){return a.$===ia&&(a.$=Z),b&&a.jQuery===ia&&(a.jQuery=Y),ia},isReady:!1,readyWait:1,holdReady:function(a){a?ia.readyWait++:ia.ready(!0)},ready:function(a){if(a===!0?!--ia.readyWait:!ia.isReady){if(!W.body)return setTimeout(ia.ready);ia.isReady=!0,a!==!0&&--ia.readyWait>0||(T.resolveWith(W,[ia]),ia.fn.trigger&&ia(W).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===ia.type(a)},isArray:Array.isArray||function(a){return"array"===ia.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?$[fa.call(a)]||"object":typeof a},isPlainObject:function(a){if(!a||"object"!==ia.type(a)||a.nodeType||ia.isWindow(a))return!1;try{if(a.constructor&&!ga.call(a,"constructor")&&!ga.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||ga.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||W;var d=na.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=ia.buildFragment([a],b,e),e&&ia(e).remove(),ia.merge([],d.childNodes))},parseJSON:function(c){return a.JSON&&a.JSON.parse?a.JSON.parse(c):null===c?c:"string"==typeof c&&(c=ia.trim(c),c&&oa.test(c.replace(qa,"@").replace(ra,"]").replace(pa,"")))?Function("return "+c)():(ia.error("Invalid JSON: "+c),b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||ia.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&ia.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(sa,"ms-").replace(ta,ua)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:ha&&!ha.call("\ufeff")?function(a){return null==a?"":ha.call(a)}:function(a){return null==a?"":(a+"").replace(la,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?ia.merge(d,"string"==typeof a?[a]:a):ca.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(ea)return ea.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return ba.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),ia.isFunction(a)?(d=da.call(arguments,2),e=function(){return a.apply(c||this,d.concat(da.call(arguments)))},e.guid=a.guid=a.guid||ia.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===ia.type(d)){f=!0;for(i in d)ia.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,ia.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(ia(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()}}),ia.ready.promise=function(b){if(!T)if(T=ia.Deferred(),"complete"===W.readyState)setTimeout(ia.ready);else if(W.addEventListener)W.addEventListener("DOMContentLoaded",va,!1),a.addEventListener("load",va,!1);else{W.attachEvent("onreadystatechange",va),a.attachEvent("onload",va);var c=!1;try{c=null==a.frameElement&&W.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!ia.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}wa(),ia.ready()}}()}return T.promise(b)},ia.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){$["[object "+b+"]"]=b.toLowerCase()}),U=ia(W);var xa={};ia.Callbacks=function(a){a="string"==typeof a?xa[a]||d(a):ia.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){ia.each(b,function(b,c){var e=ia.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&ia.each(arguments,function(a,b){for(var d;(d=ia.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?ia.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||f&&!k||(c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},ia.extend({Deferred:function(a){var b=[["resolve","done",ia.Callbacks("once memory"),"resolved"],["reject","fail",ia.Callbacks("once memory"),"rejected"],["notify","progress",ia.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return ia.Deferred(function(c){ia.each(b,function(b,f){var g=f[0],h=ia.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&ia.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?ia.extend(a,d):d}},e={};return d.pipe=d.then,ia.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=da.call(arguments),g=f.length,h=1!==g||a&&ia.isFunction(a.promise)?g:0,i=1===h?a:ia.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?da.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=Array(g),c=Array(g),d=Array(g);g>e;e++)f[e]&&ia.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),ia.support=function(){var b,c,d,e,f,g,h,i,j,k,l=W.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*"),d=l.getElementsByTagName("a")[0],!c||!d||!c.length)return{};f=W.createElement("select"),h=f.appendChild(W.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={getSetAttribute:"t"!==l.className,leadingWhitespace:3===l.firstChild.nodeType,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:!!e.value,optSelected:h.selected,enctype:!!W.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==W.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===W.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=W.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=W.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;return l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip,ia(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=W.getElementsByTagName("body")[0];g&&(c=W.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===l.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==g.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(W.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==V&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}();var ya=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,za=/([A-Z])/g;ia.extend({cache:{},expando:"jQuery"+(aa+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?ia.cache[a[ia.expando]]:a[ia.expando],!!a&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&ia.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),ia.fn.extend({data:function(a,c){var d,e,f=this[0],h=0,i=null;if(a===b){if(this.length&&(i=ia.data(f),1===f.nodeType&&!ia._data(f,"parsedAttrs"))){for(d=f.attributes;d.length>h;h++)e=d[h].name,e.indexOf("data-")||(e=ia.camelCase(e.slice(5)),g(f,e,i[e]));ia._data(f,"parsedAttrs",!0)}return i}return"object"==typeof a?this.each(function(){ia.data(this,a)}):ia.access(this,function(c){return c===b?f?g(f,a,ia.data(f,a)):null:(this.each(function(){ia.data(this,a,c)}),b)},null,c,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){ia.removeData(this,a)})}}),ia.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=ia._data(a,c),d&&(!e||ia.isArray(d)?e=ia._data(a,c,ia.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=ia.queue(a,b),d=c.length,e=c.shift(),f=ia._queueHooks(a,b),g=function(){ia.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),f.cur=e,e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ia._data(a,c)||ia._data(a,c,{empty:ia.Callbacks("once memory").add(function(){ia._removeData(a,b+"queue"),ia._removeData(a,c)})})}}),ia.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?ia.queue(this[0],a):c===b?this:this.each(function(){var b=ia.queue(this,a,c);ia._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&ia.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ia.dequeue(this,a)})},delay:function(a,b){return a=ia.fx?ia.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=ia.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=ia._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Aa,Ba,Ca=/[\t\r\n]/g,Da=/\r/g,Ea=/^(?:input|select|textarea|button|object)$/i,Fa=/^(?:a|area)$/i,Ga=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Ha=/^(?:checked|selected)$/i,Ia=ia.support.getSetAttribute,Ja=ia.support.input;ia.fn.extend({attr:function(a,b){return ia.access(this,ia.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ia.removeAttr(this,a)})},prop:function(a,b){return ia.access(this,ia.prop,a,b,arguments.length>1)},removeProp:function(a){return a=ia.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(ia.isFunction(a))return this.each(function(b){ia(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ka)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ca," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=ia.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(ia.isFunction(a))return this.each(function(b){ia(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ka)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ca," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?ia.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(ia.isFunction(a)?function(c){ia(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=ia(this),h=b,i=a.match(ka)||[];e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else(c===V||"boolean"===c)&&(this.className&&ia._data(this,"__className__",this.className),this.className=this.className||a===!1?"":ia._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Ca," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=ia.isFunction(a),this.each(function(c){var f,g=ia(this);1===this.nodeType&&(f=e?a.call(this,c,g.val()):a,null==f?f="":"number"==typeof f?f+="":ia.isArray(f)&&(f=ia.map(f,function(a){return null==a?"":a+""})),d=ia.valHooks[this.type]||ia.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))})):f?(d=ia.valHooks[f.type]||ia.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Da,""):null==c?"":c)):void 0}}),ia.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(ia.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&ia.nodeName(c.parentNode,"optgroup"))){if(b=ia(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=ia.makeArray(b);return ia(a).find("option").each(function(){this.selected=ia.inArray(ia(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attr:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?typeof a.getAttribute===V?ia.prop(a,c,d):(f=1!==h||!ia.isXMLDoc(a),f&&(c=c.toLowerCase(),e=ia.attrHooks[c]||(Ga.test(c)?Ba:Aa)),d===b?e&&f&&"get"in e&&null!==(g=e.get(a,c))?g:(typeof a.getAttribute!==V&&(g=a.getAttribute(c)),null==g?b:g):null!==d?e&&f&&"set"in e&&(g=e.set(a,d,c))!==b?g:(a.setAttribute(c,d+""),d):(ia.removeAttr(a,c),b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ka);if(f&&1===a.nodeType)for(;c=f[e++];)d=ia.propFix[c]||c,Ga.test(c)?!Ia&&Ha.test(c)?a[ia.camelCase("default-"+c)]=a[d]=!1:a[d]=!1:ia.attr(a,c,""),a.removeAttribute(Ia?c:d)},attrHooks:{type:{set:function(a,b){if(!ia.support.radioValue&&"radio"===b&&ia.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?(g=1!==h||!ia.isXMLDoc(a),g&&(c=ia.propFix[c]||c,f=ia.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):Ea.test(a.nodeName)||Fa.test(a.nodeName)&&a.href?0:b}}}}),Ba={get:function(a,c){var d=ia.prop(a,c),e="boolean"==typeof d&&a.getAttribute(c),f="boolean"==typeof d?Ja&&Ia?null!=e:Ha.test(c)?a[ia.camelCase("default-"+c)]:!!e:a.getAttributeNode(c);return f&&f.value!==!1?c.toLowerCase():b},set:function(a,b,c){return b===!1?ia.removeAttr(a,c):Ja&&Ia||!Ha.test(c)?a.setAttribute(!Ia&&ia.propFix[c]||c,c):a[ia.camelCase("default-"+c)]=a[c]=!0,c}},Ja&&Ia||(ia.attrHooks.value={get:function(a,c){var d=a.getAttributeNode(c);return ia.nodeName(a,"input")?a.defaultValue:d&&d.specified?d.value:b},set:function(a,c,d){return ia.nodeName(a,"input")?(a.defaultValue=c,b):Aa&&Aa.set(a,c,d)}}),Ia||(Aa=ia.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&("id"===c||"name"===c||"coords"===c?""!==d.value:d.specified)?d.value:b},set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},ia.attrHooks.contenteditable={get:Aa.get,set:function(a,b,c){Aa.set(a,""===b?!1:b,c)}},ia.each(["width","height"],function(a,c){ia.attrHooks[c]=ia.extend(ia.attrHooks[c],{set:function(a,d){return""===d?(a.setAttribute(c,"auto"),d):b}})})),ia.support.hrefNormalized||(ia.each(["href","src","width","height"],function(a,c){ia.attrHooks[c]=ia.extend(ia.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null==d?b:d}})}),ia.each(["href","src"],function(a,b){ia.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}})),ia.support.style||(ia.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),ia.support.optSelected||(ia.propHooks.selected=ia.extend(ia.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),ia.support.enctype||(ia.propFix.enctype="encoding"),ia.support.checkOn||ia.each(["radio","checkbox"],function(){ia.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),ia.each(["radio","checkbox"],function(){ia.valHooks[this]=ia.extend(ia.valHooks[this],{set:function(a,c){return ia.isArray(c)?a.checked=ia.inArray(ia(a).val(),c)>=0:b}})});var Ka=/^(?:input|select|textarea)$/i,La=/^key/,Ma=/^(?:mouse|contextmenu)|click/,Na=/^(?:focusinfocus|focusoutblur)$/,Oa=/^([^.]*)(?:\.(.+)|)$/;ia.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=ia._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=ia.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof ia===V||a&&ia.event.triggered===a.type?b:ia.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(ka)||[""],i=c.length;i--;)g=Oa.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),k=ia.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=ia.event.special[o]||{},m=ia.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&ia.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),ia.event.global[o]=!0;a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ia.hasData(a)&&ia._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ka)||[""],j=b.length;j--;)if(h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ia.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ia.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)ia.event.remove(a,n+b[j],c,d,!0);ia.isEmptyObject(k)&&(delete q.handle,ia._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||W],o=ga.call(c,"type")?c.type:c,p=ga.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||W,3!==e.nodeType&&8!==e.nodeType&&!Na.test(o+ia.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=0>o.indexOf(":")&&"on"+o,c=c[ia.expando]?c:new ia.Event(o,"object"==typeof c&&c),c.isTrigger=!0,c.namespace=p.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:ia.makeArray(d,[c]),k=ia.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!ia.isWindow(e)){for(j=k.delegateType||o,Na.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||W)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(ia._data(i,"events")||{})[c.type]&&ia._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&ia.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!(f||c.isDefaultPrevented()||k._default&&k._default.apply(e.ownerDocument,d)!==!1||"click"===o&&ia.nodeName(e,"a")||!ia.acceptData(e)||!h||!e[o]||ia.isWindow(e))){l=e[h],l&&(e[h]=null),ia.event.triggered=o;try{e[o]()}catch(q){}ia.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=ia.event.fix(a);var c,d,e,f,g,h=[],i=da.call(arguments),j=(ia._data(this,"events")||{})[a.type]||[],k=ia.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=ia.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((ia.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?ia(d,this).index(j)>=0:ia.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return c.length>i&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[ia.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ma.test(e)?this.mouseHooks:La.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new ia.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||W),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||W,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},click:{trigger:function(){return ia.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):b}},focus:{trigger:function(){if(this!==W.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===W.activeElement&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=ia.extend(new ia.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?ia.event.trigger(e,null,b):ia.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},ia.removeEvent=W.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===V&&(a[d]=null),a.detachEvent(d,c))},ia.Event=function(a,c){return this instanceof ia.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,c&&ia.extend(this,c),this.timeStamp=a&&a.timeStamp||ia.now(),this[ia.expando]=!0,b):new ia.Event(a,c)},ia.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},ia.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){ia.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ia.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ia.support.submitBubbles||(ia.event.special.submit={setup:function(){return ia.nodeName(this,"form")?!1:(ia.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=ia.nodeName(c,"input")||ia.nodeName(c,"button")?c.form:b;d&&!ia._data(d,"submitBubbles")&&(ia.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),ia._data(d,"submitBubbles",!0))}),b)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,
this.parentNode&&!a.isTrigger&&ia.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return ia.nodeName(this,"form")?!1:(ia.event.remove(this,"._submit"),b)}}),ia.support.changeBubbles||(ia.event.special.change={setup:function(){return Ka.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ia.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),ia.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),ia.event.simulate("change",this,a,!0)})),!1):(ia.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ka.test(b.nodeName)&&!ia._data(b,"changeBubbles")&&(ia.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||ia.event.simulate("change",this.parentNode,a,!0)}),ia._data(b,"changeBubbles",!0))}),b)},handle:function(a){var c=a.target;return this!==c||a.isSimulated||a.isTrigger||"radio"!==c.type&&"checkbox"!==c.type?a.handleObj.handler.apply(this,arguments):b},teardown:function(){return ia.event.remove(this,"._change"),!Ka.test(this.nodeName)}}),ia.support.focusinBubbles||ia.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){ia.event.simulate(b,a.target,ia.event.fix(a),!0)};ia.event.special[b]={setup:function(){0===c++&&W.addEventListener(a,d,!0)},teardown:function(){0===--c&&W.removeEventListener(a,d,!0)}}}),ia.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return ia().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=ia.guid++)),this.each(function(){ia.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,ia(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=j),this.each(function(){ia.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){ia.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?ia.event.trigger(a,c,d,!0):b}}),function(a,b){function c(a){return oa.test(a+"")}function d(){var a,b=[];return a=function(c,d){return b.push(c+=" ")>y.cacheLength&&delete a[b.shift()],a[c]=d}}function e(a){return a[N]=!0,a}function f(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}}function g(a,b,c,d){var e,f,g,h,i,j,k,n,o,p;if((b?b.ownerDocument||b:O)!==F&&E(b),b=b||F,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(!H&&!d){if(e=pa.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&L(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return Z.apply(c,$.call(b.getElementsByTagName(a),0)),c;if((g=e[3])&&P.getByClassName&&b.getElementsByClassName)return Z.apply(c,$.call(b.getElementsByClassName(g),0)),c}if(P.qsa&&!I.test(a)){if(k=!0,n=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=l(a),(k=b.getAttribute("id"))?n=k.replace(sa,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=na.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return Z.apply(c,$.call(o.querySelectorAll(p),0)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return u(a.replace(ga,"$1"),b,c,d)}function h(a,b){var c=b&&a,d=c&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a,b){var c,d,e,f,h,i,j,k=T[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){(!c||(d=ha.exec(h)))&&(d&&(h=h.slice(d[0].length)||h),i.push(e=[])),c=!1,(d=ja.exec(h))&&(c=d.shift(),e.push({value:c,type:d[0].replace(ga," ")}),h=h.slice(c.length));for(f in y.filter)!(d=ma[f].exec(h))||j[f]&&!(d=j[f](d))||(c=d.shift(),e.push({value:c,type:f,matches:d}),h=h.slice(c.length));if(!c)break}return b?h.length:h?g.error(a):T(a,i).slice(0)}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=R++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=Q+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===x)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||x,i[1]===!0)return!0}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function q(a,b,c,d,f,g){return d&&!d[N]&&(d=q(d)),f&&!f[N]&&(f=q(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,q=e||t(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?q:p(q,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=p(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?_.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=p(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):Z.apply(g,s)})}function r(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return _.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[n(o(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!y.relative[a[d].type];d++);return q(h>1&&o(k),h>1&&m(a.slice(0,h-1)).replace(ga,"$1"),c,d>h&&r(a.slice(h,d)),e>d&&r(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function s(a,b){var c=0,d=b.length>0,f=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],q=0,r="0",s=e&&[],t=null!=k,u=D,v=e||f&&y.find.TAG("*",k&&h.parentNode||h),w=Q+=null==u?1:Math.random()||.1;for(t&&(D=h!==F&&h,x=c);null!=(l=v[r]);r++){if(f&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(Q=w,x=++c)}d&&((l=!n&&l)&&q--,e&&s.push(l))}if(q+=r,d&&r!==q){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(q>0)for(;r--;)s[r]||o[r]||(o[r]=Y.call(j));o=p(o)}Z.apply(j,o),t&&!e&&o.length>0&&q+b.length>1&&g.uniqueSort(j)}return t&&(Q=w,D=u),s};return d?e(h):h}function t(a,b,c){for(var d=0,e=b.length;e>d;d++)g(a,b[d],c);return c}function u(a,b,c,d){var e,f,g,h,i,j=l(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&!H&&y.relative[f[1].type]){if(b=y.find.ID(g.matches[0].replace(ua,va),b)[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ma.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(ua,va),na.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return Z.apply(c,$.call(d,0)),c;break}}return B(a,j)(d,b,H,c,na.test(a)),c}function v(){}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P={},Q=0,R=0,S=d(),T=d(),U=d(),V=typeof b,W=1<<31,X=[],Y=X.pop,Z=X.push,$=X.slice,_=X.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ca=ba.replace("w","w#"),da="([*^$|!~]?=)",ea="\\["+aa+"*("+ba+")"+aa+"*(?:"+da+aa+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ca+")|)|)"+aa+"*\\]",fa=":("+ba+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ea.replace(3,8)+")*)|.*)\\)|)",ga=RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ha=RegExp("^"+aa+"*,"+aa+"*"),ja=RegExp("^"+aa+"*([\\x20\\t\\r\\n\\f>+~])"+aa+"*"),ka=RegExp(fa),la=RegExp("^"+ca+"$"),ma={ID:RegExp("^#("+ba+")"),CLASS:RegExp("^\\.("+ba+")"),NAME:RegExp("^\\[name=['\"]?("+ba+")['\"]?\\]"),TAG:RegExp("^("+ba.replace("w","w*")+")"),ATTR:RegExp("^"+ea),PSEUDO:RegExp("^"+fa),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),needsContext:RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},na=/[\x20\t\r\n\f]*[+~]/,oa=/^[^{]+\{\s*\[native code/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/^(?:input|select|textarea|button)$/i,ra=/^h\d$/i,sa=/'|\\/g,ta=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ua=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,va=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>10,56320|1023&c)};try{$.call(O.documentElement.childNodes,0)[0].nodeType}catch(wa){$=function(a){for(var b,c=[];b=this[a++];)c.push(b);return c}}A=g.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},E=g.setDocument=function(a){var d=a?a.ownerDocument||a:O;return d!==F&&9===d.nodeType&&d.documentElement?(F=d,G=d.documentElement,H=A(d),P.tagNameNoComments=f(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),P.attributes=f(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),P.getByClassName=f(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),P.getByName=f(function(a){a.id=N+0,a.innerHTML="<a name='"+N+"'></a><div name='"+N+"'></div>",G.insertBefore(a,G.firstChild);var b=d.getElementsByName&&d.getElementsByName(N).length===2+d.getElementsByName(N+0).length;return P.getIdNotName=!d.getElementById(N),G.removeChild(a),b}),y.attrHandle=f(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==V&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},P.getIdNotName?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&!H){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(y.find.ID=function(a,c){if(typeof c.getElementById!==V&&!H){var d=c.getElementById(a);return d?d.id===a||typeof d.getAttributeNode!==V&&d.getAttributeNode("id").value===a?[d]:b:[]}},y.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=P.tagNameNoComments?function(a,c){return typeof c.getElementsByTagName!==V?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.NAME=P.getByName&&function(a,c){return typeof c.getElementsByName!==V?c.getElementsByName(name):b},y.find.CLASS=P.getByClassName&&function(a,c){return typeof c.getElementsByClassName===V||H?b:c.getElementsByClassName(a)},J=[],I=[":focus"],(P.qsa=c(d.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||I.push("\\["+aa+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||I.push(":checked")}),f(function(a){a.innerHTML="<input type='hidden' i=''/>",a.querySelectorAll("[i^='']").length&&I.push("[*^$]="+aa+"*(?:\"\"|'')"),a.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),I.push(",.*:")})),(P.matchesSelector=c(K=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&f(function(a){P.disconnectedMatch=K.call(a,"div"),K.call(a,"[s!='']:x"),J.push("!=",fa)}),I=RegExp(I.join("|")),J=RegExp(J.join("|")),L=c(G.contains)||G.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},M=G.compareDocumentPosition?function(a,b){var c;return a===b?(C=!0,0):(c=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b))?1&c||a.parentNode&&11===a.parentNode.nodeType?a===d||L(O,a)?-1:b===d||L(O,b)?1:0:4&c?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var c,e=0,f=a.parentNode,g=b.parentNode,i=[a],j=[b];if(a===b)return C=!0,0;if(!f||!g)return a===d?-1:b===d?1:f?-1:g?1:0;if(f===g)return h(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},C=!1,[0,0].sort(M),P.detectDuplicates=C,F):F},g.matches=function(a,b){return g(a,null,null,b)},g.matchesSelector=function(a,b){if((a.ownerDocument||a)!==F&&E(a),b=b.replace(ta,"='$1']"),!(!P.matchesSelector||H||J&&J.test(b)||I.test(b)))try{var c=K.call(a,b);if(c||P.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return g(b,F,null,[a]).length>0},g.contains=function(a,b){return(a.ownerDocument||a)!==F&&E(a),L(a,b)},g.attr=function(a,b){var c;return(a.ownerDocument||a)!==F&&E(a),H||(b=b.toLowerCase()),(c=y.attrHandle[b])?c(a):H||P.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&a[b]===!0?b:c&&c.specified?c.value:null},g.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},g.uniqueSort=function(a){var b,c=[],d=1,e=0;if(C=!P.detectDuplicates,a.sort(M),C){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},z=g.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=z(b);return c},y=g.selectors={cacheLength:50,createPseudo:e,match:ma,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||g.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&g.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return ma.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:c&&ka.test(c)&&(b=l(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(ua,va).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=S[a+" "];return b||(b=RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&S(a,function(a){return b.test(a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=g.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===Q&&j[1],m=j[0]===Q&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[Q,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===Q)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[Q,m]),l!==b)););return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,b){var c,d=y.pseudos[a]||y.setFilters[a.toLowerCase()]||g.error("unsupported pseudo: "+a);return d[N]?d(b):d.length>1?(c=[a,a,"",b],y.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var e,f=d(a,b),g=f.length;g--;)e=_.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:e(function(a){var b=[],c=[],d=B(a.replace(ga,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return g(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:e(function(a){return la.test(a||"")||g.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=H?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===G},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return ra.test(a.nodeName)},input:function(a){return qa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;b>++d;)a.push(d);return a})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=j(w);B=g.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=l(a)),c=b.length;c--;)f=r(b[c]),f[N]?d.push(f):e.push(f);f=U(a,s(e,d))}return f},y.pseudos.nth=y.pseudos.eq,y.filters=v.prototype=y.pseudos,y.setFilters=new v,E(),g.attr=ia.attr,ia.find=g,ia.expr=g.selectors,ia.expr[":"]=ia.expr.pseudos,ia.unique=g.uniqueSort,ia.text=g.getText,ia.isXMLDoc=g.isXML,ia.contains=g.contains}(a);var Pa=/Until$/,Qa=/^(?:parents|prev(?:Until|All))/,Ra=/^.[^:#\[\.,]*$/,Sa=ia.expr.match.needsContext,Ta={children:!0,contents:!0,next:!0,prev:!0};ia.fn.extend({find:function(a){var b,c,d,e=this.length;if("string"!=typeof a)return d=this,this.pushStack(ia(a).filter(function(){for(b=0;e>b;b++)if(ia.contains(d[b],this))return!0}));for(c=[],b=0;e>b;b++)ia.find(a,this[b],c);return c=this.pushStack(e>1?ia.unique(c):c),c.selector=(this.selector?this.selector+" ":"")+a,c},has:function(a){var b,c=ia(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(ia.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(l(this,a,!1))},filter:function(a){return this.pushStack(l(this,a,!0))},is:function(a){return!!a&&("string"==typeof a?Sa.test(a)?ia(a,this.context).index(this[0])>=0:ia.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sa.test(a)||"string"!=typeof a?ia(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:ia.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return this.pushStack(f.length>1?ia.unique(f):f)},index:function(a){return a?"string"==typeof a?ia.inArray(this[0],ia(a)):ia.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?ia(a,b):ia.makeArray(a&&a.nodeType?[a]:a),d=ia.merge(this.get(),c);return this.pushStack(ia.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ia.fn.andSelf=ia.fn.addBack,ia.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ia.dir(a,"parentNode")},parentsUntil:function(a,b,c){return ia.dir(a,"parentNode",c)},next:function(a){return k(a,"nextSibling")},prev:function(a){return k(a,"previousSibling")},nextAll:function(a){return ia.dir(a,"nextSibling")},prevAll:function(a){return ia.dir(a,"previousSibling")},nextUntil:function(a,b,c){return ia.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return ia.dir(a,"previousSibling",c)},siblings:function(a){return ia.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return ia.sibling(a.firstChild)},contents:function(a){return ia.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:ia.merge([],a.childNodes)}},function(a,b){ia.fn[a]=function(c,d){var e=ia.map(this,b,c);return Pa.test(a)||(d=c),d&&"string"==typeof d&&(e=ia.filter(d,e)),e=this.length>1&&!Ta[a]?ia.unique(e):e,this.length>1&&Qa.test(a)&&(e=e.reverse()),this.pushStack(e)}}),ia.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?ia.find.matchesSelector(b[0],a)?[b[0]]:[]:ia.find.matches(a,b)},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!ia(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ua="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Va=/ jQuery\d+="(?:null|\d+)"/g,Wa=RegExp("<(?:"+Ua+")[\\s/>]","i"),Xa=/^\s+/,Ya=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Za=/<([\w:]+)/,$a=/<tbody/i,_a=/<|&#?\w+;/,ab=/<(?:script|style|link)/i,bb=/^(?:checkbox|radio)$/i,cb=/checked\s*(?:[^=]|=\s*.checked.)/i,db=/^$|\/(?:java|ecma)script/i,eb=/^true\/(.*)/,fb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ia.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hb=m(W),ib=hb.appendChild(W.createElement("div"));gb.optgroup=gb.option,gb.tbody=gb.tfoot=gb.colgroup=gb.caption=gb.thead,gb.th=gb.td,ia.fn.extend({text:function(a){return ia.access(this,function(a){return a===b?ia.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(ia.isFunction(a))return this.each(function(b){ia(this).wrapAll(a.call(this,b))});if(this[0]){var b=ia(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(ia.isFunction(a)?function(b){ia(this).wrapInner(a.call(this,b))}:function(){var b=ia(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ia.isFunction(a);return this.each(function(c){ia(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){ia.nodeName(this,"body")||ia(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||ia.filter(a,[c]).length>0)&&(b||1!==c.nodeType||ia.cleanData(t(c)),c.parentNode&&(b&&ia.contains(c.ownerDocument,c)&&q(t(c,"script")),c.parentNode.removeChild(c)));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&ia.cleanData(t(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&ia.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return ia.clone(this,a,b)})},html:function(a){return ia.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Va,""):b;if(!("string"!=typeof a||ab.test(a)||!ia.support.htmlSerialize&&Wa.test(a)||!ia.support.leadingWhitespace&&Xa.test(a)||gb[(Za.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Ya,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(ia.cleanData(t(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){var b=ia.isFunction(a);return b||"string"==typeof a||(a=ia(a).not(this).detach()),this.domManip([a],!0,function(a){var b=this.nextSibling,c=this.parentNode;c&&(ia(this).remove(),c.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=ba.apply([],a);var e,f,g,h,i,j,k=0,l=this.length,m=this,q=l-1,r=a[0],s=ia.isFunction(r);if(s||!(1>=l||"string"!=typeof r||ia.support.checkClone)&&cb.test(r))return this.each(function(e){var f=m.eq(e);s&&(a[0]=r.call(this,e,c?f.html():b)),f.domManip(a,c,d)});if(l&&(j=ia.buildFragment(a,this[0].ownerDocument,!1,this),e=j.firstChild,1===j.childNodes.length&&(j=e),e)){for(c=c&&ia.nodeName(e,"tr"),h=ia.map(t(j,"script"),o),g=h.length;l>k;k++)f=j,k!==q&&(f=ia.clone(f,!0,!0),g&&ia.merge(h,t(f,"script"))),d.call(c&&ia.nodeName(this[k],"table")?n(this[k],"tbody"):this[k],f,k);if(g)for(i=h[h.length-1].ownerDocument,ia.map(h,p),k=0;g>k;k++)f=h[k],db.test(f.type||"")&&!ia._data(f,"globalEval")&&ia.contains(i,f)&&(f.src?ia.ajax({url:f.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):ia.globalEval((f.text||f.textContent||f.innerHTML||"").replace(fb,"")));j=e=null}return this}}),ia.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ia.fn[a]=function(a){for(var c,d=0,e=[],f=ia(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),ia(f[d])[b](c),ca.apply(e,c.get());return this.pushStack(e)}}),ia.extend({clone:function(a,b,c){var d,e,f,g,h,i=ia.contains(a.ownerDocument,a);if(ia.support.html5Clone||ia.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ib.innerHTML=a.outerHTML,ib.removeChild(f=ib.firstChild)),!(ia.support.noCloneEvent&&ia.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ia.isXMLDoc(a)))for(d=t(f),h=t(a),g=0;null!=(e=h[g]);++g)d[g]&&s(e,d[g]);if(b)if(c)for(h=h||t(a),d=d||t(f),g=0;null!=(e=h[g]);g++)r(e,d[g]);else r(a,f);return d=t(f,"script"),d.length>0&&q(d,!i&&t(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,n=m(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===ia.type(f))ia.merge(o,f.nodeType?[f]:f);else if(_a.test(f)){for(h=h||n.appendChild(b.createElement("div")),i=(Za.exec(f)||["",""])[1].toLowerCase(),k=gb[i]||gb._default,h.innerHTML=k[1]+f.replace(Ya,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!ia.support.leadingWhitespace&&Xa.test(f)&&o.push(b.createTextNode(Xa.exec(f)[0])),!ia.support.tbody)for(f="table"!==i||$a.test(f)?"<table>"!==k[1]||$a.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)ia.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(ia.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=n.lastChild}else o.push(b.createTextNode(f));for(h&&n.removeChild(h),ia.support.appendChecked||ia.grep(t(o,"input"),u),p=0;f=o[p++];)if((!d||-1===ia.inArray(f,d))&&(g=ia.contains(f.ownerDocument,f),h=t(n.appendChild(f),"script"),g&&q(h),c))for(e=0;f=h[e++];)db.test(f.type||"")&&c.push(f);return h=null,n},cleanData:function(a,b){for(var c,d,e,f,g=0,h=ia.expando,i=ia.cache,j=ia.support.deleteExpando,k=ia.event.special;null!=(c=a[g]);g++)if((b||ia.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?ia.event.remove(c,d):ia.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==V?c.removeAttribute(h):c[h]=null,_.push(e))}}});var jb,kb,lb,mb=/alpha\([^)]*\)/i,nb=/opacity\s*=\s*([^)]*)/,ob=/^(top|right|bottom|left)$/,pb=/^(none|table(?!-c[ea]).+)/,qb=/^margin/,rb=RegExp("^("+ja+")(.*)$","i"),sb=RegExp("^("+ja+")(?!px)[a-z%]+$","i"),tb=RegExp("^([+-])=("+ja+")","i"),ub={BODY:"block"},vb={position:"absolute",visibility:"hidden",display:"block"},wb={letterSpacing:0,fontWeight:400},xb=["Top","Right","Bottom","Left"],yb=["Webkit","O","Moz","ms"];ia.fn.extend({css:function(a,c){return ia.access(this,function(a,c,d){var e,f,g={},h=0;if(ia.isArray(c)){for(f=kb(a),e=c.length;e>h;h++)g[c[h]]=ia.css(a,c[h],!1,f);return g}return d!==b?ia.style(a,c,d):ia.css(a,c)},a,c,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:w(this))?ia(this).show():ia(this).hide()})}}),ia.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ia.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=ia.camelCase(c),j=a.style;if(c=ia.cssProps[i]||(ia.cssProps[i]=v(j,i)),h=ia.cssHooks[c]||ia.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tb.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(ia.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||ia.cssNumber[i]||(d+="px"),ia.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=ia.camelCase(c);return c=ia.cssProps[i]||(ia.cssProps[i]=v(a.style,i)),h=ia.cssHooks[c]||ia.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lb(a,c,e)),"normal"===g&&c in wb&&(g=wb[c]),""===d||d?(f=parseFloat(g),
d===!0||ia.isNumeric(f)?f||0:g):g},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),a.getComputedStyle?(kb=function(b){return a.getComputedStyle(b,null)},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||ia.contains(a.ownerDocument,a)||(i=ia.style(a,c)),sb.test(i)&&qb.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):W.documentElement.currentStyle&&(kb=function(a){return a.currentStyle},lb=function(a,c,d){var e,f,g,h=d||kb(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sb.test(i)&&!ob.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),ia.each(["height","width"],function(a,c){ia.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&pb.test(ia.css(a,"display"))?ia.swap(a,vb,function(){return A(a,c,e)}):A(a,c,e):b},set:function(a,b,d){var e=d&&kb(a);return y(a,b,d?z(a,c,d,ia.support.boxSizing&&"border-box"===ia.css(a,"boxSizing",!1,e),e):0)}}}),ia.support.opacity||(ia.cssHooks.opacity={get:function(a,b){return nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=ia.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===ia.trim(f.replace(mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mb.test(f)?f.replace(mb,e):f+" "+e)}}),ia(function(){ia.support.reliableMarginRight||(ia.cssHooks.marginRight={get:function(a,c){return c?ia.swap(a,{display:"inline-block"},lb,[a,"marginRight"]):b}}),!ia.support.pixelPosition&&ia.fn.position&&ia.each(["top","left"],function(a,c){ia.cssHooks[c]={get:function(a,d){return d?(d=lb(a,c),sb.test(d)?ia(a).position()[c]+"px":d):b}}})}),ia.expr&&ia.expr.filters&&(ia.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!ia.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||ia.css(a,"display"))},ia.expr.filters.visible=function(a){return!ia.expr.filters.hidden(a)}),ia.each({margin:"",padding:"",border:"Width"},function(a,b){ia.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xb[d]+b]=f[d]||f[d-2]||f[0];return e}},qb.test(a)||(ia.cssHooks[a+b].set=y)});var zb=/%20/g,Ab=/\[\]$/,Bb=/\r?\n/g,Cb=/^(?:submit|button|image|reset|file)$/i,Db=/^(?:input|select|textarea|keygen)/i;ia.fn.extend({serialize:function(){return ia.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ia.prop(this,"elements");return a?ia.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ia(this).is(":disabled")&&Db.test(this.nodeName)&&!Cb.test(a)&&(this.checked||!bb.test(a))}).map(function(a,b){var c=ia(this).val();return null==c?null:ia.isArray(c)?ia.map(c,function(a){return{name:b.name,value:a.replace(Bb,"\r\n")}}):{name:b.name,value:c.replace(Bb,"\r\n")}}).get()}}),ia.param=function(a,c){var d,e=[],f=function(a,b){b=ia.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=ia.ajaxSettings&&ia.ajaxSettings.traditional),ia.isArray(a)||a.jquery&&!ia.isPlainObject(a))ia.each(a,function(){f(this.name,this.value)});else for(d in a)D(d,a[d],c,f);return e.join("&").replace(zb,"+")},ia.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){ia.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ia.fn.hover=function(a,b){return this.mouseenter(a).mouseleave(b||a)};var Eb,Fb,Gb=ia.now(),Hb=/\?/,Ib=/#.*$/,Jb=/([?&])_=[^&]*/,Kb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mb=/^(?:GET|HEAD)$/,Nb=/^\/\//,Ob=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pb=ia.fn.load,Qb={},Rb={},Sb="*/".concat("*");try{Fb=X.href}catch(Tb){Fb=W.createElement("a"),Fb.href="",Fb=Fb.href}Eb=Ob.exec(Fb.toLowerCase())||[],ia.fn.load=function(a,c,d){if("string"!=typeof a&&Pb)return Pb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),ia.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&ia.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?ia("<div>").append(ia.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},ia.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ia.fn[b]=function(a){return this.on(b,a)}}),ia.each(["get","post"],function(a,c){ia[c]=function(a,d,e,f){return ia.isFunction(d)&&(f=f||e,e=d,d=b),ia.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),ia.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fb,type:"GET",isLocal:Lb.test(Eb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":ia.parseJSON,"text xml":ia.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?G(G(a,ia.ajaxSettings),b):G(ia.ajaxSettings,a)},ajaxPrefilter:E(Qb),ajaxTransport:E(Rb),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,d&&(t=H(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(ia.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(ia.etag[g]=v)),204===a?(f=!0,x="nocontent"):304===a?(f=!0,x="notmodified"):(f=I(m,t),x=f.state,l=f.data,s=f.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--ia.active||ia.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=ia.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?ia(n):ia.event,p=ia.Deferred(),q=ia.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kb.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fb)+"").replace(Ib,"").replace(Nb,Eb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=ia.trim(m.dataType||"*").toLowerCase().match(ka)||[""],null==m.crossDomain&&(e=Ob.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Eb[1]&&e[2]===Eb[2]&&(e[3]||("http:"===e[1]?80:443))==(Eb[3]||("http:"===Eb[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=ia.param(m.data,m.traditional)),F(Qb,m,c,w),2===u)return w;j=m.global,j&&0===ia.active++&&ia.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hb.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Jb.test(g)?g.replace(Jb,"$1_="+Gb++):g+(Hb.test(g)?"&":"?")+"_="+Gb++)),m.ifModified&&(ia.lastModified[g]&&w.setRequestHeader("If-Modified-Since",ia.lastModified[g]),ia.etag[g]&&w.setRequestHeader("If-None-Match",ia.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sb+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=F(Rb,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getScript:function(a,c){return ia.get(a,b,c,"script")},getJSON:function(a,b,c){return ia.get(a,b,c,"json")}}),ia.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return ia.globalEval(a),a}}}),ia.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),ia.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=W.head||ia("head")[0]||W.documentElement;return{send:function(b,e){c=W.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Ub=[],Vb=/(=)\?(?=&|$)|\?\?/;ia.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ub.pop()||ia.expando+"_"+Gb++;return this[a]=!0,a}}),ia.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Vb.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vb.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=ia.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Vb,"$1"+f):c.jsonp!==!1&&(c.url+=(Hb.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||ia.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Ub.push(f)),h&&ia.isFunction(g)&&g(h[0]),h=g=b}),"script"):b});var Wb,Xb,Yb=0,Zb=a.ActiveXObject&&function(){var a;for(a in Wb)Wb[a](b,!0)};ia.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&J()||K()}:J,Xb=ia.ajaxSettings.xhr(),ia.support.cors=!!Xb&&"withCredentials"in Xb,Xb=ia.support.ajax=!!Xb,Xb&&ia.ajaxTransport(function(c){if(!c.crossDomain||ia.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=ia.noop,Zb&&delete Wb[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Yb,Zb&&(Wb||(Wb={},ia(a).unload(Zb)),Wb[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=RegExp("^(?:([+-])=|)("+ja+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[P],ec={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=bc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||(ia.cssNumber[a]?"":"px"),"px"!==d&&h){h=ia.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,ia.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};ia.Animation=ia.extend(N,{tweener:function(a,b){ia.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),ia.Tween=Q,Q.prototype={constructor:Q,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ia.cssNumber[c]?"":"px")},cur:function(){var a=Q.propHooks[this.prop];return a&&a.get?a.get(this):Q.propHooks._default.get(this)},run:function(a){var b,c=Q.propHooks[this.prop];return this.pos=b=this.options.duration?ia.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Q.propHooks._default.set(this),this}},Q.prototype.init.prototype=Q.prototype,Q.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=ia.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){ia.fx.step[a.prop]?ia.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[ia.cssProps[a.prop]]||ia.cssHooks[a.prop])?ia.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Q.propHooks.scrollTop=Q.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ia.each(["toggle","show","hide"],function(a,b){var c=ia.fn[b];ia.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(R(b,!0),a,d,e)}}),ia.fn.extend({fadeTo:function(a,b,c,d){return this.filter(w).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ia.isEmptyObject(a),f=ia.speed(b,c,d),g=function(){var b=N(this,ia.extend({},a),f);g.finish=function(){b.stop(!0)},(e||ia._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=ia.timers,g=ia._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&ia.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ia._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ia.timers,g=d?d.length:0;for(c.finish=!0,ia.queue(this,a,[]),e&&e.cur&&e.cur.finish&&e.cur.finish.call(this),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ia.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ia.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ia.speed=function(a,b,c){var d=a&&"object"==typeof a?ia.extend({},a):{complete:c||!c&&b||ia.isFunction(a)&&a,duration:a,easing:c&&b||b&&!ia.isFunction(b)&&b};return d.duration=ia.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in ia.fx.speeds?ia.fx.speeds[d.duration]:ia.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ia.isFunction(d.old)&&d.old.call(this),d.queue&&ia.dequeue(this,d.queue)},d},ia.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},ia.timers=[],ia.fx=Q.prototype.init,ia.fx.tick=function(){var a,c=ia.timers,d=0;for($b=ia.now();c.length>d;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||ia.fx.stop(),$b=b},ia.fx.timer=function(a){a()&&ia.timers.push(a)&&ia.fx.start()},ia.fx.interval=13,ia.fx.start=function(){_b||(_b=setInterval(ia.fx.tick,ia.fx.interval))},ia.fx.stop=function(){clearInterval(_b),_b=null},ia.fx.speeds={slow:600,fast:200,_default:400},ia.fx.step={},ia.expr&&ia.expr.filters&&(ia.expr.filters.animated=function(a){return ia.grep(ia.timers,function(b){return a===b.elem}).length}),ia.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){ia.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;return g?(c=g.documentElement,ia.contains(c,f)?(typeof f.getBoundingClientRect!==V&&(e=f.getBoundingClientRect()),d=S(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e):void 0},ia.offset={setOffset:function(a,b,c){var d=ia.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=ia(a),h=g.offset(),i=ia.css(a,"top"),j=ia.css(a,"left"),k=("absolute"===d||"fixed"===d)&&ia.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),ia.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},ia.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===ia.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),ia.nodeName(a[0],"html")||(c=a.offset()),c.top+=ia.css(a[0],"borderTopWidth",!0),c.left+=ia.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-ia.css(d,"marginTop",!0),left:b.left-c.left-ia.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||W.documentElement;a&&!ia.nodeName(a,"html")&&"static"===ia.css(a,"position");)a=a.offsetParent;return a||W.documentElement})}}),ia.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);ia.fn[a]=function(e){return ia.access(this,function(a,e,f){var g=S(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?ia(g).scrollLeft():f,d?f:ia(g).scrollTop()):a[e]=f,b)},a,e,arguments.length,null)}}),ia.each({Height:"height",Width:"width"},function(a,c){ia.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){ia.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return ia.access(this,function(c,d,e){var f;return ia.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?ia.css(c,d,h):ia.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=ia,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return ia})}(window),function(a,b){function c(a){var b=a.length,c=fa.type(a);return fa.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=oa[a]={};return fa.each(a.match(ha)||[],function(a,c){b[c]=!0}),b}function e(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=fa.expando+Math.random()}function f(a,c,d){var e;if(d===b&&1===a.nodeType)if(e="data-"+c.replace(sa,"-$1").toLowerCase(),d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:ra.test(d)?JSON.parse(d):d}catch(f){}pa.set(a,c,d)}else d=b;return d}function g(){return!0}function h(){return!1}function i(){try{return T.activeElement}catch(a){}}function j(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function k(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Ca.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return ba.call(b,a)>=0!==c})}function l(a,b){return fa.nodeName(a,"table")&&fa.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function m(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function n(a){var b=Na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function o(a,b){for(var c=a.length,d=0;c>d;d++)qa.set(a[d],"globalEval",!b||qa.get(b[d],"globalEval"))}function p(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(qa.hasData(a)&&(f=qa.access(a),g=qa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)fa.event.add(b,e,j[e][c])}pa.hasData(a)&&(h=pa.access(a),i=fa.extend({},h),pa.set(b,i))}}function q(a,c){var d=a.getElementsByTagName?a.getElementsByTagName(c||"*"):a.querySelectorAll?a.querySelectorAll(c||"*"):[];return c===b||c&&fa.nodeName(a,c)?fa.merge([a],d):d}function r(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ka.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function s(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=_a.length;e--;)if(b=_a[e]+c,b in a)return b;return d}function t(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)}function u(b){return a.getComputedStyle(b,null)}function v(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=qa.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&t(d)&&(f[g]=qa.access(d,"olddisplay",z(d.nodeName)))):f[g]||(e=t(d),(c&&"none"!==c||!e)&&qa.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function w(a,b,c){var d=Ua.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function x(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=fa.css(a,c+$a[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+$a[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+$a[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+$a[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+$a[f]+"Width",!0,e)));return g}function y(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=u(a),g=fa.support.boxSizing&&"border-box"===fa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Qa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Va.test(e))return e;d=g&&(fa.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+x(a,b,c||(g?"border":"content"),d,f)+"px"}function z(a){var b=T,c=Xa[a];return c||(c=A(a,b),"none"!==c&&c||(Ra=(Ra||fa("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(Ra[0].contentWindow||Ra[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=A(a,b),Ra.detach()),Xa[a]=c),c}function A(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.remove(),d}function B(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||bb.test(a)?d(a,e):B(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)B(a+"["+e+"]",b[e],c,d)}function C(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ha)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function D(a,c,d,e){function f(i){var j;return g[i]=!0,fa.each(a[i]||[],function(a,i){var k=i(c,d,e);return"string"!=typeof k||h||g[k]?h?!(j=k):b:(c.dataTypes.unshift(k),f(k),!1)}),j}var g={},h=a===sb;return f(c.dataTypes[0])||!g["*"]&&f("*")}function E(a,c){var d,e,f=fa.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);return e&&fa.extend(!0,a,e),a}function F(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("Content-Type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}return g?(g!==j[0]&&j.unshift(g),d[g]):b}function G(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function H(){return setTimeout(function(){Bb=b}),Bb=fa.now()}function I(a,b,c){for(var d,e=(Hb[b]||[]).concat(Hb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function J(a,b,c){var d,e,f=0,g=Gb.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Bb||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Bb||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(K(k,j.opts.specialEasing);g>f;f++)if(d=Gb[f].call(j,a,k,j.opts))return d;return fa.map(k,I,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function K(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function L(a,c,d){var e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&t(a),o=qa.get(a,"fxshow");d.queue||(i=fa._queueHooks(a,"fx"),null==i.unqueued&&(i.unqueued=0,j=i.empty.fire,i.empty.fire=function(){i.unqueued||j()}),i.unqueued++,k.always(function(){k.always(function(){i.unqueued--,fa.queue(a,"fx").length||i.empty.fire()})})),1===a.nodeType&&("height"in c||"width"in c)&&(d.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===fa.css(a,"display")&&"none"===fa.css(a,"float")&&(m.display="inline-block")),d.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=d.overflow[0],m.overflowX=d.overflow[1],m.overflowY=d.overflow[2]}));for(e in c)if(f=c[e],Db.exec(f)){if(delete c[e],g=g||"toggle"===f,f===(n?"hide":"show")){if("show"!==f||!o||o[e]===b)continue;n=!0}l[e]=o&&o[e]||fa.style(a,e)}if(!fa.isEmptyObject(l)){o?"hidden"in o&&(n=o.hidden):o=qa.access(a,"fxshow",{}),g&&(o.hidden=!n),n?fa(a).show():k.done(function(){fa(a).hide()}),k.done(function(){var b;qa.remove(a,"fxshow");for(b in l)fa.style(a,b,l[b])});for(e in l)h=I(n?o[e]:0,e,k),e in o||(o[e]=h.start,n&&(h.end=h.start,h.start="width"===e||"height"===e?1:0))}}function M(a,b,c,d,e){return new M.prototype.init(a,b,c,d,e)}function N(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=$a[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function O(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var P,Q,R=typeof b,S=a.location,T=a.document,U=T.documentElement,V=a.jQuery,W=a.$,X={},Y=[],Z="2.0.2",$=Y.concat,_=Y.push,aa=Y.slice,ba=Y.indexOf,ca=X.toString,da=X.hasOwnProperty,ea=Z.trim,fa=function(a,b){return new fa.fn.init(a,b,P)},ga=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ha=/\S+/g,ia=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ja=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ka=/^-ms-/,la=/-([\da-z])/gi,ma=function(a,b){return b.toUpperCase()},na=function(){T.removeEventListener("DOMContentLoaded",na,!1),a.removeEventListener("load",na,!1),fa.ready()};fa.fn=fa.prototype={jquery:Z,constructor:fa,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ia.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof fa?c[0]:c,fa.merge(this,fa.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:T,!0)),ja.test(e[1])&&fa.isPlainObject(c))for(e in c)fa.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}return f=T.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=T,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))},selector:"",length:0,toArray:function(){return aa.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return fa.each(this,a,b)},ready:function(a){return fa.ready.promise().done(a),this},slice:function(){return this.pushStack(aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:_,sort:[].sort,splice:[].splice},fa.fn.init.prototype=fa.fn,fa.extend=fa.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||fa.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(k&&e&&(fa.isPlainObject(e)||(f=fa.isArray(e)))?(f?(f=!1,g=d&&fa.isArray(d)?d:[]):g=d&&fa.isPlainObject(d)?d:{},h[c]=fa.extend(k,g,e)):e!==b&&(h[c]=e));return h},fa.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===fa&&(a.$=W),b&&a.jQuery===fa&&(a.jQuery=V),fa},isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(Q.resolveWith(T,[fa]),fa.fn.trigger&&fa(T).trigger("ready").off("ready")))},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?X[ca.call(a)]||"object":typeof a},isPlainObject:function(a){if("object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;try{if(a.constructor&&!da.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||T;var d=ja.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=fa.buildFragment([a],b,e),e&&fa(e).remove(),fa.merge([],d.childNodes))},parseJSON:JSON.parse,parseXML:function(a){var c,d;if(!a||"string"!=typeof a)return null;try{d=new DOMParser,c=d.parseFromString(a,"text/xml")}catch(e){c=b}return(!c||c.getElementsByTagName("parsererror").length)&&fa.error("Invalid XML: "+a),c},noop:function(){},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=T.createElement("script"),
b.text=a,T.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ka,"ms-").replace(la,ma)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":ea.call(a)},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):_.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:ba.call(b,a,c)},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return $.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(d=a[c],c=a,a=d),fa.isFunction(a)?(e=aa.call(arguments,2),f=function(){return a.apply(c||this,e.concat(aa.call(arguments)))},f.guid=a.guid=a.guid||fa.guid++,f):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===fa.type(d)){f=!0;for(i in d)fa.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,fa.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(fa(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:Date.now,swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),fa.ready.promise=function(b){return Q||(Q=fa.Deferred(),"complete"===T.readyState?setTimeout(fa.ready):(T.addEventListener("DOMContentLoaded",na,!1),a.addEventListener("load",na,!1))),Q.promise(b)},fa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){X["[object "+b+"]"]=b.toLowerCase()}),P=fa(T),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if((b?b.ownerDocument||b:S)!==K&&J(b),b=b||K,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(M&&!d){if(e=xa.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&Q(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return ea.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&B.getElementsByClassName&&b.getElementsByClassName)return ea.apply(c,b.getElementsByClassName(g)),c}if(B.qsa&&(!N||!N.test(a))){if(l=k=R,m=b,n=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=p(a),(k=b.getAttribute("id"))?l=k.replace(Aa,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+q(j[i]);m=ra.test(a)&&b.parentNode||b,n=j.join(",")}if(n)try{return ea.apply(c,m.querySelectorAll(n)),c}catch(o){}finally{k||b.removeAttribute("id")}}}return y(a.replace(oa,"$1"),b,c,d)}function d(a){return wa.test(a+"")}function e(){function a(c,d){return b.push(c+=" ")>D.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function f(a){return a[R]=!0,a}function g(a){var b=K.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function h(a,b,c){a=a.split("|");for(var d,e=a.length,f=c?null:b;e--;)(d=D.attrHandle[a[e]])&&d!==b||(D.attrHandle[a[e]]=f)}function i(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:a[b]===!0?b.toLowerCase():null}function j(a,b){return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}function k(a){return"input"===a.nodeName.toLowerCase()?a.defaultValue:b}function l(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||_)-(~a.sourceIndex||_);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function m(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function n(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function o(a){return f(function(b){return b=+b,f(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function p(a,b){var d,e,f,g,h,i,j,k=W[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=D.preFilter;h;){(!d||(e=pa.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=qa.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(oa," ")}),h=h.slice(d.length));for(g in D.filter)!(e=va[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):W(a,i).slice(0)}function q(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function r(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=U++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=T+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[R]||(b[R]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===C)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||C,i[1]===!0)return!0}}function s(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function t(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function u(a,b,c,d,e,g){return d&&!d[R]&&(d=u(d)),e&&!e[R]&&(e=u(e,g)),f(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||x(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:t(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=t(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?ha.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=t(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):ea.apply(g,r)})}function v(a){for(var b,c,d,e=a.length,f=D.relative[a[0].type],g=f||D.relative[" "],h=f?1:0,i=r(function(a){return a===b},g,!0),j=r(function(a){return ha.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==H)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=D.relative[a[h].type])k=[r(s(k),c)];else{if(c=D.filter[a[h].type].apply(null,a[h].matches),c[R]){for(d=++h;e>d&&!D.relative[a[d].type];d++);return u(h>1&&s(k),h>1&&q(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(oa,"$1"),c,d>h&&v(a.slice(h,d)),e>d&&v(a=a.slice(d)),e>d&&q(a))}k.push(c)}return s(k)}function w(a,b){var d=0,e=b.length>0,g=a.length>0,h=function(f,h,i,j,k){var l,m,n,o=[],p=0,q="0",r=f&&[],s=null!=k,u=H,v=f||g&&D.find.TAG("*",k&&h.parentNode||h),w=T+=null==u?1:Math.random()||.1;for(s&&(H=h!==K&&h,C=d);null!=(l=v[q]);q++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}s&&(T=w,C=++d)}e&&((l=!n&&l)&&p--,f&&r.push(l))}if(p+=q,e&&q!==p){for(m=0;n=b[m++];)n(r,o,h,i);if(f){if(p>0)for(;q--;)r[q]||o[q]||(o[q]=ca.call(j));o=t(o)}ea.apply(j,o),s&&!f&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return s&&(T=w,H=u),r};return e?f(h):h}function x(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function y(a,b,c,d){var e,f,g,h,i,j=p(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&B.getById&&9===b.nodeType&&M&&D.relative[f[1].type]){if(b=(D.find.ID(g.matches[0].replace(Ba,Ca),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=va.needsContext.test(a)?0:f.length;e--&&(g=f[e],!D.relative[h=g.type]);)if((i=D.find[h])&&(d=i(g.matches[0].replace(Ba,Ca),ra.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&q(f),!a)return ea.apply(c,d),c;break}}return G(a,j)(d,b,!M,c,ra.test(a)),c}function z(){}var A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R="sizzle"+-new Date,S=a.document,T=0,U=0,V=e(),W=e(),X=e(),Y=!1,Z=function(){return 0},$=typeof b,_=1<<31,aa={}.hasOwnProperty,ba=[],ca=ba.pop,da=ba.push,ea=ba.push,ga=ba.slice,ha=ba.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},ia="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ja="[\\x20\\t\\r\\n\\f]",ka="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",la=ka.replace("w","w#"),ma="\\["+ja+"*("+ka+")"+ja+"*(?:([*^$|!~]?=)"+ja+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+la+")|)|)"+ja+"*\\]",na=":("+ka+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ma.replace(3,8)+")*)|.*)\\)|)",oa=RegExp("^"+ja+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ja+"+$","g"),pa=RegExp("^"+ja+"*,"+ja+"*"),qa=RegExp("^"+ja+"*([>+~]|"+ja+")"+ja+"*"),ra=RegExp(ja+"*[+~]"),sa=RegExp("="+ja+"*([^\\]'\"]*)"+ja+"*\\]","g"),ta=RegExp(na),ua=RegExp("^"+la+"$"),va={ID:RegExp("^#("+ka+")"),CLASS:RegExp("^\\.("+ka+")"),TAG:RegExp("^("+ka.replace("w","w*")+")"),ATTR:RegExp("^"+ma),PSEUDO:RegExp("^"+na),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ja+"*(even|odd|(([+-]|)(\\d*)n|)"+ja+"*(?:([+-]|)"+ja+"*(\\d+)|))"+ja+"*\\)|)","i"),bool:RegExp("^(?:"+ia+")$","i"),needsContext:RegExp("^"+ja+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ja+"*((?:-\\d)?\\d*)"+ja+"*\\)|)(?=[^-]|$)","i")},wa=/^[^{]+\{\s*\[native \w/,xa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ya=/^(?:input|select|textarea|button)$/i,za=/^h\d$/i,Aa=/'|\\/g,Ba=RegExp("\\\\([\\da-f]{1,6}"+ja+"?|("+ja+")|.)","ig"),Ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(55296|d>>10,56320|1023&d)};try{ea.apply(ba=ga.call(S.childNodes),S.childNodes),ba[S.childNodes.length].nodeType}catch(Da){ea={apply:ba.length?function(a,b){da.apply(a,ga.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}F=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},B=c.support={},J=c.setDocument=function(a){var c=a?a.ownerDocument||a:S,e=c.parentWindow;return c!==K&&9===c.nodeType&&c.documentElement?(K=c,L=c.documentElement,M=!F(c),e&&e.frameElement&&e.attachEvent("onbeforeunload",function(){J()}),B.attributes=g(function(a){return a.innerHTML="<a href='#'></a>",h("type|href|height|width",j,"#"===a.firstChild.getAttribute("href")),h(ia,i,null==a.getAttribute("disabled")),a.className="i",!a.getAttribute("className")}),B.input=g(function(a){return a.innerHTML="<input>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")}),h("value",k,B.attributes&&B.input),B.getElementsByTagName=g(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),B.getElementsByClassName=g(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),B.getById=g(function(a){return L.appendChild(a).id=R,!c.getElementsByName||!c.getElementsByName(R).length}),B.getById?(D.find.ID=function(a,b){if(typeof b.getElementById!==$&&M){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},D.filter.ID=function(a){var b=a.replace(Ba,Ca);return function(a){return a.getAttribute("id")===b}}):(delete D.find.ID,D.filter.ID=function(a){var b=a.replace(Ba,Ca);return function(a){var c=typeof a.getAttributeNode!==$&&a.getAttributeNode("id");return c&&c.value===b}}),D.find.TAG=B.getElementsByTagName?function(a,c){return typeof c.getElementsByTagName!==$?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},D.find.CLASS=B.getElementsByClassName&&function(a,c){return typeof c.getElementsByClassName!==$&&M?c.getElementsByClassName(a):b},O=[],N=[],(B.qsa=d(c.querySelectorAll))&&(g(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||N.push("\\["+ja+"*(?:value|"+ia+")"),a.querySelectorAll(":checked").length||N.push(":checked")}),g(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&N.push("[*^$]="+ja+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),N.push(",.*:")})),(B.matchesSelector=d(P=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&g(function(a){B.disconnectedMatch=P.call(a,"div"),P.call(a,"[s!='']:x"),O.push("!=",na)}),N=N.length&&RegExp(N.join("|")),O=O.length&&RegExp(O.join("|")),Q=d(L.contains)||L.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B.sortDetached=g(function(a){return 1&a.compareDocumentPosition(c.createElement("div"))}),Z=L.compareDocumentPosition?function(a,b){if(a===b)return Y=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?1&d||!B.sortDetached&&b.compareDocumentPosition(a)===d?a===c||Q(S,a)?-1:b===c||Q(S,b)?1:I?ha.call(I,a)-ha.call(I,b):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var d,e=0,f=a.parentNode,g=b.parentNode,h=[a],i=[b];if(a===b)return Y=!0,0;if(!f||!g)return a===c?-1:b===c?1:f?-1:g?1:I?ha.call(I,a)-ha.call(I,b):0;if(f===g)return l(a,b);for(d=a;d=d.parentNode;)h.unshift(d);for(d=b;d=d.parentNode;)i.unshift(d);for(;h[e]===i[e];)e++;return e?l(h[e],i[e]):h[e]===S?-1:i[e]===S?1:0},c):K},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==K&&J(a),b=b.replace(sa,"='$1']"),!(!B.matchesSelector||!M||O&&O.test(b)||N&&N.test(b)))try{var d=P.call(a,b);if(d||B.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,K,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==K&&J(a),Q(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==K&&J(a);var d=D.attrHandle[c.toLowerCase()],e=d&&aa.call(D.attrHandle,c.toLowerCase())?d(a,c,!M):b;return e===b?B.attributes||!M?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(Y=!B.detectDuplicates,I=!B.sortStable&&a.slice(0),a.sort(Z),Y){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},E=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=E(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=E(b);return c},D=c.selectors={cacheLength:50,createPseudo:f,match:va,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(Ba,Ca),a[3]=(a[4]||a[5]||"").replace(Ba,Ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return va.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&ta.test(d)&&(c=p(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(Ba,Ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=V[a+" "];return b||(b=RegExp("(^|"+ja+")"+a+"("+ja+"|$)"))&&V(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==$&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[R]||(q[R]={}),j=k[a]||[],n=j[0]===T&&j[1],m=j[0]===T&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[T,n,m];break}}else if(s&&(j=(b[R]||(b[R]={}))[a])&&j[0]===T)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[R]||(l[R]={}))[a]=[T,m]),l!==b)););return m-=e,m===d||0===m%d&&m/d>=0}}},PSEUDO:function(a,b){var d,e=D.pseudos[a]||D.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return e[R]?e(b):e.length>1?(d=[a,a,"",b],D.setFilters.hasOwnProperty(a.toLowerCase())?f(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=ha.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,d)}):e}},pseudos:{not:f(function(a){var b=[],c=[],d=G(a.replace(oa,"$1"));return d[R]?f(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:f(function(a){return function(b){return c(a,b).length>0}}),contains:f(function(a){return function(b){return(b.textContent||b.innerText||E(b)).indexOf(a)>-1}}),lang:f(function(a){return ua.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(Ba,Ca).toLowerCase(),function(b){var c;do if(c=M?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===L},focus:function(a){return a===K.activeElement&&(!K.hasFocus||K.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!D.pseudos.empty(a)},header:function(a){return za.test(a.nodeName)},input:function(a){return ya.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:o(function(){return[0]}),last:o(function(a,b){return[b-1]}),eq:o(function(a,b,c){return[0>c?c+b:c]}),even:o(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:o(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:o(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:o(function(a,b,c){for(var d=0>c?c+b:c;b>++d;)a.push(d);return a})}};for(A in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[A]=m(A);for(A in{submit:!0,reset:!0})D.pseudos[A]=n(A);G=c.compile=function(a,b){var c,d=[],e=[],f=X[a+" "];if(!f){for(b||(b=p(a)),c=b.length;c--;)f=v(b[c]),f[R]?d.push(f):e.push(f);f=X(a,w(e,d))}return f},D.pseudos.nth=D.pseudos.eq,z.prototype=D.filters=D.pseudos,D.setFilters=new z,B.sortStable=R.split("").sort(Z).join("")===R,J(),[0,0].sort(Z),B.detectDuplicates=Y,fa.find=c,fa.expr=c.selectors,fa.expr[":"]=fa.expr.pseudos,fa.unique=c.uniqueSort,fa.text=c.getText,fa.isXMLDoc=c.isXML,fa.contains=c.contains}(a);var oa={};fa.Callbacks=function(a){a="string"==typeof a?oa[a]||d(a):fa.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(c=a.memory&&b,e=!0,i=g||0,g=0,h=j.length,f=!0;j&&h>i;i++)if(j[i].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}f=!1,j&&(k?k.length&&l(k.shift()):c?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){fa.each(b,function(b,c){var e=fa.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),f?h=j.length:c&&(g=b,l(c))}return this},remove:function(){return j&&fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,j,c))>-1;)j.splice(c,1),f&&(h>=c&&h--,i>=c&&i--)}),this},has:function(a){return a?fa.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],h=0,this},disable:function(){return j=k=c=b,this},disabled:function(){return!j},lock:function(){return k=b,c||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],!j||e&&!k||(f?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!e}};return m},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=f[0],h=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=aa.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?aa.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=Array(g),c=Array(g),d=Array(g);g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),fa.support=function(b){var c=T.createElement("input"),d=T.createDocumentFragment(),e=T.createElement("div"),f=T.createElement("select"),g=f.appendChild(T.createElement("option"));return c.type?(c.type="checkbox",b.checkOn=""!==c.value,b.optSelected=g.selected,b.reliableMarginRight=!0,b.boxSizingReliable=!0,b.pixelPosition=!1,c.checked=!0,b.noCloneChecked=c.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled,c=T.createElement("input"),c.value="t",c.type="radio",b.radioValue="t"===c.value,c.setAttribute("checked","t"),c.setAttribute("name","t"),d.appendChild(c),b.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked,b.focusinBubbles="onfocusin"in a,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===e.style.backgroundClip,fa(function(){var c,d,f="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",g=T.getElementsByTagName("body")[0];g&&(c=T.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(e),e.innerHTML="",e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",fa.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===e.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(e,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(e,null)||{width:"4px"}).width,d=e.appendChild(T.createElement("div")),d.style.cssText=e.style.cssText=f,d.style.marginRight=d.style.width="0",e.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),g.removeChild(c))}),b):b}({});var pa,qa,ra=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,sa=/([A-Z])/g;e.uid=1,e.accepts=function(a){return a.nodeType?1===a.nodeType||9===a.nodeType:!0},e.prototype={key:function(a){if(!e.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=e.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,fa.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(fa.isEmptyObject(f))fa.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,c){var d=this.cache[this.key(a)];return c===b?d:d[c]},access:function(a,c,d){return c===b||c&&"string"==typeof c&&d===b?this.get(a,c):(this.set(a,c,d),d!==b?d:c)},remove:function(a,c){var d,e,f,g=this.key(a),h=this.cache[g];if(c===b)this.cache[g]={};else{fa.isArray(c)?e=c.concat(c.map(fa.camelCase)):(f=fa.camelCase(c),c in h?e=[c,f]:(e=f,e=e in h?[e]:e.match(ha)||[])),d=e.length;for(;d--;)delete h[e[d]]}},hasData:function(a){return!fa.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}},pa=new e,qa=new e,fa.extend({acceptData:e.accepts,hasData:function(a){return pa.hasData(a)||qa.hasData(a)},data:function(a,b,c){return pa.access(a,b,c)},removeData:function(a,b){pa.remove(a,b)},_data:function(a,b,c){return qa.access(a,b,c)},_removeData:function(a,b){qa.remove(a,b)}}),fa.fn.extend({data:function(a,c){var d,e,g=this[0],h=0,i=null;if(a===b){if(this.length&&(i=pa.get(g),1===g.nodeType&&!qa.get(g,"hasDataAttrs"))){for(d=g.attributes;d.length>h;h++)e=d[h].name,0===e.indexOf("data-")&&(e=fa.camelCase(e.slice(5)),f(g,e,i[e]));qa.set(g,"hasDataAttrs",!0)}return i}return"object"==typeof a?this.each(function(){pa.set(this,a)}):fa.access(this,function(c){var d,e=fa.camelCase(a);if(g&&c===b){if(d=pa.get(g,a),d!==b)return d;if(d=pa.get(g,e),d!==b)return d;if(d=f(g,e,b),d!==b)return d}else this.each(function(){var d=pa.get(this,e);pa.set(this,e,c),-1!==a.indexOf("-")&&d!==b&&pa.set(this,a,c)})},null,c,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){pa.remove(this,a)})}}),fa.extend({queue:function(a,c,d){var e;return a?(c=(c||"fx")+"queue",e=qa.get(a,c),d&&(!e||fa.isArray(d)?e=qa.access(a,c,fa.makeArray(d)):e.push(d)),e||[]):b},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return qa.get(a,c)||qa.access(a,c,{empty:fa.Callbacks("once memory").add(function(){qa.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?fa.queue(this[0],a):c===b?this:this.each(function(){var b=fa.queue(this,a,c);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},delay:function(a,b){return a=fa.fx?fa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=fa.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=qa.get(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var ta,ua,va=/[\t\r\n\f]/g,wa=/\r/g,xa=/^(?:input|select|textarea|button)$/i;fa.fn.extend({attr:function(a,b){return fa.access(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})},prop:function(a,b){return fa.access(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ha)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(va," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=fa.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ha)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(va," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?fa.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return this.each(fa.isFunction(a)?function(c){fa(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var e,f=0,g=fa(this),h=b,i=a.match(ha)||[];e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else(c===R||"boolean"===c)&&(this.className&&qa.set(this,"__className__",this.className),this.className=this.className||a===!1?"":qa.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(va," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];return arguments.length?(e=fa.isFunction(a),this.each(function(d){var f;1===this.nodeType&&(f=e?a.call(this,d,fa(this).val()):a,null==f?f="":"number"==typeof f?f+="":fa.isArray(f)&&(f=fa.map(f,function(a){return null==a?"":a+""})),c=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,f,"value")!==b||(this.value=f))})):f?(c=fa.valHooks[f.type]||fa.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,"string"==typeof d?d.replace(wa,""):null==d?"":d)):void 0}}),fa.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(fa.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?typeof a.getAttribute===R?fa.prop(a,c,d):(1===g&&fa.isXMLDoc(a)||(c=c.toLowerCase(),e=fa.attrHooks[c]||(fa.expr.match.bool.test(c)?ua:ta)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=fa.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):(fa.removeAttr(a,c),b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ha);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!fa.support.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?(g=1!==h||!fa.isXMLDoc(a),
g&&(c=fa.propFix[c]||c,f=fa.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||xa.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),ua={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,c){var d=fa.expr.attrHandle[c]||fa.find.attr;fa.expr.attrHandle[c]=function(a,c,e){var f=fa.expr.attrHandle[c],g=e?b:(fa.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return fa.expr.attrHandle[c]=f,g}}),fa.support.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,c){return fa.isArray(c)?a.checked=fa.inArray(fa(a).val(),c)>=0:b}},fa.support.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ya=/^key/,za=/^(?:mouse|contextmenu)|click/,Aa=/^(?:focusinfocus|focusoutblur)$/,Ba=/^([^.]*)(?:\.(.+)|)$/;fa.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=qa.get(a);if(r){for(d.handler&&(g=d,d=g.handler,f=g.selector),d.guid||(d.guid=fa.guid++),(j=r.events)||(j=r.events={}),(h=r.handle)||(h=r.handle=function(a){return typeof fa===R||a&&fa.event.triggered===a.type?b:fa.event.dispatch.apply(h.elem,arguments)},h.elem=a),c=(c||"").match(ha)||[""],k=c.length;k--;)i=Ba.exec(c[k])||[],o=q=i[1],p=(i[2]||"").split(".").sort(),o&&(m=fa.event.special[o]||{},o=(f?m.delegateType:m.bindType)||o,m=fa.event.special[o]||{},l=fa.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&fa.expr.match.needsContext.test(f),namespace:p.join(".")},g),(n=j[o])||(n=j[o]=[],n.delegateCount=0,m.setup&&m.setup.call(a,e,p,h)!==!1||a.addEventListener&&a.addEventListener(o,h,!1)),m.add&&(m.add.call(a,l),l.handler.guid||(l.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,l):n.push(l),fa.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=qa.hasData(a)&&qa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(ha)||[""],j=b.length;j--;)if(h=Ba.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&(delete q.handle,qa.remove(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||T],o=da.call(c,"type")?c.type:c,p=da.call(c,"namespace")?c.namespace.split("."):[];if(h=i=e=e||T,3!==e.nodeType&&8!==e.nodeType&&!Aa.test(o+fa.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),k=0>o.indexOf(":")&&"on"+o,c=c[fa.expando]?c:new fa.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:fa.makeArray(d,[c]),m=fa.event.special[o]||{},f||!m.trigger||m.trigger.apply(e,d)!==!1)){if(!f&&!m.noBubble&&!fa.isWindow(e)){for(j=m.delegateType||o,Aa.test(j+o)||(h=h.parentNode);h;h=h.parentNode)n.push(h),i=h;i===(e.ownerDocument||T)&&n.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=n[g++])&&!c.isPropagationStopped();)c.type=g>1?j:m.bindType||o,l=(qa.get(h,"events")||{})[c.type]&&qa.get(h,"handle"),l&&l.apply(h,d),l=k&&h[k],l&&fa.acceptData(h)&&l.apply&&l.apply(h,d)===!1&&c.preventDefault();return c.type=o,f||c.isDefaultPrevented()||m._default&&m._default.apply(n.pop(),d)!==!1||!fa.acceptData(e)||k&&fa.isFunction(e[o])&&!fa.isWindow(e)&&(i=e[k],i&&(e[k]=null),fa.event.triggered=o,e[o](),fa.event.triggered=b,i&&(e[k]=i)),c.result}},dispatch:function(a){a=fa.event.fix(a);var c,d,e,f,g,h=[],i=aa.call(arguments),j=(qa.get(this,"events")||{})[a.type]||[],k=fa.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=fa.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,d=0;(g=f.handlers[d++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((fa.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),e!==b&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!==this;j=j.parentNode||this)if(j.disabled!==!0||"click"!==a.type){for(e=[],d=0;i>d;d++)g=c[d],f=g.selector+" ",e[f]===b&&(e[f]=g.needsContext?fa(f,this).index(j)>=0:fa.find(f,this,null,[j]).length),e[f]&&e.push(g);e.length&&h.push({elem:j,handlers:e})}return c.length>i&&h.push({elem:this,handlers:c.slice(i)}),h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button;return null==a.pageX&&null!=c.clientX&&(d=a.target.ownerDocument||T,e=d.documentElement,f=d.body,a.pageX=c.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=c.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=za.test(e)?this.mouseHooks:ya.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=T),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==i()&&this.focus?(this.focus(),!1):b},delegateType:"focusin"},blur:{trigger:function(){return this===i()&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&fa.nodeName(this,"input")?(this.click(),!1):b},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=fa.extend(new fa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?fa.event.trigger(e,null,b):fa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},fa.Event=function(a,c){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.getPreventDefault&&a.getPreventDefault()?g:h):this.type=a,c&&fa.extend(this,c),this.timeStamp=a&&a.timeStamp||fa.now(),this[fa.expando]=!0,b):new fa.Event(a,c)},fa.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=g,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=g,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=g,this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!fa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.support.focusinBubbles||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){fa.event.simulate(b,a.target,fa.event.fix(a),!0)};fa.event.special[b]={setup:function(){0===c++&&T.addEventListener(a,d,!0)},teardown:function(){0===--c&&T.removeEventListener(a,d,!0)}}}),fa.fn.extend({on:function(a,c,d,e,f){var g,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=h;else if(!e)return this;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),this.each(function(){fa.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,fa(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=h),this.each(function(){fa.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,c){var d=this[0];return d?fa.event.trigger(a,c,d,!0):b}});var Ca=/^.[^:#\[\.,]*$/,Da=/^(?:parents|prev(?:Until|All))/,Ea=fa.expr.match.needsContext,Fa={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;e>b;b++)if(fa.contains(d[b],this))return!0}));for(b=0;e>b;b++)fa.find(a,d[b],c);return c=this.pushStack(e>1?fa.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(fa.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(k(this,a||[],!0))},filter:function(a){return this.pushStack(k(this,a||[],!1))},is:function(a){return!!k(this,"string"==typeof a&&Ea.test(a)?fa(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Ea.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?fa.unique(f):f)},index:function(a){return a?"string"==typeof a?ba.call(fa(a),this[0]):ba.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?fa(a,b):fa.makeArray(a&&a.nodeType?[a]:a),d=fa.merge(this.get(),c);return this.pushStack(fa.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return fa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return fa.dir(a,"parentNode",c)},next:function(a){return j(a,"nextSibling")},prev:function(a){return j(a,"previousSibling")},nextAll:function(a){return fa.dir(a,"nextSibling")},prevAll:function(a){return fa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return fa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return fa.dir(a,"previousSibling",c)},siblings:function(a){return fa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return fa.sibling(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(Fa[a]||fa.unique(e),Da.test(a)&&e.reverse()),this.pushStack(e)}}),fa.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=d!==b;(a=a[c])&&9!==a.nodeType;)if(1===a.nodeType){if(f&&fa(a).is(d))break;e.push(a)}return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ga=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ha=/<([\w:]+)/,Ia=/<|&#?\w+;/,Ja=/<(?:script|style|link)/i,Ka=/^(?:checkbox|radio)$/i,La=/checked\s*(?:[^=]|=\s*.checked.)/i,Ma=/^$|\/(?:java|ecma)script/i,Na=/^true\/(.*)/,Oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pa.optgroup=Pa.option,Pa.tbody=Pa.tfoot=Pa.colgroup=Pa.caption=Pa.thead,Pa.th=Pa.td,fa.fn.extend({text:function(a){return fa.access(this,function(a){return a===b?fa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=l(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?fa.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||fa.cleanData(q(c)),c.parentNode&&(b&&fa.contains(c.ownerDocument,c)&&o(q(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(q(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return fa.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b&&1===c.nodeType)return c.innerHTML;if("string"==typeof a&&!Ja.test(a)&&!Pa[(Ha.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ga,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(fa.cleanData(q(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=fa.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),fa(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=$.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,o=k-1,p=a[0],r=fa.isFunction(p);if(r||!(1>=k||"string"!=typeof p||fa.support.checkClone)&&La.test(p))return this.each(function(d){var e=l.eq(d);r&&(a[0]=p.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(d=fa.buildFragment(a,this[0].ownerDocument,!1,!c&&this),e=d.firstChild,1===d.childNodes.length&&(d=e),e)){for(f=fa.map(q(d,"script"),m),g=f.length;k>j;j++)h=d,j!==o&&(h=fa.clone(h,!0,!0),g&&fa.merge(f,q(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,fa.map(f,n),j=0;g>j;j++)h=f[j],Ma.test(h.type||"")&&!qa.access(h,"globalEval")&&fa.contains(i,h)&&(h.src?fa._evalUrl(h.src):fa.globalEval(h.textContent.replace(Oa,"")))}return this}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),_.apply(d,c.get());return this.pushStack(d)}}),fa.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(fa.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=q(h),f=q(a),d=0,e=f.length;e>d;d++)r(f[d],g[d]);if(b)if(c)for(f=f||q(a),g=g||q(h),d=0,e=f.length;e>d;d++)p(f[d],g[d]);else p(a,h);return g=q(h,"script"),g.length>0&&o(g,!i&&q(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=0,l=a.length,m=b.createDocumentFragment(),n=[];l>k;k++)if(e=a[k],e||0===e)if("object"===fa.type(e))fa.merge(n,e.nodeType?[e]:e);else if(Ia.test(e)){for(f=f||m.appendChild(b.createElement("div")),g=(Ha.exec(e)||["",""])[1].toLowerCase(),h=Pa[g]||Pa._default,f.innerHTML=h[1]+e.replace(Ga,"<$1></$2>")+h[2],j=h[0];j--;)f=f.firstChild;fa.merge(n,f.childNodes),f=m.firstChild,f.textContent=""}else n.push(b.createTextNode(e));for(m.textContent="",k=0;e=n[k++];)if((!d||-1===fa.inArray(e,d))&&(i=fa.contains(e.ownerDocument,e),f=q(m.appendChild(e),"script"),i&&o(f),c))for(j=0;e=f[j++];)Ma.test(e.type||"")&&c.push(e);return m},cleanData:function(a){for(var c,d,f,g,h,i,j=fa.event.special,k=0;(d=a[k])!==b;k++){if(e.accepts(d)&&(h=d[qa.expando],h&&(c=qa.cache[h]))){if(f=Object.keys(c.events||{}),f.length)for(i=0;(g=f[i])!==b;i++)j[g]?fa.event.remove(d,g):fa.removeEvent(d,g,c.handle);qa.cache[h]&&delete qa.cache[h]}delete pa.cache[d[pa.expando]]}},_evalUrl:function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(fa.isFunction(a)?function(b){fa(this).wrapInner(a.call(this,b))}:function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}});var Qa,Ra,Sa=/^(none|table(?!-c[ea]).+)/,Ta=/^margin/,Ua=RegExp("^("+ga+")(.*)$","i"),Va=RegExp("^("+ga+")(?!px)[a-z%]+$","i"),Wa=RegExp("^([+-])=("+ga+")","i"),Xa={BODY:"block"},Ya={position:"absolute",visibility:"hidden",display:"block"},Za={letterSpacing:0,fontWeight:400},$a=["Top","Right","Bottom","Left"],_a=["Webkit","O","Moz","ms"];fa.fn.extend({css:function(a,c){return fa.access(this,function(a,c,d){var e,f,g={},h=0;if(fa.isArray(c)){for(e=u(a),f=c.length;f>h;h++)g[c[h]]=fa.css(a,c[h],!1,e);return g}return d!==b?fa.style(a,c,d):fa.css(a,c)},a,c,arguments.length>1)},show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:t(this))?fa(this).show():fa(this).hide()})}}),fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Qa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=fa.camelCase(c),j=a.style;return c=fa.cssProps[i]||(fa.cssProps[i]=s(j,i)),h=fa.cssHooks[c]||fa.cssHooks[i],d===b?h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c]:(g=typeof d,"string"===g&&(f=Wa.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(fa.css(a,c)),g="number"),null==d||"number"===g&&isNaN(d)||("number"!==g||fa.cssNumber[i]||(d+="px"),fa.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b||(j[c]=d)),b)}},css:function(a,c,d,e){var f,g,h,i=fa.camelCase(c);return c=fa.cssProps[i]||(fa.cssProps[i]=s(a.style,i)),h=fa.cssHooks[c]||fa.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,d)),f===b&&(f=Qa(a,c,e)),"normal"===f&&c in Za&&(f=Za[c]),""===d||d?(g=parseFloat(f),d===!0||fa.isNumeric(g)?g||0:f):f}}),Qa=function(a,c,d){var e,f,g,h=d||u(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||fa.contains(a.ownerDocument,a)||(i=fa.style(a,c)),Va.test(i)&&Ta.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i},fa.each(["height","width"],function(a,c){fa.cssHooks[c]={get:function(a,d,e){return d?0===a.offsetWidth&&Sa.test(fa.css(a,"display"))?fa.swap(a,Ya,function(){return y(a,c,e)}):y(a,c,e):b},set:function(a,b,d){var e=d&&u(a);return w(a,b,d?x(a,c,d,fa.support.boxSizing&&"border-box"===fa.css(a,"boxSizing",!1,e),e):0)}}}),fa(function(){fa.support.reliableMarginRight||(fa.cssHooks.marginRight={get:function(a,c){return c?fa.swap(a,{display:"inline-block"},Qa,[a,"marginRight"]):b}}),!fa.support.pixelPosition&&fa.fn.position&&fa.each(["top","left"],function(a,c){fa.cssHooks[c]={get:function(a,d){return d?(d=Qa(a,c),Va.test(d)?fa(a).position()[c]+"px":d):b}}})}),fa.expr&&fa.expr.filters&&(fa.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight},fa.expr.filters.visible=function(a){return!fa.expr.filters.hidden(a)}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+$a[d]+b]=f[d]||f[d-2]||f[0];return e}},Ta.test(a)||(fa.cssHooks[a+b].set=w)});var ab=/%20/g,bb=/\[\]$/,cb=/\r?\n/g,db=/^(?:submit|button|image|reset|file)$/i,eb=/^(?:input|select|textarea|keygen)/i;fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&eb.test(this.nodeName)&&!db.test(a)&&(this.checked||!Ka.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(cb,"\r\n")}}):{name:b.name,value:c.replace(cb,"\r\n")}}).get()}}),fa.param=function(a,c){var d,e=[],f=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){f(this.name,this.value)});else for(d in a)B(d,a[d],c,f);return e.join("&").replace(ab,"+")},fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var fb,gb,hb=fa.now(),ib=/\?/,jb=/#.*$/,kb=/([?&])_=[^&]*/,lb=/^(.*?):[ \t]*([^\r\n]*)$/gm,mb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,nb=/^(?:GET|HEAD)$/,ob=/^\/\//,pb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qb=fa.fn.load,rb={},sb={},tb="*/".concat("*");try{gb=S.href}catch(ub){gb=T.createElement("a"),gb.href="",gb=gb.href}fb=pb.exec(gb.toLowerCase())||[],fa.fn.load=function(a,c,d){if("string"!=typeof a&&qb)return qb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i),a=a.slice(0,i)),fa.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(f="POST"),h.length>0&&fa.ajax({url:a,type:f,dataType:"html",data:c}).done(function(a){g=arguments,h.html(e?fa("<div>").append(fa.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,g||[a.responseText,b,a])}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gb,type:"GET",isLocal:mb.test(fb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?E(E(a,fa.ajaxSettings),b):E(fa.ajaxSettings,a)},ajaxPrefilter:C(rb),ajaxTransport:C(sb),ajax:function(a,c){function d(a,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),e=b,g=h||"",w.readyState=a>0?4:0,j=a>=200&&300>a||304===a,d&&(t=F(m,w,d)),t=G(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=lb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||gb)+"").replace(jb,"").replace(ob,fb[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(ha)||[""],null==m.crossDomain&&(j=pb.exec(m.url.toLowerCase()),m.crossDomain=!(!j||j[1]===fb[1]&&j[2]===fb[2]&&(j[3]||("http:"===j[1]?"80":"443"))===(fb[3]||("http:"===fb[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),D(rb,m,c,w),2===u)return w;k=m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!nb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(ib.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=kb.test(f)?f.replace(kb,"$1_="+hb++):f+(ib.test(f)?"&":"?")+"_="+hb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+tb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=D(sb,m,c,w)){w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,c){return fa.get(a,b,c,"script")}}),fa.each(["get","post"],function(a,c){fa[c]=function(a,d,e,f){return fa.isFunction(d)&&(f=f||e,e=d,d=b),fa.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),T.head.appendChild(b[0])},abort:function(){c&&c()}}}});var vb=[],wb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=vb.pop()||fa.expando+"_"+hb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(wb.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&wb.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=fa.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(wb,"$1"+f):c.jsonp!==!1&&(c.url+=(ib.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||fa.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,vb.push(f)),h&&fa.isFunction(g)&&g(h[0]),h=g=b}),"script"):b}),fa.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var xb=fa.ajaxSettings.xhr(),yb={0:200,1223:204},zb=0,Ab={};a.ActiveXObject&&fa(a).on("unload",function(){for(var a in Ab)Ab[a]();Ab=b}),fa.support.cors=!!xb&&"withCredentials"in xb,fa.support.ajax=xb=!!xb,fa.ajaxTransport(function(a){var c;return fa.support.cors||xb&&!a.crossDomain?{send:function(d,e){var f,g,h=a.xhr();if(h.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)h[f]=a.xhrFields[f];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType),a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)h.setRequestHeader(f,d[f]);c=function(a){return function(){c&&(delete Ab[g],c=h.onload=h.onerror=null,"abort"===a?h.abort():"error"===a?e(h.status||404,h.statusText):e(yb[h.status]||h.status,h.statusText,"string"==typeof h.responseText?{text:h.responseText}:b,h.getAllResponseHeaders()))}},h.onload=c(),h.onerror=c("error"),c=Ab[g=zb++]=c("abort"),h.send(a.hasContent&&a.data||null)},abort:function(){c&&c()}}:b});var Bb,Cb,Db=/^(?:toggle|show|hide)$/,Eb=RegExp("^(?:([+-])=|)("+ga+")([a-z%]*)$","i"),Fb=/queueHooks$/,Gb=[L],Hb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Eb.exec(b),f=e&&e[3]||(fa.cssNumber[a]?"":"px"),g=(fa.cssNumber[a]||"px"!==f&&+d)&&Eb.exec(fa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,fa.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};fa.Animation=fa.extend(J,{tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Hb[c]=Hb[c]||[],Hb[c].unshift(b)},prefilter:function(a,b){b?Gb.unshift(a):Gb.push(a)}}),fa.Tween=M,M.prototype={constructor:M,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,c=M.propHooks[this.prop];return this.pos=b=this.options.duration?fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,
this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[fa.cssProps[a.prop]]||fa.cssHooks[a.prop])?fa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(N(b,!0),a,d,e)}}),fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(t).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=J(this,fa.extend({},a),f);(e||qa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=fa.timers,g=qa.get(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&Fb.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=qa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},fa.timers=[],fa.fx=M.prototype.init,fa.fx.tick=function(){var a,c=fa.timers,d=0;for(Bb=fa.now();c.length>d;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||fa.fx.stop(),Bb=b},fa.fx.timer=function(a){a()&&fa.timers.push(a)&&fa.fx.start()},fa.fx.interval=13,fa.fx.start=function(){Cb||(Cb=setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){clearInterval(Cb),Cb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fx.step={},fa.expr&&fa.expr.filters&&(fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length}),fa.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var c,d,e=this[0],f={top:0,left:0},g=e&&e.ownerDocument;return g?(c=g.documentElement,fa.contains(c,e)?(typeof e.getBoundingClientRect!==R&&(f=e.getBoundingClientRect()),d=O(g),{top:f.top+d.pageYOffset-c.clientTop,left:f.left+d.pageXOffset-c.clientLeft}):f):void 0},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0),d.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||U;a&&!fa.nodeName(a,"html")&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||U})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(c,d){var e="pageYOffset"===d;fa.fn[c]=function(f){return fa.access(this,function(c,f,g){var h=O(c);return g===b?h?h[d]:c[f]:(h?h.scrollTo(e?a.pageXOffset:g,e?g:a.pageYOffset):c[f]=g,b)},c,f,arguments.length,null)}}),fa.each({Height:"height",Width:"width"},function(a,c){fa.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){fa.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return fa.access(this,function(c,d,e){var f;return fa.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?fa.css(c,d,h):fa.style(c,d,e,h)},c,g?e:b,g,null)}})}),fa.fn.size=function(){return this.length},fa.fn.andSelf=fa.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=fa:"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa}),"object"==typeof a&&"object"==typeof a.document&&(a.jQuery=a.$=fa)}(window),!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ha.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=oa[a]={};return _.each(a.match(na)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ua,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ta.test(c)?_.parseJSON(c):c}catch(e){}sa.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Ka.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)ra.set(a[c],"globalEval",!b||ra.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(ra.hasData(a)&&(f=ra.access(a),g=ra.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sa.hasData(a)&&(h=sa.access(a),i=_.extend({},h),sa.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ya.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Oa[a];return c||(c=t(a,b),"none"!==c&&c||(Na=(Na||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Na[0].contentDocument,b.write(),b.close(),c=t(a,b),Na.detach()),Oa[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qa.test(g)&&Pa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xa.length;e--;)if(b=Xa[e]+c,b in a)return b;return d}function y(a,b,c){var d=Ta.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wa[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wa[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wa[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wa[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wa[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qa.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ra.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xa(d)&&(f[g]=ra.access(d,"olddisplay",u(d.nodeName)))):(e=xa(d),"none"===c&&e||ra.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Ya=void 0}),Ya=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cb[b]||[]).concat(cb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xa(a),p=ra.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?ra.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$a.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ra.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;ra.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bb.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ya||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ya||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bb[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(na)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===tb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||yb.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.3",_=function(a,b){return new _.fn.init(a,b)},aa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ba=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ba,"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(aa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var ea=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;

return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=ea,_.expr=ea.selectors,_.expr[":"]=_.expr.pseudos,_.unique=ea.uniqueSort,_.text=ea.getText,_.isXMLDoc=ea.isXML,_.contains=ea.contains;var fa=_.expr.match.needsContext,ga=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ha=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fa.test(a)?_(a):a||[],!1).length}});var ia,ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ka=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ja.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ia).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),ga.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ia.ready?ia.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};ka.prototype=_.fn,ia=_(Z);var la=/^(?:parents|prev(?:Until|All))/,ma={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fa.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(ma[a]||_.unique(e),la.test(a)&&e.reverse()),this.pushStack(e)}});var na=/\S+/g,oa={};_.Callbacks=function(a){a="string"==typeof a?oa[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pa;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pa.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pa||(pa=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pa.promise(b)},_.ready.promise();var qa=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(na)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var ra=new h,sa=new h,ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ua=/([A-Z])/g;_.extend({hasData:function(a){return sa.hasData(a)||ra.hasData(a)},data:function(a,b,c){return sa.access(a,b,c)},removeData:function(a,b){sa.remove(a,b)},_data:function(a,b,c){return ra.access(a,b,c)},_removeData:function(a,b){ra.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sa.get(f),1===f.nodeType&&!ra.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));ra.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sa.set(this,a)}):qa(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sa.get(f,a),void 0!==c)return c;if(c=sa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sa.get(this,d);sa.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sa.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ra.get(a,b),c&&(!d||_.isArray(c)?d=ra.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ra.get(a,c)||ra.access(a,c,{empty:_.Callbacks("once memory").add(function(){ra.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ra.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=["Top","Right","Bottom","Left"],xa=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},ya=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var za="undefined";Y.focusinBubbles="onfocusin"in a;var Aa=/^key/,Ba=/^(?:mouse|pointer|contextmenu)|click/,Ca=/^(?:focusinfocus|focusoutblur)$/,Da=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==za&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(na)||[""],j=b.length;j--;)h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.hasData(a)&&ra.get(a);if(q&&(i=q.events)){for(b=(b||"").match(na)||[""],j=b.length;j--;)if(h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,ra.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Ca.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Ca.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(ra.get(g,"events")||{})[b.type]&&ra.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(ra.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ba.test(e)?this.mouseHooks:Aa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ra.access(d,b);e||d.addEventListener(a,c,!0),ra.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ra.access(d,b)-1;e?ra.access(d,b,e):(d.removeEventListener(a,c,!0),ra.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Ea=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fa=/<([\w:]+)/,Ga=/<|&#?\w+;/,Ha=/<(?:script|style|link)/i,Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,Ja=/^$|\/(?:java|ecma)script/i,Ka=/^true\/(.*)/,La=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ma.optgroup=Ma.option,Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead,Ma.th=Ma.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Ga.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fa.exec(e)||["",""])[1].toLowerCase(),h=Ma[g]||Ma._default,f.innerHTML=h[1]+e.replace(Ea,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Ja.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[ra.expando],e&&(b=ra.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);ra.cache[e]&&delete ra.cache[e]}delete sa.cache[c[sa.expando]]}}}),_.fn.extend({text:function(a){return qa(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ha.test(a)&&!Ma[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ea,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ia.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Ja.test(g.type||"")&&!ra.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(La,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Na,Oa={},Pa=/^margin/,Qa=new RegExp("^("+va+")(?!px)[a-z%]+$","i"),Ra=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];

return e};var Sa=/^(none|table(?!-c[ea]).+)/,Ta=new RegExp("^("+va+")(.*)$","i"),Ua=new RegExp("^([+-])=("+va+")","i"),Va={position:"absolute",visibility:"hidden",display:"block"},Wa={letterSpacing:"0",fontWeight:"400"},Xa=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ua.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wa&&(e=Wa[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sa.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Va,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wa[d]+b]=f[d]||f[d-2]||f[0];return e}},Pa.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qa(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xa(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.pos=b=this.options.duration?_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Ya,Za,$a=/^(?:toggle|show|hide)$/,_a=new RegExp("^(?:([+-])=|)("+va+")([a-z%]*)$","i"),ab=/queueHooks$/,bb=[G],cb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_a.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_a.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cb[c]=cb[c]||[],cb[c].unshift(b)},prefilter:function(a,b){b?bb.unshift(a):bb.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||ra.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=ra.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ra.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Ya=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Ya=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Za||(Za=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Za),Za=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var db,eb,fb=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qa(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===za?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?eb:db)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(na);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),eb={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fb[b]||_.find.attr;fb[b]=function(a,b,d){var e,f;return d||(f=fb[b],fb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fb[b]=f),e}});var gb=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qa(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hb=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(_.isFunction(a)?function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(na)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===za||"boolean"===c)&&(this.className&&ra.set(this,"__className__",this.className),this.className=this.className||a===!1?"":ra.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hb," ").indexOf(b)>=0)return!0;return!1}});var ib=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ib,""):null==c?"":c)):void 0}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jb=_.now(),kb=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,sb={},tb={},ub="*/".concat("*"),vb=a.location.href,wb=rb.exec(vb.toLowerCase())||[];_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vb,type:"GET",isLocal:ob.test(wb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(sb),ajaxTransport:J(tb),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=nb.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||vb)+"").replace(lb,"").replace(qb,wb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(na)||[""],null==l.crossDomain&&(i=rb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===wb[1]&&i[2]===wb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(wb[3]||("http:"===wb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(sb,l,b,v),2===t)return v;j=_.event&&l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!pb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kb.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=mb.test(e)?e.replace(mb,"$1_="+jb++):e+(kb.test(e)?"&":"?")+"_="+jb++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ub+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(tb,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(_.isFunction(a)?function(b){_(this).wrapInner(a.call(this,b))}:function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var xb=/%20/g,yb=/\[\]$/,zb=/\r?\n/g,Ab=/^(?:submit|button|image|reset|file)$/i,Bb=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(xb,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Bb.test(this.nodeName)&&!Ab.test(a)&&(this.checked||!ya.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(zb,"\r\n")}}):{name:b.name,value:c.replace(zb,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cb=0,Db={},Eb={0:200,1223:204},Fb=_.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Db)Db[a]()}),Y.cors=!!Fb&&"withCredentials"in Fb,Y.ajax=Fb=!!Fb,_.ajaxTransport(function(a){var b;return Y.cors||Fb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Db[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Eb[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Db[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gb=[],Hb=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gb.pop()||_.expando+"_"+jb++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gb.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=ga.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Ib=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Ib)return Ib.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Jb=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==za&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jb;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Jb})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qa(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qa.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qa(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Kb=a.jQuery,Lb=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Lb),b&&a.jQuery===_&&(a.jQuery=Kb),_},typeof b===za&&(a.jQuery=a.$=_),_}),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}}))}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,
this.each(h?function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent,f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseInt(a[0],10)*(n.test(a[0])?b/100:1),parseInt(a[1],10)*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:e?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&h(c+d)<n&&(i.horizontal="center"),m>p&&h(e+f)<p&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c,d=this,e=!1,f=!1;for(a.ui.ddmanager&&!this.options.dropBehaviour&&(f=a.ui.ddmanager.drop(this,b)),this.dropped&&(f=this.dropped,this.dropped=!1),c=this.element[0];c&&(c=c.parentNode);)c===document&&(e=!0);return e||"original"!==this.options.helper?("invalid"===this.options.revert&&!f||"valid"===this.options.revert&&f||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").addBack().each(function(){this===b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]!==this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;if("parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=["document"===e.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===e.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===e.containment?0:a(window).scrollLeft())+a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===e.containment?0:a(window).scrollTop())+(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor===Array)e.containment.constructor===Array&&(this.containment=e.containment);else{if(c=a(e.containment),d=c[0],!d)return;b="hidden"!==a(d).css("overflow"),this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName),j=b.pageX,k=b.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(j=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(k=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(j=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(k=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((k-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,k=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,j=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,q>h-p&&i+p>q&&s>j-p&&k+p>s||q>h-p&&i+p>q&&t>j-p&&k+p>t||r>h-p&&i+p>r&&s>j-p&&k+p>s||r>h-p&&i+p>r&&t>j-p&&k+p>t?("inner"!==o.snapMode&&(d=Math.abs(j-t)<=p,e=Math.abs(k-s)<=p,f=Math.abs(h-r)<=p,g=Math.abs(i-q)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=Math.abs(j-s)<=p,e=Math.abs(k-t)<=p,f=Math.abs(h-q)<=p,g=Math.abs(i-r)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m):(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=a(this).data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(d[0].style.zIndex,10)||0,a(d).each(function(a){this.style.zIndex=b+a}),this[0].style.zIndex=b+d.length)}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),jQuery.effects||function(a,b){var c="ui-effects-";a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];

return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&!f[d]&&(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e);return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var b=a(this);return{el:b,start:c(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.call(this,{add:b},c,d,e):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.call(this,{remove:b},c,d,e):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return"boolean"==typeof d||d===b?e?a.effects.animateClass.call(this,d?{add:c}:{remove:c},e,f,g):this._toggleClass(c,d):a.effects.animateClass.call(this,{toggle:c},d,e,f)},switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function d(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function e(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"==typeof b&&!a.effects.effect[b]}a.extend(a.effects,{version:"1.10.0",save:function(a,b){for(var d=0;d<b.length;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(a,d){var e,f;for(f=0;f<d.length;f++)null!==d[f]&&(e=a.data(c+d[f]),e===b&&(e=""),a.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function d(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=c.complete,h=c.mode;(e.is(":hidden")?"hide"===h:"show"===h)?d():g.call(e[0],c,d)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=a.effects.effect[c.effect];return a.fx.off||!g?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):f===!1?this.each(b):this.queue(f||"fx",b)},_show:a.fn.show,show:function(a){if(e(a))return this._show.apply(this,arguments);var b=d.apply(this,arguments);return b.mode="show",this.effect.call(this,b)},_hide:a.fn.hide,hide:function(a){if(e(a))return this._hide.apply(this,arguments);var b=d.apply(this,arguments);return b.mode="hide",this.effect.call(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(e(b)||"boolean"==typeof b||a.isFunction(b))return this.__toggle.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}()}(jQuery),function(a){var b=/up|down|vertical/,c=/up|left|vertical|horizontal/;a.effects.effect.blind=function(d,e){var f,g,h,i=a(this),j=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(i,d.mode||"hide"),l=d.direction||"up",m=b.test(l),n=m?"height":"width",o=m?"top":"left",p=c.test(l),q={},r="show"===k;i.parent().is(".ui-effects-wrapper")?a.effects.save(i.parent(),j):a.effects.save(i,j),i.show(),f=a.effects.createWrapper(i).css({overflow:"hidden"}),g=f[n](),h=parseFloat(f.css(o))||0,q[n]=r?g:0,p||(i.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),q[o]=r?h:g+h),r&&(f.css(n,0),p||f.css(o,h+g)),f.animate(q,{duration:d.duration,easing:d.easing,queue:!1,complete:function(){"hide"===k&&i.hide(),a.effects.restore(i,j),a.effects.removeWrapper(i),e()}})}}(jQuery),function(a){a.effects.effect.bounce=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"effect"),j="hide"===i,k="show"===i,l=b.direction||"up",m=b.distance,n=b.times||5,o=2*n+(k||j?1:0),p=b.duration/o,q=b.easing,r="up"===l||"down"===l?"top":"left",s="up"===l||"left"===l,t=g.queue(),u=t.length;for((k||j)&&h.push("opacity"),a.effects.save(g,h),g.show(),a.effects.createWrapper(g),m||(m=g["top"===r?"outerHeight":"outerWidth"]()/3),k&&(f={opacity:1},f[r]=0,g.css("opacity",0).css(r,s?2*-m:2*m).animate(f,p,q)),j&&(m/=Math.pow(2,n-1)),f={},f[r]=0,d=0;n>d;d++)e={},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q).animate(f,p,q),m=j?2*m:m/2;j&&(e={opacity:0},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q)),g.queue(function(){j&&g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,o+1))),g.dequeue()}}(jQuery),function(a){a.effects.effect.clip=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"hide"),j="show"===i,k=b.direction||"vertical",l="vertical"===k,m=l?"height":"width",n=l?"top":"left",o={};a.effects.save(g,h),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e="IMG"===g[0].tagName?d:g,f=e[m](),j&&(e.css(m,0),e.css(n,f/2)),o[m]=j?f:0,o[n]=j?0:f/2,e.animate(o,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){j||g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.drop=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","opacity","height","width"],g=a.effects.setMode(e,b.mode||"hide"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i?"pos":"neg",l={opacity:h?1:0};a.effects.save(e,f),e.show(),a.effects.createWrapper(e),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0)/2,h&&e.css("opacity",0).css(j,"pos"===k?-d:d),l[j]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.explode=function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),p||n.hide(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=a.effects.setMode(n,b.mode||"hide"),p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;l>f;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;m>g;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}}(jQuery),function(a){a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}}(jQuery),function(a){a.effects.effect.fold=function(b,c){var d,e,f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i="show"===h,j="hide"===h,k=b.size||15,l=/([0-9]+)%/.exec(k),m=!!b.horizFirst,n=i!==m,o=n?["width","height"]:["height","width"],p=b.duration/2,q={},r={};a.effects.save(f,g),f.show(),d=a.effects.createWrapper(f).css({overflow:"hidden"}),e=n?[d.width(),d.height()]:[d.height(),d.width()],l&&(k=parseInt(l[1],10)/100*e[j?0:1]),i&&d.css(m?{height:0,width:k}:{height:k,width:0}),q[o[0]]=i?e[0]:k,r[o[1]]=i?e[1]:0,d.animate(q,p,b.easing).animate(r,p,b.easing,function(){j&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),c()})}}(jQuery),function(a){a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===f&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===f&&d.hide(),a.effects.restore(d,e),c()}})}}(jQuery),function(a){a.effects.effect.pulsate=function(b,c){var d,e=a(this),f=a.effects.setMode(e,b.mode||"show"),g="show"===f,h="hide"===f,i=g||"hide"===f,j=2*(b.times||5)+(i?1:0),k=b.duration/j,l=0,m=e.queue(),n=m.length;for((g||!e.is(":visible"))&&(e.css("opacity",0).show(),l=1),d=1;j>d;d++)e.animate({opacity:l},k,b.easing),l=1-l;e.animate({opacity:l},k,b.easing),e.queue(function(){h&&e.hide(),c()}),n>1&&m.splice.apply(m,[1,0].concat(m.splice(n,j+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f="hide"===e,g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h,outerHeight:i.outerHeight*h,outerWidth:i.outerWidth*h}}),d.effect(b)},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===f?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:"horizontal"!==h?g/100:1,x:"vertical"!==h?g/100:1};e.effect="size",e.queue=!1,e.complete=c,"effect"!==f&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||"effect"!==n,p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0,outerHeight:0,outerWidth:0};"show"===n&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},"toggle"===b.mode&&"show"===n?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||("show"===n?t:d),g.to=b.to||("hide"===n?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}},("box"===p||"both"===p)&&(f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to))),("content"===p||"both"===p)&&f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from),("content"===p||"both"===p)&&(l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x,outerHeight:d.outerHeight*f.from.y,outerWidth:d.outerWidth*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x,outerHeight:d.height*f.to.y,outerWidth:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)})})),g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===g.to.opacity&&g.css("opacity",g.from.opacity),"hide"===n&&g.hide(),a.effects.restore(g,s),o||("static"===r?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return"auto"===c?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;j>d;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.slide=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","width","height"],g=a.effects.setMode(e,b.mode||"show"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l={};a.effects.save(e,f),e.show(),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(e).css({overflow:"hidden"}),h&&e.css(j,k?isNaN(d)?"-"+d:-d:d),l[j]=(h?k?"+=":"-=":k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})}}(jQuery),function(a){var b,c,d,e=0,f={control:a('<div class="colorPicker-picker">&nbsp;</div>'),palette:a('<div id="colorPicker_palette" class="colorPicker-palette" />'),swatch:a('<div class="colorPicker-swatch">&nbsp;</div>'),hexLabel:a('<label for="colorPicker_hex">Hex</label>'),hexField:a('<input type="text" id="colorPicker_hex" />')},g="transparent";a.fn.colorPicker=function(b){return this.each(function(){var c,d=a(this),h=a.extend({},a.fn.colorPicker.defaults,b),i=a.fn.colorPicker.toHex(d.val().length>0?d.val():h.pickerDefault),j=f.control.clone(),k=f.palette.clone().attr("id","colorPicker_palette-"+e),l=f.hexLabel.clone(),m=f.hexField.clone(),n=k[0].id;a.each(h.colors,function(b){c=f.swatch.clone(),h.colors[b]===g?(c.addClass(g).text("X"),a.fn.colorPicker.bindPalette(m,c,g)):(c.css("background-color","#"+this),a.fn.colorPicker.bindPalette(m,c)),c.appendTo(k)}),l.attr("for","colorPicker_hex-"+e),m.attr({id:"colorPicker_hex-"+e,value:i}),m.bind("keydown",function(b){if(13===b.keyCode){var c=a.fn.colorPicker.toHex(a(this).val());a.fn.colorPicker.changeColor(c?c:d.val())}27===b.keyCode&&a.fn.colorPicker.hidePalette()}),m.bind("keyup",function(b){var c=a.fn.colorPicker.toHex(a(b.target).val());a.fn.colorPicker.previewColor(c?c:d.val())}),a('<div class="colorPicker_hexWrap" />').append(l).appendTo(k),k.find(".colorPicker_hexWrap").append(m),a("body").append(k),k.hide(),j.css("background-color",i),j.bind("click",function(){d.is(":not(:disabled)")&&a.fn.colorPicker.togglePalette(a("#"+n),a(this))}),b&&b.onColorChange?j.data("onColorChange",b.onColorChange):j.data("onColorChange",function(){}),d.after(j),d.bind("change",function(){d.next(".colorPicker-picker").css("background-color",a.fn.colorPicker.toHex(a(this).val()))}),d.val(i).hide(),e++})},a.extend(!0,a.fn.colorPicker,{toHex:function(a){if(a.match(/[0-9A-F]{6}|[0-9A-F]{3}$/i))return"#"===a.charAt(0)?a:"#"+a;if(!a.match(/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/))return!1;var b=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)],c=function(a){if(a.length<2)for(var b=0,c=2-a.length;c>b;b++)a="0"+a;return a};if(3===b.length){var d=c(b[0].toString(16)),e=c(b[1].toString(16)),f=c(b[2].toString(16));return"#"+d+e+f}},checkMouse:function(d){var e=c,f=a(d.target).parents("#"+e.attr("id")).length;d.target===a(e)[0]||d.target===b[0]||f>0||a.fn.colorPicker.hidePalette()},hidePalette:function(){a(document).unbind("mousedown",a.fn.colorPicker.checkMouse),a(".colorPicker-palette").hide()},showPalette:function(c){var d=b.prev("input").val();c.css({top:b.offset().top+b.outerHeight(),left:b.offset().left}),a("#color_value").val(d),c.show(),a(document).bind("mousedown",a.fn.colorPicker.checkMouse)},togglePalette:function(d,e){e&&(b=e),c=d,c.is(":visible")?a.fn.colorPicker.hidePalette():a.fn.colorPicker.showPalette(d)},changeColor:function(c){b.css("background-color",c),b.prev("input").val(c).change(),a.fn.colorPicker.hidePalette(),b.data("onColorChange").call(b,a(b).prev("input").attr("id"),c)},previewColor:function(a){b.css("background-color",a)},bindPalette:function(c,e,f){f=f?f:a.fn.colorPicker.toHex(e.css("background-color")),e.bind({click:function(){d=f,a.fn.colorPicker.changeColor(f)},mouseover:function(){d=c.val(),a(this).css("border-color","#598FEF"),c.val(f),a.fn.colorPicker.previewColor(f)},mouseout:function(){a(this).css("border-color","#000"),c.val(b.css("background-color")),c.val(d),a.fn.colorPicker.previewColor(d)}})}}),a.fn.colorPicker.defaults={pickerDefault:"FFFFFF",colors:["000000","993300","333300","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","999999","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFFF","99CCFF","FFFFFF"],addColors:[]}}(jQuery),!function(a,b){"use strict";function c(a,c){Date.now||(Date.now=function(){return(new Date).getTime()}),a.utils.each(["on","off"],function(d){a.utils[d]=function(a,e,f){c(a)[d](e,function(a){var d=c.extend({},a.originalEvent,a);d.button===b&&(d.button=a.which-1),f.call(this,d)})}}),a.Instance.prototype.trigger=function(a,b){var d=c(this.element);return d.has(b.target).length&&(d=c(b.target)),d.trigger({type:a,gesture:b})},c.fn.hammer=function(b){return this.each(function(){var d=c(this),e=d.data("hammer");e?e&&b&&a.utils.extend(e.options,b):d.data("hammer",new a(this,b||{}))})}}"function"==typeof define&&define.amd?define(["hammerjs","jquery"],c):c(a.Hammer,a.jQuery||a.Zepto)}(window),function(a,b){"use strict";function c(){if(!d.READY){d.event.determineEventTypes();for(var a in d.gestures)d.gestures.hasOwnProperty(a)&&d.detection.register(d.gestures[a]);d.event.onTouch(d.DOCUMENT,d.EVENT_MOVE,d.detection.detect),d.event.onTouch(d.DOCUMENT,d.EVENT_END,d.detection.detect),d.READY=!0}}var d=function(a,b){return new d.Instance(a,b||{})};d.defaults={stop_browser_behavior:{userSelect:"none",touchCallout:"none",touchAction:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.EVENT_TYPES={},d.DIRECTION_DOWN="down",d.DIRECTION_LEFT="left",d.DIRECTION_UP="up",d.DIRECTION_RIGHT="right",d.POINTER_MOUSE="mouse",d.POINTER_TOUCH="touch",d.POINTER_PEN="pen",d.EVENT_START="start",d.EVENT_MOVE="move",d.EVENT_END="end",d.DOCUMENT=document,d.plugins={},d.READY=!1,d.Instance=function(a,b){var e=this;return c(),this.element=a,this.enabled=!0,this.options=d.utils.extend(d.utils.extend({},d.defaults),b||{}),this.options.stop_browser_behavior&&d.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),d.event.onTouch(a,d.EVENT_START,function(a){e.enabled&&d.detection.startDetect(e,a)}),this},d.Instance.prototype={on:function(a,b){for(var c=a.split(" "),d=0;c.length>d;d++)this.element.addEventListener(c[d],b,!1);return this},off:function(a,b){for(var c=a.split(" "),d=0;c.length>d;d++)this.element.removeEventListener(c[d],b,!1);return this},trigger:function(a,b){var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return d.utils.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this}};var e=null,f=!1,g=!1;d.event={bindDom:function(a,b,c){for(var d=b.split(" "),e=0;d.length>e;e++)a.addEventListener(d[e],c,!1)},onTouch:function(a,b,c){var h=this;this.bindDom(a,d.EVENT_TYPES[b],function(i){var j=i.type.toLowerCase();if(!j.match(/mouse/)||!g){(j.match(/touch/)||j.match(/pointerdown/)||j.match(/mouse/)&&1===i.which)&&(f=!0),j.match(/touch|pointer/)&&(g=!0);var k=0;f&&(d.HAS_POINTEREVENTS&&b!=d.EVENT_END?k=d.PointerEvent.updatePointer(b,i):j.match(/touch/)?k=i.touches.length:g||(k=j.match(/up/)?0:1),k>0&&b==d.EVENT_END?b=d.EVENT_MOVE:k||(b=d.EVENT_END),k||null===e?e=i:i=e,c.call(d.detection,h.collectEventData(a,b,i)),d.HAS_POINTEREVENTS&&b==d.EVENT_END&&(k=d.PointerEvent.updatePointer(b,i))),k||(e=null,f=!1,g=!1,d.PointerEvent.reset())}})},determineEventTypes:function(){var a;a=d.HAS_POINTEREVENTS?d.PointerEvent.getEvents():["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],d.EVENT_TYPES[d.EVENT_START]=a[0],d.EVENT_TYPES[d.EVENT_MOVE]=a[1],d.EVENT_TYPES[d.EVENT_END]=a[2]},getTouchList:function(a){return d.HAS_POINTEREVENTS?d.PointerEvent.getTouchList():a.touches?a.touches:[{identifier:1,pageX:a.pageX,pageY:a.pageY,target:a.target}]},collectEventData:function(a,b,c){var e=this.getTouchList(c,b),f=d.POINTER_TOUCH;return(c.type.match(/mouse/)||d.PointerEvent.matchType(d.POINTER_MOUSE,c))&&(f=d.POINTER_MOUSE),{
center:d.utils.getCenter(e),timeStamp:(new Date).getTime(),target:c.target,touches:e,eventType:b,pointerType:f,srcEvent:c,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return d.detection.stopDetect()}}}},d.PointerEvent={pointers:{},getTouchList:function(){var a=this,b=[];return Object.keys(a.pointers).sort().forEach(function(c){b.push(a.pointers[c])}),b},updatePointer:function(a,b){return a==d.EVENT_END?delete this.pointers[b.pointerId]:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b),Object.keys(this.pointers).length},matchType:function(a,b){if(!b.pointerType)return!1;var c={};return c[d.POINTER_MOUSE]=b.pointerType==b.MSPOINTER_TYPE_MOUSE||b.pointerType==d.POINTER_MOUSE,c[d.POINTER_TOUCH]=b.pointerType==b.MSPOINTER_TYPE_TOUCH||b.pointerType==d.POINTER_TOUCH,c[d.POINTER_PEN]=b.pointerType==b.MSPOINTER_TYPE_PEN||b.pointerType==d.POINTER_PEN,c[a]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},d.utils={extend:function(a,b){for(var c in b)a[c]=b[c];return a},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){for(var b=[],c=[],d=0,e=a.length;e>d;d++)b.push(a[d].pageX),c.push(a[d].pageY);return{pageX:(Math.min.apply(Math,b)+Math.max.apply(Math,b))/2,pageY:(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.pageX-b.pageX),e=Math.abs(a.pageY-b.pageY);return c>=e?a.pageX-b.pageX>0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT:a.pageY-b.pageY>0?d.DIRECTION_UP:d.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==d.DIRECTION_UP||a==d.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){var c,d=["webkit","khtml","moz","ms","o",""];if(b&&a.style){for(var e=0;d.length>e;e++)for(var f in b)b.hasOwnProperty(f)&&(c=f,d[e]&&(c=d[e]+c.substring(0,1).toUpperCase()+c.substring(1)),a.style[c]=b[f]);"none"==b.userSelect&&(a.onselectstart=function(){return!1})}}},d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:d.utils.extend({},b),lastEvent:!1,name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);for(var b=this.current.inst.options,c=0,e=this.gestures.length;e>c;c++){var f=this.gestures[c];if(!this.stopped&&b[f.name]!==!1&&f.handler.call(f,a,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=a),a.eventType==d.EVENT_END&&!a.touches.length-1&&this.stopDetect(),a}},stopDetect:function(){this.previous=d.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(a){var b=this.current.startEvent;if(b&&(a.touches.length!=b.touches.length||a.touches===b.touches)){b.touches=[];for(var c=0,e=a.touches.length;e>c;c++)b.touches.push(d.utils.extend({},a.touches[c]))}var f=a.timeStamp-b.timeStamp,g=a.center.pageX-b.center.pageX,h=a.center.pageY-b.center.pageY,i=d.utils.getVelocity(f,g,h);return d.utils.extend(a,{deltaTime:f,deltaX:g,deltaY:h,velocityX:i.x,velocityY:i.y,distance:d.utils.getDistance(b.center,a.center),angle:d.utils.getAngle(b.center,a.center),direction:d.utils.getDirection(b.center,a.center),scale:d.utils.getScale(b.touches,a.touches),rotation:d.utils.getRotation(b.touches,a.touches),startEvent:b}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),d.utils.extend(d.defaults,c),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},d.gestures=d.gestures||{},d.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(a,b){switch(a.eventType){case d.EVENT_START:clearTimeout(this.timer),d.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==d.detection.current.name&&b.trigger("hold",a)},b.options.hold_timeout);break;case d.EVENT_MOVE:a.distance>b.options.hold_threshold&&clearTimeout(this.timer);break;case d.EVENT_END:clearTimeout(this.timer)}}},d.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,doubletap_distance:20,doubletap_interval:300},handler:function(a,b){if(a.eventType==d.EVENT_END){var c=d.detection.previous;if(a.deltaTime>b.options.tap_max_touchtime||a.distance>b.options.tap_max_distance)return;d.detection.current.name=c&&"tap"==c.name&&a.timeStamp-c.lastEvent.timeStamp<b.options.doubletap_interval&&a.distance<b.options.doubletap_distance?"doubletap":"tap",b.trigger(d.detection.current.name,a)}}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(a,b){if(a.eventType==d.EVENT_END){if(b.options.swipe_max_touches>0&&a.touches.length>b.options.swipe_max_touches)return;(a.velocityX>b.options.swipe_velocity||a.velocityY>b.options.swipe_velocity)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},d.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1},triggered:!1,handler:function(a,c){if(d.detection.current.name!=this.name&&this.triggered)return c.trigger(this.name+"end",a),this.triggered=!1,b;if(!(c.options.drag_max_touches>0&&a.touches.length>c.options.drag_max_touches))switch(a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:if(a.distance<c.options.drag_min_distance&&d.detection.current.name!=this.name)return;d.detection.current.name=this.name;var e=d.detection.current.lastEvent.direction;c.options.drag_lock_to_axis&&e!==a.direction&&(a.direction=d.utils.isVertical(e)?0>a.deltaY?d.DIRECTION_UP:d.DIRECTION_DOWN:0>a.deltaX?d.DIRECTION_LEFT:d.DIRECTION_RIGHT),this.triggered||(c.trigger(this.name+"start",a),this.triggered=!0),c.trigger(this.name,a),c.trigger(this.name+a.direction,a),(c.options.drag_block_vertical&&d.utils.isVertical(a.direction)||c.options.drag_block_horizontal&&!d.utils.isVertical(a.direction))&&a.preventDefault();break;case d.EVENT_END:this.triggered&&c.trigger(this.name+"end",a),this.triggered=!1}}},d.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(a,c){if(d.detection.current.name!=this.name&&this.triggered)return c.trigger(this.name+"end",a),this.triggered=!1,b;if(!(2>a.touches.length))switch(c.options.transform_always_block&&a.preventDefault(),a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:var e=Math.abs(1-a.scale),f=Math.abs(a.rotation);if(c.options.transform_min_scale>e&&c.options.transform_min_rotation>f)return;d.detection.current.name=this.name,this.triggered||(c.trigger(this.name+"start",a),this.triggered=!0),c.trigger(this.name,a),f>c.options.transform_min_rotation&&c.trigger("rotate",a),e>c.options.transform_min_scale&&(c.trigger("pinch",a),c.trigger("pinch"+(1>a.scale?"in":"out"),a));break;case d.EVENT_END:this.triggered&&c.trigger(this.name+"end",a),this.triggered=!1}}},d.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(a,c){return c.options.prevent_mouseevents&&a.pointerType==d.POINTER_MOUSE?(a.stopDetect(),b):(c.options.prevent_default&&a.preventDefault(),a.eventType==d.EVENT_START&&c.trigger(this.name,a),b)}},d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==d.EVENT_END&&b.trigger(this.name,a)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=d:(a.Hammer=d,"function"==typeof a.define&&a.define.amd&&a.define("hammer",[],function(){return d}))}(this),function(a,b){"use strict";a!==b&&(Hammer.event.bindDom=function(c,d,e){a(c).on(d,function(a){var c=a.originalEvent||a;c.pageX===b&&(c.pageX=a.pageX,c.pageY=a.pageY),c.target||(c.target=a.target),c.which===b&&(c.which=c.button),c.preventDefault||(c.preventDefault=a.preventDefault),c.stopPropagation||(c.stopPropagation=a.stopPropagation),e.call(this,c)})},Hammer.Instance.prototype.on=function(b,c){return a(this.element).on(b,c)},Hammer.Instance.prototype.off=function(b,c){return a(this.element).off(b,c)},Hammer.Instance.prototype.trigger=function(b,c){var d=a(this.element);return d.has(c.target).length&&(d=a(c.target)),d.trigger({type:b,gesture:c})},a.fn.hammer=function(b){return this.each(function(){var c=a(this),d=c.data("hammer");d?d&&b&&Hammer.utils.extend(d.options,b):c.data("hammer",new Hammer(this,b||{}))})})}(window.jQuery||window.Zepto),function(a){function b(b){if("string"==typeof b.data){var c=b.handler,d=b.data.toLowerCase().split(" "),e=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color"];b.handler=function(b){if(this===b.target||!(/textarea|select/i.test(b.target.nodeName)||a.inArray(b.target.type,e)>-1)){var f="keypress"!==b.type&&a.hotkeys.specialKeys[b.which],g=String.fromCharCode(b.which).toLowerCase(),h="",i={};b.altKey&&"alt"!==f&&(h+="alt+"),b.ctrlKey&&"ctrl"!==f&&(h+="ctrl+"),b.metaKey&&!b.ctrlKey&&"meta"!==f&&(h+="meta+"),b.shiftKey&&"shift"!==f&&(h+="shift+"),f?i[h+f]=!0:(i[h+g]=!0,i[h+a.hotkeys.shiftNums[g]]=!0,"shift+"===h&&(i[a.hotkeys.shiftNums[g]]=!0));for(var j=0,k=d.length;k>j;j++)if(i[d[j]])return c.apply(this,arguments)}}}}a.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},a.each(["keydown","keyup","keypress"],function(){a.event.special[this]={add:b}})}(jQuery),MM.JsonStorage=function(a){"use strict";var b=this;b.setItem=function(b,c){return a.setItem(b,JSON.stringify(c))},b.getItem=function(b){var c=a.getItem(b);try{return JSON.parse(c)}catch(d){}},b.remove=function(b){a.removeItem(b)},b.removeKeysWithPrefix=function(b){if(_.isEmpty(b))return 0;var c=Object.keys(a),d=_.filter(c,function(a){return 0===a.indexOf(b)});return _.each(d,function(b){a.removeItem(b)}),d.length}},jQuery.fn.keyActionsWidget=function(){"use strict";var a=this;this.find("[data-mm-role~=dismiss-modal]").click(function(){a.modal("hide")}),a.on("show",function(){a.find(".active").removeClass("active"),a.find(".carousel-inner").children(".item").first().addClass("active")})},MM.LayoutExportController=function(a,b,c,d,e){"use strict";var f=this,g="Map",h=function(a){return a?a.toUpperCase()+" Export":"Export"},i=function(b){return a[b].exporter||a[b]},j=function(b,c,d){var e={"output-url":c};return a[b].processor?a[b].processor(_.extend(e,d)):jQuery.Deferred().resolve(e).promise()};f.startExport=function(a,f){var k=jQuery.Deferred(),l=h(a),m=function(){return"pending"!==k.state()},n=function(a,b){"file-too-large"===a&&e&&e.step("layout-export","file-too-large"),d.log(g,l+" failed",a),k.reject(a,b)},o=function(a){k.notify("Uploading "+(a||""))},p=i(a)(),q=_.extend({},p,f);return _.isEmpty(p)?k.reject("empty").promise():(d.log(g,l+" started"),k.notify("Setting up the export"),e&&e.setFunnelId("export-"+a),b.generateExportConfiguration(a).then(function(b){var e=b.s3UploadIdentifier;c.save(JSON.stringify(q),b,{isPrivate:!0}).then(function(){var h=d.timer(g,l+":polling-completed"),i=d.timer(g,l+":polling-timeout"),o=d.timer(g,l+":polling-error"),p=function(){h.end(),d.log(g,l+" completed"),j(a,b.signedOutputUrl,f).then(function(a){k.resolve(a,e)},function(a){n(a,e)})};k.notify("Processing your export"),c.poll(b.signedErrorListUrl,{stoppedSemaphore:m,sleepPeriod:15e3}).then(function(){o.end(),n("generation-error",e)}),c.poll(b.signedOutputListUrl,{stoppedSemaphore:m,sleepPeriod:2500}).then(p,function(a){i.end(),n(a,e)})},n,o)},n),k.promise())}},jQuery.fn.layoutExportWidget=function(a){"use strict";return this.each(function(){var b=jQuery(this),c=function(){var a=b.find("[data-mm-role=format-selector]");return a&&a.val()?a.val():b.data("mm-format")},d=b.find("[data-mm-role~=start-export]"),e=function(a){b.find(".visible").hide(),b.find(".visible."+a).show().find("[data-mm-show-focus]").focus(),b.trigger(jQuery.Event("stateChanged",{state:a}))},f=function(a){_.each(a,function(a,c){b.find("[data-mm-role~="+c+"]").each(function(){var b=jQuery(this);"A"===b.prop("tagName")?b.attr("href",a):"INPUT"===b.prop("tagName")||"TEXTAREA"===b.prop("tagName")?b.val(a).attr("data-mm-val",a):"DIV"===b.prop("tagName")&&(_.contains(b.attr("data-mm-role").split(" "),a)?b.show():b.hide())})}),e("done")},g=function(a){b.find("[data-mm-role=publish-progress-message]").text(a)},h=function(){var a=b.find("form[data-mm-role~=export-parameters]"),c={};return a&&a.find("button.active").add(a.find("select")).add(a.find("input")).each(function(){c[jQuery(this).attr("name")]=jQuery(this).val()||jQuery(this).attr("placeholder")}),c},i=function(a,d){d||"empty"===a||(a="network-error",d="NO-FILE-ID"),b.find("[data-mm-role=contact-email]").attr("href",function(){return"mailto:"+jQuery(this).text()+"?subject=MindMup%20"+c().toUpperCase()+"%20Export%20Error%20"+d}),b.find("[data-mm-role=file-id]").html(d),b.find(".error span").hide(),e("error");var f=b.find("[data-mm-role="+a+"]");f.length>0?f.show():b.find("[data-mm-role=error-message]").html(a).show()},j=function(){e("inprogress"),a.startExport(c(),{"export":h()}).then(f,i,g)};b.find("form").submit(function(){return!1}),d.click(j).keydown("space",j),b.modal({keyboard:!0,show:!1,backdrop:"static"}),b.find("[data-mm-role=set-state]").click(function(){e(jQuery(this).attr("data-mm-state"))}),b.on("show",function(a){this===a.target&&e("initial")})})},MM.buildMapLayoutExporter=function(a,b){"use strict";return function(){var c=a.getCurrentLayout();return c&&c.nodes&&_.each(c.nodes,function(a){a.attr&&a.attr.icon&&a.attr.icon.url&&(a.attr.icon.url=b(a.attr.icon.url))}),c}},MM.buildMapContentExporter=function(a,b){"use strict";return function(){var c=MAPJS.content(JSON.parse(JSON.stringify(a.getActiveContent())));return c.traverse(function(a){a.attr&&a.attr.icon&&a.attr.icon.url&&(a.attr.icon.url=b(a.attr.icon.url))}),c}},MM.ajaxResultProcessor=function(a){"use strict";var b=jQuery.Deferred();return jQuery.ajax({url:a["output-url"],dataType:"json"}).then(function(c){b.resolve(_.extend({},a,c))},function(){b.reject("generation-error")}),b.promise()},MM.layoutExportDecorators={},MM.layoutExportDecorators.twitterIntentResultDecorator=function(a){"use strict";a["twitter-url"]="https://twitter.com/intent/tweet?text="+encodeURIComponent(a["export"].title)+"&url="+encodeURIComponent(a["index-html"])+"&source=mindmup.com&related=mindmup&via=mindmup"},MM.layoutExportDecorators.facebookResultDecorator=function(a){"use strict";a["facebook-url"]="https://www.facebook.com/dialog/share_open_graph?app_id=621299297886954&display=popup&action_type=og.likes&action_properties=%7B%22object%22%3A%22"+encodeURIComponent(a["index-html"])+"%22%7D&redirect_uri="+encodeURIComponent("http://www.mindmup.com/fb")},MM.layoutExportDecorators.googlePlusResultDecorator=function(a){"use strict";a["google-plus-url"]="https://plus.google.com/share?url="+encodeURIComponent(a["index-html"])},MM.layoutExportDecorators.linkedinResultDecorator=function(a){"use strict";a["linkedin-url"]="http://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(a["index-html"])+"&title="+encodeURIComponent(a["export"].title)+"&summary="+encodeURIComponent(a["export"].description)+"&source=MindMup"},MM.layoutExportDecorators.tumblrResultDecorator=function(a){"use strict";a["tumblr-url"]="http://www.tumblr.com/share/link?url="+encodeURIComponent(a["index-html"])+"&name="+encodeURIComponent(a["export"].title)+"&description="+encodeURIComponent(a["export"].description)},MM.layoutExportDecorators.pinterestResultDecorator=function(a){"use strict";a["pinterest-url"]="https://pinterest.com/pin/create/button/?media="+encodeURIComponent(a["thumb-png"])+"&url="+encodeURIComponent(a["index-html"])+"&is_video=false&description="+encodeURIComponent(a["export"].description)},MM.layoutExportDecorators.embedResultDecorator=function(a){"use strict";a["embed-markup"]='<iframe src="'+a["index-html"]+'"></iframe>'},MM.layoutExportDecorators.gmailResultDecorator=function(a){"use strict";a["gmail-index-html"]="https://mail.google.com/mail/u/0/?view=cm&ui=2&cmid=0&fs=1&tf=1&body="+encodeURIComponent(a["export"].title+"\n\n")+encodeURIComponent(a["index-html"])},MM.layoutExportDecorators.emailResultDecorator=function(a){"use strict";a["email-index-html"]="mailto:?subject="+encodeURIComponent(a["export"].title)+"&body="+encodeURIComponent(a["export"].description+":\r\n\r\n")+encodeURIComponent(a["index-html"])},MM.layoutExportDecorators.gmailZipResultDecorator=function(a){"use strict";a["gmail-archive-zip"]="https://mail.google.com/mail/u/0/?view=cm&ui=2&cmid=0&fs=1&tf=1&body="+encodeURIComponent(a["export"].title+"\n\n")+encodeURIComponent(a["archive-zip"])},MM.layoutExportDecorators.emailZipResultDecorator=function(a){"use strict";a["email-archive-zip"]="mailto:?subject="+encodeURIComponent(a["export"].title)+"&body="+encodeURIComponent(a["export"].description+":\r\n\r\n")+encodeURIComponent(a["archive-zip"])},MM.sendExportDecorators={},MM.sendExportDecorators.emailOutputUrlDecorator=function(a){"use strict";a["email-output-url"]="mailto:?&body="+encodeURIComponent(a["output-url"]+"\n\nThe link will be valid for 24 hours")},MM.sendExportDecorators.gmailOutputUrlResultDecorator=function(a){"use strict";a["gmail-output-url"]="https://mail.google.com/mail/u/0/?view=cm&ui=2&cmid=0&fs=1&tf=1&body="+encodeURIComponent(a["output-url"]+"\n\n the link will be valid for 24 hours")},MM.buildDecoratedResultProcessor=function(a,b){"use strict";return function(c){var d=jQuery.Deferred();return a(c).then(function(a){_.each(b,function(b){b(a)}),d.resolve(a)},d.reject),d.promise()}},jQuery.fn.legacyAlertWidget=function(a,b,c,d){"use strict";return jQuery.each(this,function(){var c,e=jQuery(this);e.detach(),a.getItem(b)||(e.find('[data-mm-role="legacy-alert-hide"]').click(function(){a.setItem(b,!0),c&&d.hide(c)}),c=d.show(e,"info"))})},MM.LocalStorageClipboard=function(a,b,c,d){"use strict";var e=this,f=function(a){return JSON.parse(JSON.stringify(a))},g=function(a,b){var c;return a?_.isArray(a)?_.map(a,function(a){return g(a,b)}):(c=f(a),a.attr&&a.attr.icon&&a.attr.icon.url&&(c.attr.icon.url=b(a.attr.icon.url)),a.ideas&&(c.ideas={},_.each(a.ideas,function(a,d){c.ideas[d]=g(a,b)})),c):a};e.get=function(c){return c?a.getItem(b):g(a.getItem(b),d.storeResource)},e.put=function(e){try{a.setItem(b,g(e,d.getResource))}catch(f){c.show("Clipboard error","Insufficient space to copy object - saving the map might help up free up space","error")}}},jQuery.fn.newFromClipboardWidget=function(a,b,c){"use strict";var d=jQuery(this);return d.click(function(){var d,e=a.get(!0);e&&(_.isArray(e)&&e.length>1?(d=MAPJS.content(JSON.parse(JSON.stringify(MM.Maps["default"]))),d.pasteMultiple(1,e)):(_.isArray(e)&&(e=e[0]),e.attr&&e.attr.style&&(e.attr.style=void 0),d=MAPJS.content(e)),c.compress(d),b.setMap(d))}),d},$.fn.localStorageOpenWidget=function(a,b){"use strict";var c=this,d=this.find("[data-mm-role=template]"),e=d.parent(),f=this.find("[data-mm-role=status]"),g=function(a,b,c,d){b=b||"block";var e='<div class="alert fade-in alert-'+b+'"><button type="button" class="close" data-dismiss="alert">&#215;</button><strong>'+a+"</strong>";d&&c&&(e=e+'&nbsp;<a href="#" data-mm-role="auth">'+c+"</a>"),e+="</div>",f.html(e),$("[data-mm-role=auth]").click(function(){f.empty(),d()})},h=function(b,c,d){a.restore(b,c,d),k()},i=function(b,c,d){var e=a.load(b);a.remove(b),k(),g('Map "'+d+'" removed.',"info","Undo",h.bind(void 0,b,e,c))},j=function(a){f.empty();var g=[];_.each(a,function(a,b){g.push({id:b,title:a.d||"map",modifiedDate:1e3*a.t,info:a})}),g=_.sortBy(g,function(a){return a&&a.modifiedDate}).reverse(),g&&g.length>0?_.each(g,function(a){var f;a&&(f=d.clone().appendTo(e),f.find("a[data-mm-role=file-link]").text(a.title).click(function(){c.modal("hide"),b.loadMap(a.id)}),f.find("[data-mm-role=modification-status]").text(new Date(a.modifiedDate).toLocaleString()),f.find("[data-mm-role=map-delete]").click(i.bind(void 0,a.id,a.info,a.title)))}):$('<tr><td colspan="3">No maps found in Browser storage</td></tr>').appendTo(e)},k=function(){e.empty(),f.html('<i class="icon-spinner icon-spin"/> Retrieving files...');try{j(a.list())}catch(b){g("Unable to retrieve files from browser storage","error")}};return d.detach(),c.on("show",function(){k()}),c},MM.MapController=function(a){"use strict";observable(this);var b,c,d,e=this,f=this.dispatchEvent,g={},h=[].concat(a),i=function(a){var b;for(b=0;b<h.length;b++)if(h[b].recognises(a))return h[b]},j=function(a,c,e){d=e,b=!1,e=e||{},e.autoSave||a.addEventListener("changed",function(){b=!0}),g={idea:a,mapId:e.editable&&c},f("mapLoaded",c,a,e)};e.addMapSource=function(a){h.push(a)},e.validMapSourcePrefixesForSaving="abgp",e.setMap=j,e.isMapLoadingConfirmationRequired=function(){return b},e.currentMapId=function(){return g&&g.mapId},e.loadMap=function(a,d){var g=function(b){var c=b&&b.loaded||0,d=b&&b.total||1,e=b&&b.loaded?Math.round(100*c/d)+"%":b;f("mapLoading",a,e)},h=function(b,i){var k=function(){f("mapLoading",a),c.loadMap(a,!0).then(j,h,g)},l=c.description?" ["+c.description+"]":"";"no-access-allowed"===b?f("mapLoadingUnAuthorized",a,b):"failed-authentication"===b?f("authorisationFailed",c.description,k):"not-authenticated"===b?f("authRequired",c.description,k):"map-load-redirect"===b?e.loadMap(i,d):"user-cancel"===b?f("mapLoadingCancelled"):(i=i?i+l:l,f("mapLoadingFailed",a,b,i))};return a!==this.currentMapId()||d?!d&&b?void f("mapLoadingConfirmationRequired",a):(c=i(a))?(f("mapLoading",a),void c.loadMap(a).then(j,h,g)):void f("mapIdNotRecognised",a):void f("mapLoadingCancelled",a)},this.publishMap=function(a,h){var j=function(a,c){var h=d&&d.reloadOnSave;c=c||{},d=c,b=!1,g.mapId=a,f("mapSaved",a,g.idea,c),(h||c.reloadOnSave)&&e.loadMap(a,!0)},k=function(a){var b=a&&a.loaded||0,d=a&&a.total||1,e=a&&a.loaded?Math.round(100*b/d)+"%":a;f("mapSaving",c.description,e)},l=function(a,b){var d=function(){f("mapSaving",c.description),c.saveMap(g.idea,g.mapId,!0).then(j,l,k)},e=c.description||"";b=b?b+e:e,"no-access-allowed"===a?f("mapSavingUnAuthorized",function(){f("mapSaving",c.description,"Creating a new file"),c.saveMap(g.idea,"new",!0).then(j,l,k)}):"failed-authentication"===a?f("authorisationFailed",b,d):"not-authenticated"===a?f("authRequired",b,d):"file-too-large"===a?f("mapSavingTooLarge",c.description):"user-cancel"===a?f("mapSavingCancelled"):f("mapSavingFailed",a,b)},m=h?"":g.mapId;c=i(a||g.mapId),f("mapSaving",c.description),c.saveMap(g.idea,m).then(j,l,k)}},MM.MapController.activityTracking=function(a,b){"use strict";var c,d,e=function(a){return 1===a.id},f=function(a){return a.title&&-1===a.title.search(/MindMup|Lancelot|cunning|brilliant|Press Space|famous|Luke|daddy/)},g=function(a){return!f(a)},h=function(a){return e(a)&&a.find(f).length>5&&a.find(g).length<3},i=!1;a.addEventListener("mapLoaded",function(a,e){b.log("Map","View",a),c=h(e),d!==e&&(d=e,e.addEventListener("changed",function(a,c){i||(i=!0,b.log("Map","Edit")),b.log(["Map",a].concat(c))}))}),a.addEventListener("mapLoadingFailed",function(a,c,d){var e="Error loading map document ["+a+"] "+JSON.stringify(c);d&&(e=e+" label ["+d+"]"),b.error(e)}),a.addEventListener("mapSaving",b.log.bind(b,"Map","Save Attempted")),a.addEventListener("mapSaved",function(a,d){i=!1,h(d)&&!c?b.log("Map","Created Relevant",a):c?b.log("Map","Saved Relevant",a):b.log("Map","Saved Irrelevant",a)}),a.addEventListener("mapSavingFailed",function(a,c){b.error("Map save failed ("+c+")"+JSON.stringify(a))}),a.addEventListener("networkError",function(a){b.log("Map","networkError",JSON.stringify(a))})},MM.MapController.alerts=function(a,b,c){"use strict";var d,e,f=function(a,e,f,g){b.hide(d),c.showModalToConfirm("Please confirm",a,e).then(f,g)},g=function(a,c){b.hide(d),d=b.show(a,c,"error")};a.addEventListener("mapLoadingConfirmationRequired",function(b){var c=/^new/.test(b);f("There are unsaved changes in the current map. Please confirm that you would like to "+(c?"create a new map":"load a different map."),c?"Create New":"Load anyway",function(){a.loadMap(b,!0)})}),a.addEventListener("mapLoading",function(a,c){b.hide(d),d=b.show('<i class="icon-spinner icon-spin"></i>&nbsp;Please wait, loading the map...',c||"")}),a.addEventListener("mapSaving",function(a,c){b.hide(d),d=b.show('<i class="icon-spinner icon-spin"></i>&nbsp;Please wait, saving the map...',c||"")}),a.addEventListener("authRequired",function(a,b){f("This operation requires authentication through "+a+', an external storage provider. Please click on Authenticate below to go to the external provider and allow MindMup to access your account. You can learn more about authentication requirements on our <a href="http://blog.mindmup.com/p/storage-options.html" target="_blank">Storage Options</a> page.',"Authenticate",b)}),a.addEventListener("mapSaved mapLoaded",function(){b.hide(d)}),a.addEventListener("authorisationFailed",function(a,b){f("The operation was rejected by "+a+" storage. Click on Reauthenticate to try using different credentials or license.","Reauthenticate",b)}),a.addEventListener("mapLoadingUnAuthorized",function(){g("The map could not be loaded.",'You do not have the right to view this map. <a target="_blank" href="http://blog.mindmup.com/p/how-to-resolve-common-networking.html">Click here for some common solutions</a>')}),a.addEventListener("mapSavingUnAuthorized",function(a){f("You do not have the right to edit this map","Save a copy",a)}),a.addEventListener("mapLoadingFailed",function(a,b,c){g("Unfortunately, there was a problem loading the map."+c,'If you are not experiencing network problems, <a href="http://blog.mindmup.com/p/how-to-resolve-common-networking.html" target="blank">click here for some common ways to fix this</a>')}),a.addEventListener("mapSavingCancelled mapLoadingCancelled",function(){b.hide(d)}),a.addEventListener("mapSavingTooLarge",function(b){"S3_CORS"===b?f('The map is too large for anonymous MindMup storage. Maps larger than 100 KB can only be stored to MindMup Gold, or a third-party cloud storage. (<a href="http://blog.mindmup.com/p/storage-options.html" target="_blank">more info on storage options</a>)',"Save to MindMup Gold",function(){a.publishMap("b")},function(){a.dispatchEvent("mapSavingCancelled")}):g("Unfortunately, the file is too large for the selected storage.","Please select a different storage provider from File -&gt; Save As menu")}),a.addEventListener("mapSavingFailed",function(a,b,c){var d={"network-error":["There was a network problem communicating with the server.",'If you are not experiencing network problems, <a href="http://blog.mindmup.com/p/how-to-resolve-common-networking.html" target="blank">click here for some common ways to fix this</a>. Don\'t worry, you have an auto-saved version in this browser profile that will be loaded the next time you open the map']},e=d[a]||["Unfortunately, there was a problem saving the map.","Please try again later. We have sent an error report and we will look into this as soon as possible"];c?f(e[0],e[1],c):g(e[0],e[1])}),a.addEventListener("mapLoading mapSaving",function(){b.hide(e),e=0})},function(){"use strict";var a=jQuery.ajaxSettings.xhr.bind(jQuery.ajaxSettings);jQuery.ajaxSettings.xhr=function(){var b=a();return b instanceof XMLHttpRequest&&b.addEventListener("progress",this.progress,!1),b.upload&&b.upload.addEventListener("progress",this.progress,!1),b}}(),jQuery.fn.mapStatusWidget=function(a,b){"use strict";var c,d=this;a.addEventListener("mapSaved mapLoaded",function(a,b,e){e.editable?d.removeClass("map-changed").addClass("map-unchanged"):jQuery("body").removeClass("map-unchanged").addClass("map-changed"),c=e.autoSave,d.removeClass(_.filter(d.attr("class").split(" "),function(a){return/^map-source-/.test(a)}).join(" ")),a&&d.addClass("map-source-"+a[0])}),jQuery(window).bind("beforeunload",function(){return a.isMapLoadingConfirmationRequired()?"There are unsaved changes.":void 0}),b.addListener(function(a,b){c||b||d.hasClass("map-unchanged")&&d.removeClass("map-unchanged").addClass("map-changed")})},MM.Maps={},MM.Maps["default"]=MM.Maps["new"]={title:"Press Space or double-click to edit",id:1},MM.EmbeddedMapSource=function(a){"use strict";var b=a||{editable:!0};this.recognises=function(a){return/^new-/.test(a)&&(a="new"),MM.Maps[a]},this.loadMap=function(a){return jQuery.Deferred().resolve(MAPJS.content(_.clone(this.recognises(a))),a,b).promise()}},MM.MeasuresModel=function(a,b,c,d){"use strict";var e,f=observable(this),g=[],h=[],i=function(a,b){b&&f.dispatchEvent("startFromScratch");var c=g;g=k(),f.listeners("measureRemoved").length>0&&_.each(_.difference(c,g),function(a){f.dispatchEvent("measureRemoved",a)}),f.listeners("measureAdded").length>0&&_.each(_.difference(g,c),function(a){f.dispatchEvent("measureAdded",a,g.indexOf(a))}),o()},j=function(){f.dispatchEvent("measureRowsChanged")},k=function(){var b=c.getActiveContent(),d=b&&b.getAttr(a);return _.isArray(d)?d:[]},l=function(a){var b={};return _.each(a,function(a){b[a.id]=a}),b},m=function(a,b){var c=[];return _.each(a.values,function(d,e){var f=b&&b.values&&b.values[e]||0;d!==f&&c.push(["measureValueChanged",a.id,e,d||0])}),b&&_.each(b.values,function(d,e){var f=!a||!a.values||!a.values[e];f&&c.push(["measureValueChanged",b.id,e,0])}),c},n=function(a,b){var c=l(b),d=[];return _.each(a,function(a){var b=c[a.id];d=d.concat(m(a,b))}),d},o=function(){if(0!==f.listeners("measureValueChanged").length){var a=h,b=n(f.getMeasurementValues(),a);_.each(b,function(a){f.dispatchEvent.apply(f,a)})}};f.editingMeasure=function(a,b){f.dispatchEvent("measureEditing",a,b)},f.getMeasures=function(){return g.slice(0)},f.editWithFilter=function(a){e&&f.removeFilter(),e=a,e&&e.addEventListener&&e.addEventListener("filteredRowsChanged",j)},f.addUpMeasurementForAllNodes=function(a){var d=c.getActiveContent(),e={},f=function(c){var d=c.getAttr(b),f=0,g=!1;d&&d[a]&&(f=parseFloat(d[a]),g=!0),c.ideas&&_.each(c.ideas,function(a){void 0!==e[a.id]&&(g=!0,f+=e[a.id])}),g&&(e[c.id]=f)};return d&&a?(d.traverse(f,!0),e):{}},f.getMeasurementValues=function(){var a=c.getActiveContent(),d=[];return a?(a.traverse(function(a){if(!e||e.predicate(a)){var c={};_.each(_.extend({},a.getAttr(b)),function(a,b){void 0!==a&&(isNaN(parseFloat(a))||(c[b]=a))}),d.push({id:a.id,title:a.title,values:c})}}),h=d.slice(0),d):d},f.addMeasure=function(b){if(!b||""===b.trim())return!1;if(b=b.trim(),_.find(g,function(a){return a.toUpperCase()===b.toUpperCase()}))return!1;var d=c.getActiveContent();d.updateAttr(d.id,a,g.concat([b]))},f.removeMeasure=function(d){if(!d||""===d.trim())return!1;var e,f=_.without(g,d);_.isEqual(f,g)||(e=c.getActiveContent(),
e.startBatch(),e.updateAttr(e.id,a,f),e.traverse(function(a){e.mergeAttrProperty(a.id,b,d,!1)}),e.endBatch())},f.validate=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},f.setValue=function(a,d,e){return f.validate(e)?c.getActiveContent().mergeAttrProperty(a,b,d,e):!1},f.getRawData=function(a){var d=c.getActiveContent(),f=[];return d?(f.push(["Name"].concat(g)),d.traverse(function(c){(a||!e||e.predicate(c))&&f.push([c.title].concat(_.map(g,function(a){var d=c.getAttr(b)||{},e=d[a]&&parseFloat(d[a]);return void 0===e||isNaN(e)?void 0:e})))}),f):f},f.removeFilter=function(){e&&e.cleanup&&e.cleanup(),e&&e.removeEventListener&&e.removeEventListener("filteredRowsChanged",j),e=void 0},c.addListener(i),f.editWithFilter(d)},MM.MeasuresModel.filterByIds=function(a){"use strict";return{predicate:function(b){return _.include(a,b.id)}}},MM.MeasuresModel.ActivatedNodesFilter=function(a){"use strict";var b=observable(this),c=a.getActivatedNodeIds(),d=function(d){var e=a.getActivatedNodeIds();(d||c!==e)&&(c=e,b.dispatchEvent("filteredRowsChanged"))},e=d.bind(b,!0);a.addEventListener("activatedNodesChanged",d),a.addEventListener("nodeTitleChanged",e),b.predicate=function(a){return _.include(c,a.id)},b.cleanup=function(){a.removeEventListener("activatedNodesChanged",d),a.removeEventListener("nodeTitleChanged",e)}},MM.measuresModelMediator=function(a,b){"use strict";b.addEventListener("measureEditing",function(b,c){b&&c&&a.selectNode(c,!0,!0),a.setInputEnabled(!b,!0)})},jQuery.fn.addToRowAtIndex=function(a,b){"use strict";var c=jQuery(this),d=a.children("[data-mm-role="+c.data("mm-role")+"]").eq(b);return d.length?c.insertBefore(d):c.appendTo(a),c},jQuery.fn.numericTotaliser=function(){"use strict";var a=jQuery(this),b=a.find("tfoot tr"),c=function(c){var d=0;0!==c&&(a.find("tbody tr").each(function(){var a=jQuery(this),b=parseFloat(a.children().eq(c).text());isNaN(b)||(d+=b)}),b.children().eq(c).text(d))},d=function(){var a;for(a=1;a<b.children().size();a++)c(a)};return a.on("change",function(a){var b=jQuery(a.target);void 0!==a.column?c(a.column):b.is("td")?c(b.index()):d()}),this},jQuery.fn.measuresDisplayControlWidget=function(a,b){"use strict";return jQuery.each(this,function(){var c=jQuery(this),d=c.find("[data-mm-role=measurement-activation-template]"),e=d.parent(),f=c.find("[data-mm-role=hide-measure]"),g=function(f){var g=d.clone().appendTo(e);g.attr("data-mm-measure",f).find("[data-mm-role=show-measure]").click(function(){a.dispatchEvent("measureLabelShown",f),b.setLabelGenerator(function(){return a.addUpMeasurementForAllNodes(f)})}).find("[data-mm-role=measure-name]").text(f),c.show()},h=function(b){e.children('[data-mm-measure="'+b.replace('"','\\"')+'"]').remove(),_.isEmpty(a.getMeasures())&&c.hide()},i=function(){e.children("[data-mm-role=measurement-activation-template]").remove();var b=a.getMeasures();b&&b.length>0?_.each(b,g):c.hide()},j=function(a){e.children().removeClass("mm-active").filter('[data-mm-measure="'+a.replace('"','\\"')+'"]').addClass("mm-active"),a?f.show():f.hide()};i(),a.addEventListener("startFromScratch",i),a.addEventListener("measureAdded",g),a.addEventListener("measureRemoved",h),a.addEventListener("measureLabelShown",j),f.hide().click(function(){b.setLabelGenerator(!1),a.dispatchEvent("measureLabelShown","")})})},jQuery.fn.measuresSheetWidget=function(a){"use strict";return jQuery.each(this,function(){var b=jQuery(this),c=b.find("[data-mm-role=measurements-table]"),d=b.find("[data-mm-role=no-measures]"),e=b.find("[data-mm-role=measurement-template]"),f=e.parent(),g=b.find("[data-mm-role=idea-template]"),h=g.find("[data-mm-role=value-template]").detach(),i=g.parent(),j=b.find("[data-mm-role=measure-to-add]"),k=b.find("[data-mm-role=summary-template]"),l=k.parent(),m=function(a){return b.find('[data-mm-nodeid="'+a+'"]')},n=function(a){return _.map(f.children(),function(a){return jQuery(a).find("[data-mm-role=measurement-name]").text()}).indexOf(a)},o=function(b,g){var h=e.clone().addToRowAtIndex(f,g);h.find("[data-mm-role=measurement-name]").text(b),h.find("[data-mm-role=remove-measure]").click(function(){a.removeMeasure(b)}),k.clone().addToRowAtIndex(l,g).text("0"),c.show(),d.hide()},p=function(b,c){b!==w&&(w=b,a.editingMeasure(b,c))},q=function(b,c,d,e,f){var g=b.children("[data-mm-role=value-template]").eq(f),i=h.clone();return i.text(c||"0").on("change",function(b,c){return a.setValue(d,e,c)}).on("focus",function(){p(!0,d)}).on("blur",function(){p(!1,d)}).keydown("Esc",function(a){i.blur(),a.preventDefault(),a.stopPropagation()}),g.length?i.insertBefore(g):i.appendTo(b),i},r=function(a,b,d){var e=m(a),f=n(b);f>=0&&(e.children().eq(f).text(d),c.trigger(jQuery.Event("change",{column:f})))},s=function(a,b){o(a,b),_.each(i.children(),function(c){q(jQuery(c),"0",jQuery(c).data("mm-nodeid"),a,b)})},t=function(a){f.children().removeClass("mm-active");var b=n(a);b>=0&&f.children().eq(b).addClass("mm-active")},u=function(a){var b=n(a);0>b||(f.children().eq(b).remove(),l.children().eq(b).remove(),_.each(i.children(),function(a){jQuery(a).children().eq(b).remove()}))},v=function(){f.children("[data-mm-role=measurement-template]").remove(),l.children("[data-mm-role=summary-template]").remove();var b=a.getMeasures();b&&b.length>0?(c.show(),d.hide()):(c.hide(),d.show()),_.each(b,function(a){o(a)}),x(b)},w=!1,x=function(c){i.children("[data-mm-role=idea-template]").remove(),_.each(a.getMeasurementValues(),function(a){var b=g.clone().appendTo(i).attr("data-mm-nodeid",a.id);b.find("[data-mm-role=idea-title]").text(function(){var b=jQuery(this).data("mm-truncate");return b&&a.title.length>b?a.title.substring(0,b)+"...":a.title}),_.each(c,function(c){q(b,a.values[c],a.id,c)})}),b.find("[data-mm-role=measurements-table]").trigger("change")},y=function(){x(a.getMeasures())};e.detach(),k.detach(),g.detach(),c.editableTableWidget({editor:b.find("[data-mm-role=measures-editor]"),cloneProperties:jQuery.fn.editableTableWidget.defaultOptions.cloneProperties.concat(["outline","box-shadow","-webkit-box-shadow","-moz-box-shadow"])}).on("validate",function(b,c){return a.editingMeasure(!0),a.validate(c)}).numericTotaliser(),b.find("[data-mm-role=measures-editor]").on("focus",p.bind(b,!0,!1)).on("blur",p.bind(b,!1,!1)),b.on("show",function(){v(),a.addEventListener("startFromScratch",v),a.addEventListener("measureRowsChanged",y),a.addEventListener("measureValueChanged",r),a.addEventListener("measureAdded",s),a.addEventListener("measureRemoved",u)}),b.on("hide",function(){a.removeEventListener("startFromScratch",v),a.removeEventListener("measureRowsChanged",y),a.removeEventListener("measureValueChanged",r),a.removeEventListener("measureAdded",s),a.removeEventListener("measureRemoved",u),b.parent().siblings("[tabindex]").focus()}),b.find("[data-mm-role=measure-to-add]").parent("form").on("submit",function(){return a.addMeasure(j.val()),j.val(""),!1}),a.addEventListener("measureLabelShown",t)})},$.fn.editableTableWidget=function(a){"use strict";return $(this).each(function(){var b,c=$.extend($.fn.editableTableWidget.defaultOptions,a),d=37,e=38,f=39,g=40,h=13,i=27,j=9,k=$(this),l=c.editor.css("position","absolute").hide().appendTo(k.parent()),m=function(a){b=k.find("td:focus"),b.length&&(l.val(b.text()).removeClass("error").show().offset(b.offset()).css(b.css(c.cloneProperties)).width(b.width()).height(b.height()).focus(),a&&l.select())},n=function(){var a,c=l.val(),d=$.Event("change");return b.text()===c||l.hasClass("error")?!0:(a=b.html(),b.text(c).trigger(d,c),void(d.result===!1&&b.html(a)))},o=function(a,b){return b===f?a.next("td"):b===d?a.prev("td"):b===e?a.parent().prev().children().eq(a.index()):b===g?a.parent().next().children().eq(a.index()):[]};l.blur(function(){n(),l.hide()}).keydown(function(a){if(a.which===h)n(),l.hide(),b.focus(),a.preventDefault(),a.stopPropagation();else if(a.which===i)l.val(b.text()),a.preventDefault(),a.stopPropagation(),l.hide(),b.focus();else if(a.which===j)b.focus();else if(this.selectionEnd-this.selectionStart===this.value.length){var c=o(b,a.which);c.length>0&&(c.focus(),a.preventDefault(),a.stopPropagation())}}).on("input paste",function(){var a=$.Event("validate");b.trigger(a,l.val()),a.result===!1?l.addClass("error"):l.removeClass("error")}),k.on("click keypress dblclick",m).css("cursor","pointer").keydown(function(a){var b=!0,c=o($(a.target),a.which);c.length>0?c.focus():a.which===h?m(!1):17===a.which||91===a.which||93===a.which?(m(!0),b=!1):b=!1,b&&(a.stopPropagation(),a.preventDefault())}),k.find("td").prop("tabindex",1),$(window).on("resize",function(){l.is(":visible")&&l.offset(b.offset()).width(b.width()).height(b.height())})})},$.fn.editableTableWidget.defaultOptions={cloneProperties:["padding","padding-top","padding-bottom","padding-left","padding-right","text-align","font","font-size","font-family","font-weight","border","border-top","border-bottom","border-left","border-right"],editor:$("<input>")},jQuery.fn.modalConfirmWidget=function(){"use strict";var a,b=this,c=b.find("[data-mm-role=title]"),d=b.find("[data-mm-role=explanation]"),e=b.find("[data-mm-role=confirm]"),f=function(){a&&(a.resolve(),a=void 0)};return b.modal({keyboard:!0,show:!1}),e.click(function(){f()}),e.keydown("space",function(){f(),b.hide()}),this.showModalToConfirm=function(f,g,h){return a=jQuery.Deferred(),c.text(f),d.html(g),e.text(h),b.modal("show"),a.promise()},this.on("shown",function(){e.focus()}),this.on("hidden",function(){a&&(a.reject(),a=void 0)}),this},jQuery.fn.modalLauncherWidget=function(a){"use strict";return this.each(function(){var b,c=jQuery(this),d=c.data("mm-launch-key-code");c.on("show",function(c){this===c.target&&(b=jQuery(":focus"),0===b.length&&(b=jQuery(document.activeElement)),b.blur(),a.setInputEnabled(!1,!1))}).on("hide",function(c){this===c.target&&(a.setInputEnabled(!0,!1),b&&b.length>0?b.focus():jQuery(document).focus(),b=void 0)}).on("shown",function(a){this===a.target&&c.find("[data-mm-modal-shown-focus]").focus()}),d&&jQuery(document).keydown(function(a){0!==c.parent().length&&(String(a.which)!==String(d)||!a.metaKey&&!a.ctrlKey||a.altKey||(a.preventDefault(),a.stopImmediatePropagation(),jQuery(".modal:visible").length>0||c.modal("show")))})})},MM.navigationDelimiters=",;#",MM.navigationEscape=function(a,b){"use strict";if(!a)return a;var c="["+MM.navigationDelimiters+"]+",d=new RegExp(c,"g");return b=b||"_",a.replace(d,b)},MM.navigation=function(a,b){"use strict";var c=this,d="nil",e="[Mm]:([^"+MM.navigationDelimiters+"]*)",f=new RegExp(e),g=function(){var a=window&&window.location&&window.location.hash,b=a&&f.exec(a);return b&&b[1]},h=function(a){window.location.hash=f.test(window.location.hash)?window.location.hash.replace(f,"m:"+a):window.location.hash&&"#"!==window.location.hash?window.location.hash+",m:"+a:"m:"+a},i=function(b){return b&&a.setItem("mostRecentMapLoaded",b),b=b||d,h(b),!0};return c.initialMapId=function(){var b=g();return b&&b!==d||(b=a&&a.getItem&&a.getItem("mostRecentMapLoaded")),b},c.loadInitial=function(){var a=c.initialMapId();return b.loadMap(a||"new"),a},b.addEventListener("mapSaved mapLoaded mapLoadingCancelled",function(a){i(a)}),c.hashChange=function(){var a=g();if(a!==d)return a?(b.loadMap(a),!0):(i(b.currentMapId()),!1)},c.off=function(){window.removeEventListener("hashchange",c.hashChange)},c.on=function(){window.addEventListener("hashchange",c.hashChange)},c.on(),c},jQuery.fn.newMapWidget=function(a){"use strict";return this.click(function(){var b=jQuery(this).attr("data-mm-map-source")||"";a.loadMap("new-"+b+"-"+Date.now())}),this},jQuery.fn.optionalContentWidget=function(a,b){"use strict";var c=function(c,d){(c||a.getInputEnabled())&&b.toggle(d)};return jQuery.each(this,function(){var a=jQuery(this),b=a.attr("id");jQuery(document).keydown(a.attr("data-mm-activation-key"),c.bind(a,!1,b)),jQuery("[data-mm-role="+a.attr("data-mm-activation-role")+"]").click(c.bind(a,!0,b)),a.is(":visible")&&a.trigger("show")})},jQuery.fn.remoteExportWidget=function(a,b,c,d,e,f){"use strict";var g,h,i="download"in document.createElement("a")?$("<a>").addClass("hide").appendTo("body"):void 0,j=function(a){var b,c=atob(a.split(",")[1]),d=a.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(c.length),f=new Uint8Array(e);for(b=0;b<c.length;b++)f[b]=c.charCodeAt(b);return new window.Blob([e],{type:d})},k=function(a,b){var c=window.URL||window.webkitURL;return c.createObjectURL(/^data:[a-z]*\/[a-z]*/.test(a)?j(a):new window.Blob([a],{type:b}))};return a.addEventListener("mapLoaded",function(a,b){h=b}),this.click(function(){var a,l,m=function(a,b){return function(){return jQuery.Deferred().resolve(a.apply(void 0,arguments),b).promise()}},n={mup:m(function(a){return JSON.stringify(a,null,2)},"application/json"),mm:m(MM.freemindExport,"text/xml"),html:MM.exportToHtmlDocument,png:MAPJS.pngExport,txt:m(MM.exportIdeas.bind({},h,new MM.TabSeparatedTextExporter),"text/plain"),"measures-all":m(function(){return MM.exportTableToText(c.getRawData(!0))},"text/tab-separated-values"),measures:m(function(){return MM.exportTableToText(c.getRawData())},"text/tab-separated-values")},o=$(this).data("mm-format"),p=$(this).data("mm-extension")||o,q=function(){b&&g&&(b.hide(g),g=void 0)},r=function(a,c){q(),g=b.show(a,c,"error")};a=h.title+"."+p,b&&(q(),g=b.show('<i class="icon-spinner icon-spin"></i>&nbsp;Exporting map',"This may take a few seconds for larger maps","info")),l=$(this),n[o]&&n[o](h).then(function(c,h){var l=c;return l?void(i&&!$("body").hasClass("force-remote")?(q(),i.attr("download",a).attr("href",k(l,h)),i[0].click()):(/^data:[a-z]*\/[a-z]*/.test(l)?(l=j(l),h=l.type):h="application/octet-stream",d.generateEchoConfiguration(p,h).then(function(a){e.save(l,a,{isPrivate:!0}).then(function(){q(),g=b.show("Your map was exported.",' <a href="'+a.signedOutputUrl+'" target="_blank">Click here to open the file, or right-click and choose "save link as"</a>',"success")},function(a){"file-too-large"===a?(q(),f.showModalToConfirm("Remote export",'Your browser requires a remote export and this map exceeds your upload limit. To export the map, please use a browser which supports in-browser downloads (such as Chrome or Firefox) or enter a MindMup Gold license to increase your limit.<br/><br/>If you are a Gold user and you see this message, please contact us at <a href="mailto:contact@mindmup.com">contact@mindmup.com</a> to arrange an offline export.',"Subscribe to Mindmup Gold").then(function(){jQuery("#modalGoldLicense").modal("show")})):r("Unfortunately, there was a problem exporting the map.","Please try again later. We have sent an error report and we will look into this as soon as possible")})},function(){r("Unfortunately, there was a problem exporting the map.","Please try again later. We have sent an error report and we will look into this as soon as possible")}))):!1})})},MM.ResourceCompressor=function(a){"use strict";var b=this,c=a+":",d=new RegExp("^"+c),e=function(a){if(a.resources){var b={};_.map(a.resources,function(a,c){b[c]=!0}),a.traverse(function(a){var d=a&&a.attr&&a.attr.icon&&a.attr.icon.url;d&&delete b[d.substring(c.length)]}),_.each(b,function(b,c){delete a.resources[c]})}},f=function(a){a.traverse(function(b){var e=b&&b.attr&&b.attr.icon&&b.attr.icon.url;e&&!d.test(e)&&(b.attr.icon.url=c+a.storeResource(e))})};b.compress=function(a){f(a),e(a)}},MM.retry=function(a,b,c){"use strict";var d=jQuery.Deferred(),e=function(){a().then(d.resolve,function(){!b||b.apply(void 0,arguments)?(d.notify("Network problem... Will retry shortly"),c?setTimeout(e,c()):e()):d.reject.apply(void 0,arguments)},d.notify)};return e(),d.promise()},MM.retryTimes=function(a){"use strict";return function(){return a--}},MM.linearBackoff=function(){"use strict";var a=0;return function(){return a++,1e3*a}},MM.RetriableMapSourceDecorator=function(a){"use strict";var b=function(a){var b=MM.retryTimes(a);return function(a){return b()&&"network-error"===a}};this.loadMap=function(c,d){return MM.retry(a.loadMap.bind(a,c,d),b(5),MM.linearBackoff())},this.saveMap=function(c,d,e){return MM.retry(a.saveMap.bind(a,c,d,e),b(5),MM.linearBackoff())},this.description=a.description,this.recognises=a.recognises,this.autoSave=a.autoSave},MM.S3Api=function(){"use strict";var a=this;this.save=function(a,b,c){var d=new FormData,e=c&&c.isPrivate?"bucket-owner-read":"public-read",f=jQuery.Deferred(),g=function(a){a.lengthComputable?f.notify(Math.round(100*a.loaded/a.total,2)+"%"):f.notify()},h=function(a){var b,c,d,e={EntityTooLarge:"file-too-large"};if(403===a.status)return void f.reject("failed-authentication");try{b=a&&(a.responseXML||jQuery.parseXML(a.responseText)),c=jQuery(b).find("Error Code").text()}catch(g){}return c?(d=jQuery(b).find("Error Message").text(),void f.reject(e[c],d)):void f.reject("network-error")};return["key","AWSAccessKeyId","policy","signature"].forEach(function(a){d.append(a,b[a])}),d.append("acl",e),d.append("Content-Type",b["Content-Type"]||"text/plain"),d.append("file",a),jQuery.ajax({url:"https://"+b.s3BucketName+".s3.amazonaws.com/",type:"POST",processData:!1,contentType:!1,data:d,xhr:function(){var a=new XMLHttpRequest;return a.upload.addEventListener("progress",g),a}}).then(f.resolve,h,g),f.promise()},a.pollerDefaults={sleepPeriod:1e3,timeoutPeriod:12e4},a.poll=function(b,c){var d,e,f=jQuery.Deferred(),g=function(){return f&&!(c.stoppedSemaphore&&c.stoppedSemaphore())},h=function(){var a=function(){g()&&(c.sleepTimeoutId=window.setTimeout(h,c.sleepPeriod))};g()?jQuery.ajax({url:b,timeout:c.sleepPeriod,method:"GET"}).then(function(b){var c=jQuery(b).find("Contents Key").first().text();f&&c?(window.clearTimeout(e),f.resolve(c)):a()},a):window.clearTimeout(e)},i=function(){g()&&f.reject("polling-timeout"),window.clearTimeout(d),f=void 0};return c=_.extend({},a.pollerDefaults,c),g()&&(e=window.setTimeout(i,c.timeoutPeriod),h()),f.promise()},a.loadUrl=function(a){var b=jQuery.Deferred();return jQuery.ajax(a,{cache:!1}).then(b.resolve,function(a){b.reject(404===a.status||403===a.status?"map-not-found":"network-error")}),b.promise()}},MM.S3ConfigGenerator=function(a,b,c){"use strict";this.generate=function(){var c=jQuery.Deferred(),d={url:b,dataType:"json",type:"POST",processData:!1,contentType:!1};return jQuery.ajax(d).then(function(b){b.s3Url=a,b.mapId=b.s3UploadIdentifier,c.resolve(b)},c.reject.bind(c,"network-error")),c.promise()},this.buildMapUrl=function(b){return jQuery.Deferred().resolve(a+c+b+".json").promise()}},MM.S3FileSystem=function(a,b,c){"use strict";var d,e={editable:!0},f=new MM.S3Api;this.description=c,this.prefix=b,this.recognises=function(a){return a&&a[0]===b},this.loadMap=function(c,d){var g=jQuery.Deferred(),h=function(a){g.resolve(a,c,"application/json",e)};return a.buildMapUrl(c,b,d).then(function(a){f.loadUrl(a).then(h,g.reject)},g.reject),g.promise()},this.saveMap=function(c,g,h,i){var j=jQuery.Deferred(),k=function(a){d=a,f.save(c,a,{isPrivate:!1}).then(function(){j.resolve(a.mapId,_.extend(a,e))},j.reject)};return a.generate(g,h,b,i).then(k,j.reject),j.promise()},this.destroyLastSave=function(){return f.save('{"title": "This map was removed by its author"}',d,{isPrivate:!1})}},jQuery.fn.saveWidget=function(a){"use strict";var b,c,d=!1,e=jQuery(this),f=e.find("button[data-mm-role=publish]"),g=function(){f.attr("disabled")&&(f.text("Save").addClass("btn-primary").removeAttr("disabled"),e.find(".dropdown-toggle").removeAttr("disabled"))},h=function(){d=!0,g()},i=function(c){var d=a.validMapSourcePrefixesForSaving,f=_.map(d,function(a){return"repo-"+a+" "}).join("");b=c&&c[0],/^new-/.test(c)&&c.length>4&&(b=c[4]),_.contains(d,b)||(b=d[0]),e.find("[data-mm-role=currentrepo]").removeClass(f).addClass("repo repo-"+b)};return $(window).keydown(function(e){83!==e.which||!e.metaKey&&!e.ctrlKey||e.altKey||(!c&&d&&a.publishMap(b),e.preventDefault())}),e.find("[data-mm-role=publish]").add("a[data-mm-repository]",e).click(function(){a.publishMap($(this).attr("data-mm-repository")||b)}),e.find("a[data-mm-repository]").addClass(function(){return"repo repo-"+$(this).data("mm-repository")}),a.addEventListener("mapSaving",function(){f.html('<i class="icon-spinner icon-spin"></i>&nbsp;Saving').attr("disabled",!0).removeClass("btn-primary"),e.find(".dropdown-toggle").attr("disabled",!0)}),a.addEventListener("mapSavingFailed mapSavingUnAuthorized authorisationFailed authRequired mapSavingCancelled mapSavingTooLarge",g),a.addEventListener("mapLoaded mapSaved",function(a,b,g){i(a),d=!1,f.text("Save").attr("disabled",!0).removeClass("btn-primary"),e.find(".dropdown-toggle").removeAttr("disabled"),c=g.autoSave,c?f.text(" Auto-saved"):b.addEventListener("changed",h)}),e},jQuery.fn.scalableModalWidget=function(){"use strict";return jQuery.each(this,function(){var a=jQuery(this),b=function(){a.find(".modal-body").css("max-height","none").height(a.height()-a.find(".modal-header").outerHeight(!0)-a.find(".modal-footer").outerHeight(!0))};a.on("shown",b),jQuery(window).on("resize",function(){a.is(":visible")&&b()})})},$.fn.searchWidget=function(a,b){"use strict";var c=this,d=function(){if(b.getInputEnabled()){var a,d=function(){a&&a.remove(),b.setInputEnabled(!0)},e=function(a){var c=a.substring(0,a.indexOf(":"));d(),b.centerOnNode(c)};b.setInputEnabled(!1),a=$('<input type="text" autocomplete="off" placeholder="Type a part of the node title">').css("position","absolute").css("z-index","9999").appendTo(c).css("top","30%").css("left","40%").css("width","20%").css("border-width","5px").focus().blur(d).keyup("Esc",d).typeahead({source:function(a){return _.map(b.search(a),function(a){return a.id+":"+a.title})},updater:e,highlighter:function(a){return a.replace(/[^:]+:/,"")}})}};return c.keydown(a,function(a){d(),a.preventDefault(),a.stopPropagation()}).find("[data-mm-role=show-map-search]").click(d),c},jQuery.fn.selectableReadOnlyInputWidget=function(){"use strict";return this.css("cursor","pointer").on("input change",function(){var a=jQuery(this);a.val(a.attr("data-mm-val"))}).click(function(){this.setSelectionRange?this.setSelectionRange(0,this.value.length):this.select&&this.select()})},jQuery.fn.sendToGoogleDriveWidget=function(a){"use strict";return this.each(function(){var b=jQuery(this),c=!1,d=b.find("[data-mm-role~=send-to-drive-file-name]"),e=d.parents("div.control-group"),f=b.find("[data-mm-role~=send-to-drive-url]"),g=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],h=function(){var a=d.val();return a&&(a=a.trim()),a},i=function(a){b.find(".visible").hide(),b.find(".visible."+a).show().find("[data-mm-show-focus]").focus()},j=function(a,c){b.find("[data-mm-role~=send-to-drive-status]").text(a+" "+(c||""))},k=function(){MM.ajaxBlobFetch(f.val()).then(function(d){a.binaryUpload(d,h(),d.type,_.contains(g,d.type)).then(function(a){b.find("[data-mm-role~=send-to-drive-result-link]").attr("href",a.link),c=a.id,i("send-to-drive-done")},function(a){"not-authenticated"===a?i("send-to-drive-unauthorised"):(j("File upload failed",a),i("send-to-drive-error"))},function(a){j("Uploading content",a)})},function(a,b){j("File retrieval failed",b),i("send-to-drive-error")},function(a){j("Retrieving file",a)})},l=function(){var b=jQuery(this),e=b.is("[data-mm-showdialogs]");c=!1,h()?(i("send-to-drive-progress"),j("Authorising with Google Drive"),a.ready(e).then(k,function(){e?(j("Authorisation with Google failed"),i("send-to-drive-error")):i("send-to-drive-unauthorised")})):d.parents("div.control-group").addClass("error")};d.on("input change",function(){h()?e.removeClass("error"):e.addClass("error")}),b.find("[data-mm-role=send-to-drive-kickoff]").click(l),b.find("[data-mm-role=send-to-drive-share]").click(function(){c&&a.showSharingSettings(c)})})},jQuery.fn.splitFlipWidget=function(a,b,c,d){"use strict";var e=jQuery(this),f=function(b){(b||c.isEditingEnabled())&&a.flip()};return _.each(e.find(b),function(a){var b=jQuery(a);b.click(function(){f(!0)})}),e.keydown(d,f.bind(e,!1)),e},MM.SplittableController=function(a,b,c,d,e){"use strict";var f=observable(this),g=[MM.SplittableController.NO_SPLIT,MM.SplittableController.ROW_SPLIT,MM.SplittableController.COLUMN_SPLIT],h=function(){return a.innerHeight()>a.innerWidth()?MM.SplittableController.ROW_SPLIT:MM.SplittableController.COLUMN_SPLIT};f.split=function(c){return _.contains(g,c)?(a.removeClass(g.join(" ")).addClass(c),this.dispatchEvent("split",c),b.centerOnNode(b.getCurrentlySelectedIdeaId()),!0):!1},f.currentSplit=function(){var b=_.find(g,function(b){return a.hasClass(b)});return b||MM.SplittableController.NO_SPLIT},f.toggle=function(b){b===c[d]?f.currentSplit()===MM.SplittableController.NO_SPLIT?(f.split(h()),a.find("#"+b).trigger("show")):(f.split(MM.SplittableController.NO_SPLIT),a.find("#"+b).trigger("hide")):(a.find("[data-mm-role=optional-content]").hide(),a.find("#"+b).show(),f.currentSplit()===MM.SplittableController.NO_SPLIT?f.split(h()):a.find("#"+c[d]).trigger("hide"),a.find("#"+b).trigger("show")),c[d]=b},f.flip=function(){var a=f.currentSplit();return a===MM.SplittableController.NO_SPLIT?!1:f.split(a===MM.SplittableController.ROW_SPLIT?MM.SplittableController.COLUMN_SPLIT:MM.SplittableController.ROW_SPLIT)},a.find("[data-mm-role=optional-content]").hide(),c[d]||(c[d]=e),a.find("#"+c[d]).show()},MM.SplittableController.NO_SPLIT="no-split",MM.SplittableController.COLUMN_SPLIT="column-split",MM.SplittableController.ROW_SPLIT="row-split",MM.StoryboardController=function(a){"use strict";var b=observable(this),c=function(a,b,c){var d,e={};return e[a]=b,d={storyboards:e},c&&(d.type=c),d},d=function(b,d,e,f){var g=a.getScenesForNodeId(d),h=c(b,e,f);g.push(h),a.setScenesForNodeId(d,g)};b.addScene=function(b,c,e){var f=a.getActiveStoryboardName(),g=1;f||(f=a.createStoryboard()),g=c?a.insertionIndexBefore(c):a.nextSceneIndex(),g?d(f,b,g,e):a.rebalanceAndApply([c],function(c){d(f,b,a.insertionIndexBefore(c[0]),e)})},b.moveSceneAfter=function(b,c){if(!b)return!1;var d,e,f,g,h=a.getActiveStoryboardName();if(c&&c.ideaId===b.ideaId&&c.index===b.index)return!1;if(d=a.getScenes(),!d||!d.length)return!1;if(f=_.indexOf(d,_.find(d,function(a){return a.ideaId===b.ideaId&&a.index===b.index})),-1===f)return!1;if(c){if(f>0&&(g=_.indexOf(d,_.find(d,function(a){return a.ideaId===c.ideaId&&a.index===c.index})),f===g+1))return!1;e=a.insertionIndexAfter(c)}else{if(0===f)return!1;e=a.insertionIndexAfter()}return e?a.updateSceneIndex(b,e,h):a.rebalanceAndApply([b,c],function(b){a.updateSceneIndex(b[0],a.insertionIndexAfter(b[1]),h)}),!0},b.removeScenesForIdeaId=function(b){var c,d=a.getActiveStoryboardName(),e=d&&a.getScenesForNodeId(b);return d?(_.each(e,function(a){a.storyboards&&a.storyboards[d]&&(delete a.storyboards[d],c=!0)}),c?(e=_.reject(e,function(a){return 0===_.size(a.storyboards)}),a.setScenesForNodeId(b,e),!0):!1):!1},b.removeScene=function(b){if(!b||!b.ideaId||!b.index)return!1;var c=a.getActiveStoryboardName(),d=c&&a.getScenesForNodeId(b.ideaId);return c?(_.each(d,function(a){a.storyboards&&a.storyboards[c]&&a.storyboards[c]===b.index&&delete a.storyboards[c]}),d=_.reject(d,function(a){return 0===_.size(a.storyboards)}),void a.setScenesForNodeId(b.ideaId,d)):!1}},MM.StoryboardDimensionProvider=function(a){"use strict";var b=this,c=jQuery("<div>").attr("data-mm-role","storyboard-sizer").addClass("storyboard-scene-title").css({"z-index":"-99",visibility:"hidden"}),d=function(a,b,d){c.css({"max-width":b}).appendTo("body").text(a);var e={fontSize:.5*d},f=.9;do e.fontSize=Math.floor(e.fontSize*f),e.lineHeight=Math.floor(1.3*e.fontSize),c.css("font-size",e.fontSize+"px"),c.css("line-height",e.lineHeight+"px");while((c.height()>d||c[0].scrollWidth>b)&&e.fontSize>d/30);return e.textWidth=c.width(),c.detach(),e},e=function(a){var b=/\n-/.test(a);return b};b.getDimensionsForScene=function(b,c,f){var g,h,i=c/16,j={text:{height:f-2*i,width:c-2*i,"padding-top":i,"padding-bottom":i,"padding-left":i,"padding-right":i,toCss:function(){return _.extend({"font-size":j.text.fontSize+"px","line-height":j.text.lineHeight+"px"},_.omit(j.text,"fontSize","lineHeight"))}},image:{toCss:function(){return{"background-image":"","background-repeat":"","background-size":"","background-position":""}}}},k=1,l=f,m=c;return b.image&&("top"===b.image.position||"bottom"===b.image.position?(l=f/2-i,j.text["padding-"+b.image.position]=f/2,j.text.height=f/2-i):("left"===b.image.position||"right"===b.image.position)&&(m=c/2-i,j.text["padding-"+b.image.position]=c/2,j.text.width=c/2-i),k=m/b.image.width,k>l/b.image.height&&(k=l/b.image.height),j.image={url:b.image.url,height:k*b.image.height,width:k*b.image.width},"top"===b.image.position?(j.image.top=.25*f-.5*j.image.height,j.image.left=(c-j.image.width)/2):"bottom"===b.image.position?(j.image.top=.75*f-.5*j.image.height,j.image.left=(c-j.image.width)/2):"left"===b.image.position?(j.image.top=(f-j.image.height)/2,j.image.left=(c/2-j.image.width)/2):"right"===b.image.position?(j.image.top=(f-j.image.height)/2,j.image.left=.75*c-.5*j.image.width):(j.image.top=(f-j.image.height)/2,j.image.left=(c-j.image.width)/2),j.image.toCss=function(){return{"background-image":'url("'+a.getResource(b.image.url)+'")',"background-repeat":"no-repeat","background-size":k*b.image.width+"px "+k*b.image.height+"px","background-position":j.image.left+"px "+j.image.top+"px"}}),e(b.title)&&(j.text["text-align"]="left"),g=d(b.title,j.text.width,j.text.height),j.text.fontSize=g.fontSize,j.text.lineHeight=g.lineHeight,h=(j.text.width-g.textWidth)/2,h>0&&(j.text.width=g.textWidth,j.text["padding-left"]+=h,j.text["padding-right"]+=h),j}},MM.buildStoryboardExporter=function(a,b,c){"use strict";return function(){var d=a.getScenes();return _.isEmpty(d)?{}:{storyboard:_.map(d,function(a){var d=_.extend({title:a.title},b.getDimensionsForScene(a,800,600));return d.image&&d.image.url&&(d.image.url=c(d.image.url)),d})}}},MM.Storyboard={},MM.Storyboard.scene=function(a){"use strict";return a?(a.matchesScene=function(b){return a&&b?a.ideaId!=b.ideaId?!1:a.index!==b.index?!1:!0:!1},a.clone=function(){return MM.Storyboard.scene(_.extend({},a))},a):void 0},MM.Storyboard.sceneList=function(a){"use strict";return a?(a.findScene=function(b){return b?(MM.Storyboard.scene(b),_.find(a,function(a){return b.matchesScene(a)})):void 0},a.indexOfScene=function(b){if(!b)return-1;var c=a.findScene(b);return c?_.indexOf(a,c):-1},a.nextSceneIndex=function(){var b=_.max(a,function(a){return a&&a.index});return b&&b.index?b.index+1:1},a):void 0},MM.StoryboardModel=function(a,b,c){"use strict";var d,e,f=observable(this),g=function(){var b=f.getActiveStoryboardName(),d=[],g=function(a,b){var c=a.title;return"with-children"===b&&_.each(a.sortedSubIdeas(),function(a){c=c+"\n- "+a.title}),c};return b?(a.getActiveContent().traverse(function(a){var e=a.getAttr(c);e&&_.each(e,function(c){var e,f,h=parseFloat(c.storyboards[b]);h&&(e={ideaId:a.id,title:g(a,c.type),index:h},f=a.getAttr("icon"),f&&(e.image=f),d.push(e))})}),void(e=MM.Storyboard.sceneList(_.sortBy(d,"index")))):void(e=MM.Storyboard.sceneList(d))},h=function(a,b){return Math.abs(a-b)<1e-4},i=function(a){if(!a)return 0;var b=a.length;return _.each(a,function(a){var c=a.match(/^Storyboard ([1-9]+)/),d=c&&c.length>1&&parseFloat(c[1])||0;d>b&&(b=d)}),b},j=function(){var a,b=e,c=function(a,b){var c={removed:[],added:[],contentUpdated:[]};return MM.Storyboard.sceneList(a),MM.Storyboard.sceneList(b),_.each(a,function(a){var d=b&&b.findScene(a);d?d.title===a.title&&_.isEqual(d.image,a.image)||c.contentUpdated.push(d):c.removed.push(a)}),_.each(b,function(b){var d=a&&a.findScene(b);d||c.added.push(b)}),1===c.added.length&&1===c.removed.length&&0===c.contentUpdated.length&&c.added[0].ideaId===c.removed[0].ideaId?{moved:{from:c.removed[0],to:c.added[0]}}:c};g(),a=c(b,e),_.each(a.removed,function(a){f.dispatchEvent("storyboardSceneRemoved",a)}),_.each(a.added,function(a){f.dispatchEvent("storyboardSceneAdded",a)}),_.each(a.contentUpdated,function(a){f.dispatchEvent("storyboardSceneContentUpdated",a)}),a.moved&&f.dispatchEvent("storyboardSceneMoved",a.moved);

};f.setInputEnabled=function(a){d=a,f.dispatchEvent("inputEnabled",a)},f.getInputEnabled=function(){return d},f.getActiveStoryboardName=function(){var c=a&&a.getActiveContent(),d=c&&c.getAttr(b);return d&&d.length>0?d[0]:void 0},f.createStoryboard=function(){var c=a&&a.getActiveContent(),d=c&&c.getAttr(b)||[],e=i(d),f="Storyboard "+(e+1);if(c)return d.push(f),c.updateAttr(c.id,b,d),f},f.nextSceneIndex=function(){return e&&e.nextSceneIndex()},f.updateSceneIndex=function(a,b,c){var d=f.getScenesForNodeId(a.ideaId);return _.each(d,function(d){d.storyboards&&d.storyboards[c]&&d.storyboards[c]===a.index&&(d.storyboards[c]=b)}),f.setScenesForNodeId(a.ideaId,d),_.extend({},a,{index:b})},f.getScenesForNodeId=function(b){var d=a.getActiveContent().getAttrById(b,c)||[];return JSON.parse(JSON.stringify(d))},f.setScenesForNodeId=function(b,d){a.getActiveContent().updateAttr(b,c,d)},f.scenesMatch=function(a,b){return a&&b?a.ideaId!==b.ideaId?!1:a.index!==b.index?!1:!0:!1},f.rebalance=function(a){var b=[],c=1,d=f.getActiveStoryboardName();return _.each(e,function(e){var g=_.find(a,function(a){return f.scenesMatch(e,a)}),h=void 0!==g?_.indexOf(a,g):-1,i=f.updateSceneIndex(e,c,d);c++,h>=0&&(b[h]=i)}),b},f.rebalanceAndApply=function(b,c){var d,e=a.getActiveContent();e.startBatch(),d=f.rebalance(b),j(),c(d),e.endBatch()},f.insertionIndexAfter=function(a){var b,c,d,f=function(){var a;return 0===e.length?!1:(a=e[0].index/2,h(a,e[0].index)?!1:a)};return a?(b=_.indexOf(e,_.find(e,function(b){return b.ideaId===a.ideaId&&b.index===a.index})),0>b?!1:b===e.length-1?a.index+1:(c=e[b+1].index,d=(a.index+c)/2,h(d,c)||h(d,a.index)?!1:d)):f()},f.insertionIndexBefore=function(a){var b,c,d=0;return a?(b=e.indexOfScene(a),0>b?!1:(0!==b&&(d=e[b-1].index),c=(a.index+d)/2,h(c,d)||h(c,a.index)?!1:c)):!1},f.getScenes=function(){return e},a.addListener(j)},jQuery.fn.updateScene=function(a,b){"use strict";var c=b.getDimensionsForScene(a,this.innerWidth(),this.innerHeight());return this.find("[data-mm-role=scene-title]").text(a.title).css(c.text.toCss()),this.css(c.image.toCss()),this},jQuery.fn.scrollSceneIntoFocus=function(){"use strict";return this.siblings(".activated-scene").removeClass("activated-scene"),this[0].scrollIntoView(),this.addClass("activated-scene"),this},jQuery.fn.storyboardWidget=function(a,b,c,d){"use strict";return jQuery.each(this,function(){var e=jQuery(this),f=e.find("[data-mm-role=scene-template]"),g=e.find("[data-mm-role=no-scenes]").detach(),h=f.parent(),i=function(){_.each(h.find(".activated-scene"),function(b){var c=jQuery(b).data("scene");c&&a.removeScene(c)})},j=function(b){var c=b&&b.data("scene"),d=c&&b.prev()&&b.prev().prev(),e=d&&d.data("scene");c&&a.moveSceneAfter(c,e)},k=function(b){var c=b&&b.data("scene"),d=c&&b.next(),e=d&&d.data("scene");c&&e&&a.moveSceneAfter(c,e)},l=function(){j(h.find(".activated-scene"))},m=function(){k(h.find(".activated-scene"))},n=function(a){if(!a.gesture||!a.gesture.center)return!1;var b=e.offset(),c=a.gesture.center.pageX-b.left,d=a.gesture.center.pageY-b.top;return c>0&&c<e.width()&&d>0&&d<e.height()},o=function(a,b){var c=b?h.find("[data-mm-role=scene]").not(".drag-shadow"):h.find("[data-mm-role=scene]").not(".activated-scene").not(".drag-shadow"),d=_.filter(c,function(b){var c=jQuery(b),d=a.top-c.offset().top,e=c.outerHeight(!0),f=d>0&&e>d;return f}),e=_.filter(d,function(b){var c=jQuery(b),d=a.left-c.offset().left,e=c.outerWidth(!0),f=d>-40&&e/3>d;return f}),f=_.filter(d,function(b){var c=jQuery(b),d=a.left-c.offset().left,e=c.outerWidth(!0),f=d>2*e/3&&e+40>d;return f}),g=jQuery(_.last(d)),i=c.last();return 0===f.length&&0===e.length&&(g.length>0&&a.left>g.offset().left+g.width()?f=g:i.length>0&&a.top>i.offset().top&&(f=i)),{left:_.first(f),right:_.first(e)}},p=function(){var a=b.getScenes();h.empty(),a&&a.length?_.each(a,function(a){r(a,!0)}):g.appendTo(h).show()},q=function(a){var b=_.reject(h.children(),function(b){return!jQuery(b).data("scene")||a<jQuery(b).data("scene").index});return _.last(b)},r=function(b,e,i){var l=f.clone().data("scene",b).attr({"data-mm-role":"scene","data-mm-idea-id":b.ideaId,"data-mm-index":b.index,tabindex:1}).on("focus",function(){h.find("[data-mm-role=scene]").removeClass("activated-scene"),l.addClass("activated-scene")}).on("tap",function(){d.focusAndSelect(b.ideaId)}).keydown("del backspace",function(c){a.removeScene(b),c.preventDefault(),c.stopPropagation()}).keydown("meta+right ctrl+right",function(){k(jQuery(this))}).keydown("meta+left ctrl+left",function(){j(jQuery(this))}).keydown("right",function(){jQuery(this).next().focus()}).keydown("left",function(){jQuery(this).prev().focus()}).keydown("up",function(){jQuery(this).gridUp().focus()}).on("doubletap",function(){d.focusAndSelect(b.ideaId),d.editNode(b.ideaId)}).keydown("down",function(){jQuery(this).gridDown().focus()}).shadowDraggable().on("mm:cancel-dragging",function(){jQuery(this).siblings().removeClass("potential-drop-left potential-drop-right")}).on("mm:stop-dragging",function(){var b=jQuery(this),c=b.parent().find(".potential-drop-left"),d=b.parent().find(".potential-drop-right");c&&c[0]?a.moveSceneAfter(b.data("scene"),c.data("scene")):d&&d[0]&&(c=d.prev(),c&&c[0]?a.moveSceneAfter(b.data("scene"),c.data("scene")):a.moveSceneAfter(b.data("scene"))),jQuery(this).siblings().removeClass("potential-drop-left potential-drop-right")}).on("mm:drag",function(a){if(a&&a.gesture&&a.gesture.center){var b,c,d=o({left:a.gesture.center.pageX,top:a.gesture.center.pageY}),e=jQuery(this);d.left?(b=jQuery(d.left).not(e).not(e.prev()),c=b.next()):d.right&&(c=jQuery(d.right).not(e).not(e.next()),b=c.prev()),e.siblings().not(b).removeClass("potential-drop-left"),e.siblings().not(c).removeClass("potential-drop-right"),c&&c.addClass("potential-drop-right"),b&&b.addClass("potential-drop-left")}}),m=!e&&q(b.index);g.detach(),l.hide(),m?l.insertAfter(m):e?l.appendTo(h):l.prependTo(h),l.updateScene(b,c),e?l.show():(l.finish(),l.fadeIn({duration:100,complete:function(){i?l.focus():l.scrollSceneIntoFocus()}}))},s=function(a){return h.find('[data-mm-role=scene][data-mm-index="'+a.index+'"][data-mm-idea-id="'+a.ideaId+'"]')},t=function(a){var b,c=s(a),d=c.is(":focus"),e=c.hasClass("activated-scene");(d||e)&&(b=c.prev(),0===b.length&&(b=c.next()),d?b.focus():e&&0===jQuery(":focus").length&&b.focus()),c.finish(),c.fadeOut({duration:100,complete:function(){c.remove()}})},u=function(a){s(a).updateScene(a,c)},v=function(a){var b=s(a.from),c=b.is(":focus");b.finish(),b.fadeOut({duration:100,complete:function(){b.remove(),r(a.to,!1,c)}})},w=function(){b.setInputEnabled(!0),p(),b.addEventListener("storyboardSceneAdded",r),b.addEventListener("storyboardSceneMoved",v),b.addEventListener("storyboardSceneRemoved",t),b.addEventListener("storyboardSceneContentUpdated",u)},x=function(){b.setInputEnabled(!1),b.removeEventListener("storyboardSceneAdded",r),b.removeEventListener("storyboardSceneMoved",v),b.removeEventListener("storyboardSceneRemoved",t),b.removeEventListener("storyboardSceneContentUpdated",u)};f.detach(),e.find("[data-mm-role=storyboard-remove-scene]").click(i),e.find("[data-mm-role=storyboard-move-scene-left]").click(l),e.find("[data-mm-role=storyboard-move-scene-right]").click(m),e.on("show",w).on("hide",x),e.parents("[data-drag-role=container]").on("mm:drag",function(a){if(!n(a))return void h.find("[data-mm-role=scene]").removeClass("potential-drop-left potential-drop-right");if("node"===jQuery(a.target).attr("data-mapjs-role")){var b,c,d=o({left:a.gesture.center.pageX,top:a.gesture.center.pageY},!0),e=h.find("[data-mm-role=scene]");d.left?(b=jQuery(d.left),c=b.next()):d.right&&(c=jQuery(d.right),b=c.prev()),e.not(b).removeClass("potential-drop-left"),e.not(c).removeClass("potential-drop-right"),c&&c.addClass("potential-drop-right"),b&&b.addClass("potential-drop-left")}}).on("mm:stop-dragging",function(b){var c,d=jQuery(b.target);"node"===d.attr("data-mapjs-role")&&n(b)&&(c=h.find(".potential-drop-right"),a.addScene(d.data("nodeId"),c&&c.data("scene"))),h.children().removeClass("potential-drop-left potential-drop-right")}).on("mm:cancel-dragging",function(){h.children().removeClass("potential-drop-left potential-drop-right")})})},jQuery.fn.storyboardKeyHandlerWidget=function(a,b,c,d){"use strict";var e=this,f=function(b){var e=b.charCode||b.keyCode,f=String.fromCharCode(e);f===d&&c.getInputEnabled()&&c.applyToActivated(function(b){a.addScene(b)})};return b.addEventListener("inputEnabled",function(a){a?e.on("keypress",f):e.off("keypress",f)}),e},jQuery.fn.storyboardMenuWidget=function(a,b,c){"use strict";var d=this,e=function(a){a?d.show():d.hide()};return d.find("[data-mm-role=storyboard-add-scene]").click(function(){c.applyToActivated(function(b){a.addScene(b)})}),d.find("[data-mm-role=storyboard-add-scene-children]").click(function(){c.applyToActivated(function(b){a.addScene(b,!1,"with-children")})}),d.find("[data-mm-role=storyboard-remove-scenes-for-idea-id]").click(function(){a.removeScenesForIdeaId(c.getSelectedNodeId())}),b.addEventListener("inputEnabled",e),e(b.getInputEnabled()),d},MM.exportIdeas=function(a,b){"use strict";var c=function(a,b,d){d=d||0,a(b,d),_.each(b.sortedSubIdeas(),function(b){c(a,b,d+1)})};return b.begin&&b.begin(),c(b.each,a),b.end&&b.end(),b.contents()},MM.TabSeparatedTextExporter=function(){"use strict";var a=[];this.contents=function(){return a.join("\n")},this.each=function(b,c){a.push(_.map(_.range(c),function(){return"	"}).join("")+b.title.replace(/\t|\n|\r/g," "))}},MM.HtmlTableExporter=function(){"use strict";var a;this.begin=function(){a=$("<table>").wrap("<div></div>")},this.contents=function(){return'<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"> </head><body>'+$(a).parent().html()+"</body></html>"},this.each=function(b,c){var d=$("<tr>").appendTo(a),e=$("<td>").appendTo(d).text(b.title);b.attr&&b.attr.style&&b.attr.style.background&&(e.css("background-color",b.attr.style.background),e.css("color",MAPJS.contrastForeground(b.attr.style.background))),c>0&&$("<td>").prependTo(d).html("&nbsp;").attr("colspan",c)}},MM.exportToHtmlDocument=function(a){"use strict";var b=jQuery.Deferred(),c=function(){var c=$("<div>"),d=function(a,b){MAPJS.URLHelper.containsLink(b)?$("<a>").attr("href",MAPJS.URLHelper.getLink(b)).text(MAPJS.URLHelper.stripLink(b)||b).appendTo(a):a.text(b)},e=function(a,b){var c=b&&b.attr&&b.attr.attachment;c&&"text/html"===c.contentType&&$("<div>").addClass("attachment").appendTo(a).html(c.content)},f=function(a){var b=$("<ul>");return _.each(a,function(a){var c=$("<li>").appendTo(b);d(c,a.title),e(c,a),a.attr&&a.attr.style&&a.attr.style.background&&(c.css("background-color",a.attr.style.background),c.css("color",MAPJS.contrastForeground(a.attr.style.background))),_.isEmpty(a.ideas)||f(a.sortedSubIdeas()).appendTo(c)}),b},g=$("<h1>").appendTo(c);d(g,a.title),e(c,a),_.isEmpty(a.ideas)||f(a.sortedSubIdeas()).appendTo(c),b.resolve('<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><style type="text/css">body{font-family:"HelveticaNeue",Helvetica,Arial,sans-serif;font-size:14px;line-height:20px;color:#333333;margin-left:10%;margin-right:10%;}h1{display:block;font-size:38.5px;line-height:40px;font-family:inherit;}li{line-height:20px;padding-left:10px;}ul{list-style-type:none;}div.attachment{border:1px solid black;margin:5px;padding:5px;}img.mapimage{border:1px solid black;max-height:600px;max-width:600px;}</style></head><body>'+$(c).html()+"</body></html>","text/html")};return c(),b.promise()},MM.exportTableToText=function(a){"use strict";return _.map(a,function(a){return _.map(a,function(a){return a?a.toString().replace(/\t|\n|\r/g," "):""}).join("	")}).join("\n")},jQuery.fn.titleUpdateWidget=function(a){"use strict";var b=this;a.addEventListener("mapLoaded mapSaved",function(a,c){b.prop("title")&&b.prop("title",c.title)})},$.fn.toggleClassWidget=function(){"use strict";var a=this;return a.filter("[data-mm-key]").each(function(){var a=$(this);$(window).keydown(a.data("mm-key"),function(b){a.click(),b.preventDefault()})}),a.click(function(){var a=$($(this).data("mm-target")),b=$(this).data("mm-class");a.toggleClass(b)}),a},function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;d.computed>g&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;e>c.call(d,a[h])?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==b+"";case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),jQuery.fn.welcomeMessageWidget=function(a){"use strict";return this.each(function(){a.log("Welcome Message","show",jQuery(this).data("message"))})},MM.main=function(a){"use strict";var b=function(){try{if(window.localStorage.setItem("testkey","testval"),"testval"===window.localStorage.getItem("testkey"))return window.localStorage}catch(a){}return{fake:!0,getItem:function(a){return this[a]},setItem:function(a,b){this[a]=b},removeItem:function(a){delete this[a]}}},c=a.storage||b(),d=!1,e=function(a,b){a.addEventListener("log",function(){_gaq.push(["_trackEvent"].concat(Array.prototype.slice.call(arguments,0,3)))}),a.addEventListener("timer",function(a,b,c){_gaq.push(["_trackEvent",a,b,"",c])}),d&&b.addEventListener("analytic",a.log)};window._gaq=window._gaq||[],window._gaq=[["_setAccount",a.googleAnalyticsAccount],["_setCustomVar",1,"User Cohort",a.userCohort,1],["_setCustomVar",2,"Active Extensions",c["active-extensions"],1],["_trackPageview"]].concat(window._gaq),jQuery(function(){var b,d=new MM.ActivityLog(1e4),f=new MM.S3Api,g=new MM.Alert,h=new MM.GoldFunnelModel(d),i=jQuery("#modalConfirm").modalConfirmWidget(),j=new MM.JsonStorage(c),k=new MM.S3ConfigGenerator(a.s3Url,a.publishingConfigUrl,a.s3Folder),l=new MM.GoldLicenseManager(j,"licenseKey"),m=new MM.GoldApi(l,a.goldApiUrl,d,a.goldBucketName),n=new MM.GoldStorage(m,f,i),o=new MM.S3FileSystem(k,"a","S3_CORS"),p=new MM.GoogleAuthenticator(a.googleClientId,a.googleApiKey),q=new MM.GoogleDriveAdapter(p,a.googleAppId,a.networkTimeoutMillis,"application/json"),r="internal",s=new MM.ResourceCompressor(r),t=new MM.MapController([new MM.RetriableMapSourceDecorator(new MM.FileSystemMapSource(o,s.compress)),new MM.RetriableMapSourceDecorator(new MM.FileSystemMapSource(n.fileSystemFor("b"),s.compress)),new MM.RetriableMapSourceDecorator(new MM.FileSystemMapSource(n.fileSystemFor("p"),s.compress)),new MM.RetriableMapSourceDecorator(new MM.FileSystemMapSource(q,s.compress)),new MM.EmbeddedMapSource(a.newMapProperties)]),u=new MM.ActiveContentListener(t),v=new MM.ActiveContentResourceManager(u,r),w=new MM.LocalStorageClipboard(j,"clipboard",g,v),x=MM.navigation(c,t),y=new MAPJS.MapModel(MAPJS.DOMRender.layoutCalculator,["Press Space or double-click to edit"],w),z=new MM.StoryboardModel(u,"storyboards","storyboard-scenes"),A=new MM.StoryboardDimensionProvider(v),B=MM.buildDecoratedResultProcessor(MM.ajaxResultProcessor,MM.layoutExportDecorators),C=MM.buildDecoratedResultProcessor(function(a){return jQuery.Deferred().resolve(a)},MM.sendExportDecorators),D=MM.buildMapContentExporter(u,v.getResource),E=new MM.LayoutExportController({png:MM.buildMapLayoutExporter(y,v.getResource),pdf:MM.buildMapLayoutExporter(y,v.getResource),"presentation.pdf":{exporter:MM.buildStoryboardExporter(z,A,v.getResource),processor:C},"presentation.pptx":{exporter:MM.buildStoryboardExporter(z,A,v.getResource),processor:C},"storyboard.docx":{exporter:MM.buildStoryboardExporter(z,A,v.getResource),processor:C},"publish.json":{exporter:D,processor:B},"outline.docx":{exporter:D,processor:C},"outline.md":{exporter:D,processor:C},"outline.txt":{exporter:D,processor:C}},m,f,d,h),F=new MM.iconEditor(y,v),G=new MM.Bookmark(t,j,"created-maps"),H=new MM.AutoSave(t,j,g,y),I=new MAPJS.ImageInsertController(a.corsProxyUrl,v.storeResource),J=new MM.MeasuresModel("measurements-config","measurements",u,new MM.MeasuresModel.ActivatedNodesFilter(y)),K=new MM.SplittableController(jQuery("body"),y,c,"splittableController","measuresSheet"),L=new MM.CustomStyleController(u,y),M=new MM.StoryboardController(z),N=new MM.CollaborationModel(y),O=new MM.Extensions(c,"active-extensions",a,{googleDriveAdapter:q,alert:g,mapController:t,activityLog:d,mapModel:y,container:jQuery("#container"),iconEditor:F,measuresModel:J,activeContentListener:u,navigation:x,collaborationModel:N,modalConfirm:i}),P=function(){var e=jQuery("body").hasClass("ios")||jQuery("body").hasClass("android");e?jQuery("[data-mm-role-touch]").attr("data-mm-role",function(){return jQuery(this).attr("data-mm-role-touch")}):jQuery("[rel=tooltip]").tooltip(),MAPJS.DOMRender.stageVisibilityMargin={top:50,left:10,bottom:20,right:20},MAPJS.DOMRender.stageMargin={top:50,left:50,bottom:50,right:50},jQuery("[data-mm-layout][data-mm-layout!="+a.layout+"]").remove(),jQuery("body").mapStatusWidget(t,u),jQuery("#container").domMapWidget(d,y,e,I,jQuery("#splittable"),v.getResource).storyboardKeyHandlerWidget(M,z,y,"+"),jQuery("#welcome_message[data-message]").welcomeMessageWidget(d),jQuery("#topbar").mapToolbarWidget(y),b=jQuery.fn.colorPicker.showPalette,jQuery.fn.colorPicker.showPalette=function(a){b(a),a.hasClass("topbar-color-picker")&&a.css("top",jQuery("#topbar").outerHeight())},jQuery("#toolbarEdit").mapToolbarWidget(y),jQuery("#floating-toolbar").floatingToolbarWidget(),jQuery("#floating-collaborators").floatingToolbarWidget(),jQuery("#listBookmarks").bookmarkWidget(G,g,t),jQuery(document).titleUpdateWidget(t),jQuery("[data-mm-role=share-google]").googleShareWidget(t,q),jQuery("#modalImport").importWidget(d,t),jQuery("[data-mm-role=save]").saveWidget(t),jQuery('[data-mm-role="toggle-class"]').toggleClassWidget(),jQuery('[data-mm-role="remote-export"]').remoteExportWidget(t,g,J,m,f,i),jQuery("[data-mm-role~=layout-export]").layoutExportWidget(E),jQuery("#modalPresentationExport").sendToGoogleDriveWidget(q),jQuery("#modalOutlineExport").sendToGoogleDriveWidget(q),jQuery("[data-mm-role~=atlas-publish]").atlasPrepopulationWidget(u,40,150),jQuery("[data-mm-role~=google-drive-open]").googleDriveOpenWidget(q,t,i,d),jQuery("#modalGoldStorageOpen").goldStorageOpenWidget(n,t),jQuery("body").commandLineWidget("Shift+Space Ctrl+Space",y).searchWidget("Meta+F Ctrl+F",y),jQuery("#modalAttachmentEditor").attachmentEditorWidget(y,e),jQuery("#modalAutoSave").autoSaveWidget(H),jQuery("#linkEditWidget").linkEditWidget(y),jQuery("#modalExtensions").extensionsWidget(O,t,g),jQuery("#nodeContextMenu").contextMenuWidget(y).mapToolbarWidget(y),jQuery(".dropdown-submenu>a").click(function(){return!1}),jQuery("[data-category]").trackingWidget(d),jQuery("#modalKeyActions").keyActionsWidget(),jQuery("#topbar .updateStyle").attr("data-mm-align","top").colorPicker(),jQuery(".colorPicker-palette").addClass("topbar-color-picker"),jQuery(".updateStyle[data-mm-align!=top]").colorPicker(),jQuery(".colorPicker-picker").parent("a,button").click(function(a){a.target===this&&jQuery(this).find(".colorPicker-picker").click();

}),jQuery("#modalGoldLicense").goldLicenseEntryWidget(l,m,d,window,p,h),jQuery("#modalIconEdit").iconEditorWidget(F,a.corsProxyUrl),jQuery("#measuresSheet").measuresSheetWidget(J),jQuery("[data-mm-role=measures-display-control]").measuresDisplayControlWidget(J,y),jQuery(".modal.huge").scalableModalWidget(),jQuery("[data-mm-role=new-from-clipboard]").newFromClipboardWidget(w,t,s),MM.setImageAlertWidget(I,g),jQuery("#anon-alert-template").anonSaveAlertWidget(g,t,o,c,"anon-alert-disabled"),jQuery('[data-mm-role="legacy-alert"]').legacyAlertWidget(c,"legacy-alert-disabled",jQuery("body"),g),jQuery("body").splitFlipWidget(K,"[data-mm-role=split-flip]",y,"Alt+o"),jQuery("#storyboard").storyboardWidget(M,z,A,y),jQuery("[data-mm-role=storyboard-menu]").storyboardMenuWidget(M,z,y),jQuery("[data-mm-role=optional-content]").optionalContentWidget(y,K),jQuery("#customStyleModal").customStyleWidget(L),jQuery("[data-mm-role~=new-map]").newMapWidget(t),jQuery("#container").collaboratorPhotoWidget(N,MM.deferredImageLoader,"mm-collaborator"),jQuery("#floating-collaborators").collaboratorListWidget(N,"mm-has-collaborators"),jQuery(".modal").modalLauncherWidget(y),jQuery("input[data-mm-role~=selectable-read-only]").selectableReadOnlyInputWidget(),jQuery("textarea[data-mm-role~=selectable-read-only]").selectableReadOnlyInputWidget(),jQuery("#collaboratorSpeechBubble").collaboratorSpeechBubbleWidget(N)};a.activeContentConfiguration={nonClonedAttributes:["storyboards","storyboard-scenes","measurements-config"]},jQuery.fn.colorPicker.defaults.colors=["000000","993300","333300","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","999999","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFFF","FFFFFF","transparent"],jQuery.fn.colorPicker.defaults.pickerDefault="transparent",jQuery.support.cors=!0,e(d,y),jQuery("body").classCachingWidget("cached-classes",c),MM.MapController.activityTracking(t,d),MM.MapController.alerts(t,g,i),MM.measuresModelMediator(y,J),t.addEventListener("mapLoaded",function(b,c){c.setConfiguration(a.activeContentConfiguration),y.setIdea(c)}),c.fake&&(g.show("Browser storage unavailable!","You might be running the app in private mode or have no browser storage - some features of this application will not work fully.","warning"),d.log("Warning","Local storage not available")),jQuery("#topbar").alertWidget(g),window.mmtimestamp&&window.mmtimestamp.log("mm initialized"),_.each(jQuery("a"),function(a){/^mailto:/.test(a.href)&&(a.target="mailtoIframe")}),O.load(x.initialMapId()).then(function(){window.mmtimestamp&&window.mmtimestamp.log("extensions loaded"),jQuery("[data-mm-clone]").each(function(){var a=jQuery(this),b=jQuery(a.data("mm-clone"));b.children().clone(!0).appendTo(a),a.attr("data-mm-role",b.attr("data-mm-role"))}),P(),window.mmtimestamp&&window.mmtimestamp.log("ui loaded"),x.loadInitial()||jQuery("#logo-img").click()})})};
//# sourceMappingURL=mm-compiled.min.js.map